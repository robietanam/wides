var hS=Object.create,x0=Object.defineProperty,fS=Object.getOwnPropertyDescriptor,mS=Object.getOwnPropertyNames,gS=Object.getPrototypeOf,bS=Object.prototype.hasOwnProperty,Ap=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),yS=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of mS(t))!bS.call(e,i)&&i!==n&&x0(e,i,{get:()=>t[i],enumerable:!(r=fS(t,i))||r.enumerable});return e},Cp=(e,t,n)=>(n=e!=null?hS(gS(e)):{},yS(x0(n,"default",{value:e,enumerable:!0}),e)),vS=Ap((e,t)=>{function n(x){return x instanceof Map?x.clear=x.delete=x.set=function(){throw new Error("map is read-only")}:x instanceof Set&&(x.add=x.clear=x.delete=function(){throw new Error("set is read-only")}),Object.freeze(x),Object.getOwnPropertyNames(x).forEach(j=>{let Y=x[j],Ne=typeof Y;(Ne==="object"||Ne==="function")&&!Object.isFrozen(Y)&&n(Y)}),x}var r=class{constructor(x){x.data===void 0&&(x.data={}),this.data=x.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function i(x){return x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function s(x,...j){let Y=Object.create(null);for(let Ne in x)Y[Ne]=x[Ne];return j.forEach(function(Ne){for(let gt in Ne)Y[gt]=Ne[gt]}),Y}var a="</span>",c=x=>!!x.scope,u=(x,{prefix:j})=>{if(x.startsWith("language:"))return x.replace("language:","language-");if(x.includes(".")){let Y=x.split(".");return[`${j}${Y.shift()}`,...Y.map((Ne,gt)=>`${Ne}${"_".repeat(gt+1)}`)].join(" ")}return`${j}${x}`},p=class{constructor(x,j){this.buffer="",this.classPrefix=j.classPrefix,x.walk(this)}addText(x){this.buffer+=i(x)}openNode(x){if(!c(x))return;let j=u(x.scope,{prefix:this.classPrefix});this.span(j)}closeNode(x){c(x)&&(this.buffer+=a)}value(){return this.buffer}span(x){this.buffer+=`<span class="${x}">`}},h=(x={})=>{let j={children:[]};return Object.assign(j,x),j},m=class S0{constructor(){this.rootNode=h(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(j){this.top.children.push(j)}openNode(j){let Y=h({scope:j});this.add(Y),this.stack.push(Y)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(j){return this.constructor._walk(j,this.rootNode)}static _walk(j,Y){return typeof Y=="string"?j.addText(Y):Y.children&&(j.openNode(Y),Y.children.forEach(Ne=>this._walk(j,Ne)),j.closeNode(Y)),j}static _collapse(j){typeof j!="string"&&j.children&&(j.children.every(Y=>typeof Y=="string")?j.children=[j.children.join("")]:j.children.forEach(Y=>{S0._collapse(Y)}))}},g=class extends m{constructor(x){super(),this.options=x}addText(x){x!==""&&this.add(x)}startScope(x){this.openNode(x)}endScope(){this.closeNode()}__addSublanguage(x,j){let Y=x.root;j&&(Y.scope=`language:${j}`),this.add(Y)}toHTML(){return new p(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}};function b(x){return x?typeof x=="string"?x:x.source:null}function v(x){return T("(?=",x,")")}function E(x){return T("(?:",x,")*")}function k(x){return T("(?:",x,")?")}function T(...x){return x.map(j=>b(j)).join("")}function B(x){let j=x[x.length-1];return typeof j=="object"&&j.constructor===Object?(x.splice(x.length-1,1),j):{}}function L(...x){return"("+(B(x).capture?"":"?:")+x.map(j=>b(j)).join("|")+")"}function A(x){return new RegExp(x.toString()+"|").exec("").length-1}function U(x,j){let Y=x&&x.exec(j);return Y&&Y.index===0}var $=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function q(x,{joinWith:j}){let Y=0;return x.map(Ne=>{Y+=1;let gt=Y,ut=b(Ne),ae="";for(;ut.length>0;){let te=$.exec(ut);if(!te){ae+=ut;break}ae+=ut.substring(0,te.index),ut=ut.substring(te.index+te[0].length),te[0][0]==="\\"&&te[1]?ae+="\\"+String(Number(te[1])+gt):(ae+=te[0],te[0]==="("&&Y++)}return ae}).map(Ne=>`(${Ne})`).join(j)}var ne=/\b\B/,J="[a-zA-Z]\\w*",pe="[a-zA-Z_]\\w*",ke="\\b\\d+(\\.\\d+)?",be="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",ue="\\b(0b[01]+)",ze="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",De=(x={})=>{let j=/^#![ ]*\//;return x.binary&&(x.begin=T(j,/.*\b/,x.binary,/\b.*/)),s({scope:"meta",begin:j,end:/$/,relevance:0,"on:begin":(Y,Ne)=>{Y.index!==0&&Ne.ignoreMatch()}},x)},Oe={begin:"\\\\[\\s\\S]",relevance:0},N={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Oe]},H={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Oe]},re={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},se=function(x,j,Y={}){let Ne=s({scope:"comment",begin:x,end:j,contains:[]},Y);Ne.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});let gt=L("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return Ne.contains.push({begin:T(/[ ]+/,"(",gt,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),Ne},he=se("//","$"),Pe=se("/\\*","\\*/"),vt=se("#","$"),wt={scope:"number",begin:ke,relevance:0},Ke={scope:"number",begin:be,relevance:0},it={scope:"number",begin:ue,relevance:0},sn={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[Oe,{begin:/\[/,end:/\]/,relevance:0,contains:[Oe]}]}]},At={scope:"title",begin:J,relevance:0},Fe={scope:"title",begin:pe,relevance:0},Zt={begin:"\\.\\s*"+pe,relevance:0},Ut=function(x){return Object.assign(x,{"on:begin":(j,Y)=>{Y.data._beginMatch=j[1]},"on:end":(j,Y)=>{Y.data._beginMatch!==j[1]&&Y.ignoreMatch()}})},Kt=Object.freeze({__proto__:null,MATCH_NOTHING_RE:ne,IDENT_RE:J,UNDERSCORE_IDENT_RE:pe,NUMBER_RE:ke,C_NUMBER_RE:be,BINARY_NUMBER_RE:ue,RE_STARTERS_RE:ze,SHEBANG:De,BACKSLASH_ESCAPE:Oe,APOS_STRING_MODE:N,QUOTE_STRING_MODE:H,PHRASAL_WORDS_MODE:re,COMMENT:se,C_LINE_COMMENT_MODE:he,C_BLOCK_COMMENT_MODE:Pe,HASH_COMMENT_MODE:vt,NUMBER_MODE:wt,C_NUMBER_MODE:Ke,BINARY_NUMBER_MODE:it,REGEXP_MODE:sn,TITLE_MODE:At,UNDERSCORE_TITLE_MODE:Fe,METHOD_GUARD:Zt,END_SAME_AS_BEGIN:Ut});function Wn(x,j){x.input[x.index-1]==="."&&j.ignoreMatch()}function mt(x,j){x.className!==void 0&&(x.scope=x.className,delete x.className)}function fn(x,j){j&&x.beginKeywords&&(x.begin="\\b("+x.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",x.__beforeBegin=Wn,x.keywords=x.keywords||x.beginKeywords,delete x.beginKeywords,x.relevance===void 0&&(x.relevance=0))}function Tt(x,j){Array.isArray(x.illegal)&&(x.illegal=L(...x.illegal))}function Bt(x,j){if(x.match){if(x.begin||x.end)throw new Error("begin & end are not supported with match");x.begin=x.match,delete x.match}}function Rn(x,j){x.relevance===void 0&&(x.relevance=1)}var me=(x,j)=>{if(!x.beforeMatch)return;if(x.starts)throw new Error("beforeMatch cannot be used with starts");let Y=Object.assign({},x);Object.keys(x).forEach(Ne=>{delete x[Ne]}),x.keywords=Y.keywords,x.begin=T(Y.beforeMatch,v(Y.begin)),x.starts={relevance:0,contains:[Object.assign(Y,{endsParent:!0})]},x.relevance=0,delete Y.beforeMatch},Ot=["of","and","for","in","not","or","if","then","parent","list","value"],Ie="keyword";function Be(x,j,Y=Ie){let Ne=Object.create(null);return typeof x=="string"?gt(Y,x.split(" ")):Array.isArray(x)?gt(Y,x):Object.keys(x).forEach(function(ut){Object.assign(Ne,Be(x[ut],j,ut))}),Ne;function gt(ut,ae){j&&(ae=ae.map(te=>te.toLowerCase())),ae.forEach(function(te){let _e=te.split("|");Ne[_e[0]]=[ut,$t(_e[0],_e[1])]})}}function $t(x,j){return j?Number(j):Xt(x)?0:1}function Xt(x){return Ot.includes(x.toLowerCase())}var Qt={},qt=x=>{console.error(x)},W=(x,...j)=>{console.log(`WARN: ${x}`,...j)},Z=(x,j)=>{Qt[`${x}/${j}`]||(console.log(`Deprecated as of ${x}. ${j}`),Qt[`${x}/${j}`]=!0)},ye=new Error;function qe(x,j,{key:Y}){let Ne=0,gt=x[Y],ut={},ae={};for(let te=1;te<=j.length;te++)ae[te+Ne]=gt[te],ut[te+Ne]=!0,Ne+=A(j[te-1]);x[Y]=ae,x[Y]._emit=ut,x[Y]._multi=!0}function pt(x){if(Array.isArray(x.begin)){if(x.skip||x.excludeBegin||x.returnBegin)throw qt("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),ye;if(typeof x.beginScope!="object"||x.beginScope===null)throw qt("beginScope must be object"),ye;qe(x,x.begin,{key:"beginScope"}),x.begin=q(x.begin,{joinWith:""})}}function Yt(x){if(Array.isArray(x.end)){if(x.skip||x.excludeEnd||x.returnEnd)throw qt("skip, excludeEnd, returnEnd not compatible with endScope: {}"),ye;if(typeof x.endScope!="object"||x.endScope===null)throw qt("endScope must be object"),ye;qe(x,x.end,{key:"endScope"}),x.end=q(x.end,{joinWith:""})}}function Rr(x){x.scope&&typeof x.scope=="object"&&x.scope!==null&&(x.beginScope=x.scope,delete x.scope)}function D(x){Rr(x),typeof x.beginScope=="string"&&(x.beginScope={_wrap:x.beginScope}),typeof x.endScope=="string"&&(x.endScope={_wrap:x.endScope}),pt(x),Yt(x)}function ie(x){function j(ae,te){return new RegExp(b(ae),"m"+(x.case_insensitive?"i":"")+(x.unicodeRegex?"u":"")+(te?"g":""))}class Y{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(te,_e){_e.position=this.position++,this.matchIndexes[this.matchAt]=_e,this.regexes.push([_e,te]),this.matchAt+=A(te)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);let te=this.regexes.map(_e=>_e[1]);this.matcherRe=j(q(te,{joinWith:"|"}),!0),this.lastIndex=0}exec(te){this.matcherRe.lastIndex=this.lastIndex;let _e=this.matcherRe.exec(te);if(!_e)return null;let Nt=_e.findIndex((Si,Vo)=>Vo>0&&Si!==void 0),_t=this.matchIndexes[Nt];return _e.splice(0,Nt),Object.assign(_e,_t)}}class Ne{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(te){if(this.multiRegexes[te])return this.multiRegexes[te];let _e=new Y;return this.rules.slice(te).forEach(([Nt,_t])=>_e.addRule(Nt,_t)),_e.compile(),this.multiRegexes[te]=_e,_e}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(te,_e){this.rules.push([te,_e]),_e.type==="begin"&&this.count++}exec(te){let _e=this.getMatcher(this.regexIndex);_e.lastIndex=this.lastIndex;let Nt=_e.exec(te);if(this.resumingScanAtSamePosition()&&!(Nt&&Nt.index===this.lastIndex)){let _t=this.getMatcher(0);_t.lastIndex=this.lastIndex+1,Nt=_t.exec(te)}return Nt&&(this.regexIndex+=Nt.position+1,this.regexIndex===this.count&&this.considerAll()),Nt}}function gt(ae){let te=new Ne;return ae.contains.forEach(_e=>te.addRule(_e.begin,{rule:_e,type:"begin"})),ae.terminatorEnd&&te.addRule(ae.terminatorEnd,{type:"end"}),ae.illegal&&te.addRule(ae.illegal,{type:"illegal"}),te}function ut(ae,te){let _e=ae;if(ae.isCompiled)return _e;[mt,Bt,D,me].forEach(_t=>_t(ae,te)),x.compilerExtensions.forEach(_t=>_t(ae,te)),ae.__beforeBegin=null,[fn,Tt,Rn].forEach(_t=>_t(ae,te)),ae.isCompiled=!0;let Nt=null;return typeof ae.keywords=="object"&&ae.keywords.$pattern&&(ae.keywords=Object.assign({},ae.keywords),Nt=ae.keywords.$pattern,delete ae.keywords.$pattern),Nt=Nt||/\w+/,ae.keywords&&(ae.keywords=Be(ae.keywords,x.case_insensitive)),_e.keywordPatternRe=j(Nt,!0),te&&(ae.begin||(ae.begin=/\B|\b/),_e.beginRe=j(_e.begin),!ae.end&&!ae.endsWithParent&&(ae.end=/\B|\b/),ae.end&&(_e.endRe=j(_e.end)),_e.terminatorEnd=b(_e.end)||"",ae.endsWithParent&&te.terminatorEnd&&(_e.terminatorEnd+=(ae.end?"|":"")+te.terminatorEnd)),ae.illegal&&(_e.illegalRe=j(ae.illegal)),ae.contains||(ae.contains=[]),ae.contains=[].concat(...ae.contains.map(function(_t){return Ze(_t==="self"?ae:_t)})),ae.contains.forEach(function(_t){ut(_t,_e)}),ae.starts&&ut(ae.starts,te),_e.matcher=gt(_e),_e}if(x.compilerExtensions||(x.compilerExtensions=[]),x.contains&&x.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return x.classNameAliases=s(x.classNameAliases||{}),ut(x)}function fe(x){return x?x.endsWithParent||fe(x.starts):!1}function Ze(x){return x.variants&&!x.cachedVariants&&(x.cachedVariants=x.variants.map(function(j){return s(x,{variants:null},j)})),x.cachedVariants?x.cachedVariants:fe(x)?s(x,{starts:x.starts?s(x.starts):null}):Object.isFrozen(x)?s(x):x}var We="11.8.0",Ht=class extends Error{constructor(x,j){super(x),this.name="HTMLInjectionError",this.html=j}},Wt=i,Vn=s,wr=Symbol("nomatch"),ur=7,Dr=function(x){let j=Object.create(null),Y=Object.create(null),Ne=[],gt=!0,ut="Could not find the language '{}', did you forget to load/include a language module?",ae={disableAutodetect:!0,name:"Plain text",contains:[]},te={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:g};function _e(V){return te.noHighlightRe.test(V)}function Nt(V){let de=V.className+" ";de+=V.parentNode?V.parentNode.className:"";let Ve=te.languageDetectRe.exec(de);if(Ve){let nt=Dn(Ve[1]);return nt||(W(ut.replace("{}",Ve[1])),W("Falling back to no-highlight mode for this block.",V)),nt?Ve[1]:"no-highlight"}return de.split(/\s+/).find(nt=>_e(nt)||Dn(nt))}function _t(V,de,Ve){let nt="",kt="";typeof de=="object"?(nt=V,Ve=de.ignoreIllegals,kt=de.language):(Z("10.7.0","highlight(lang, code, ...args) has been deprecated."),Z("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),kt=V,nt=de),Ve===void 0&&(Ve=!0);let In={code:nt,language:kt};Ai("before:highlight",In);let Gn=In.result?In.result:Si(In.language,In.code,Ve);return Gn.code=In.code,Ai("after:highlight",Gn),Gn}function Si(V,de,Ve,nt){let kt=Object.create(null);function In(X,ce){return X.keywords[ce]}function Gn(){if(!Ae.keywords){Lt.addText(ot);return}let X=0;Ae.keywordPatternRe.lastIndex=0;let ce=Ae.keywordPatternRe.exec(ot),Le="";for(;ce;){Le+=ot.substring(X,ce.index);let et=en.case_insensitive?ce[0].toLowerCase():ce[0],Vt=In(Ae,et);if(Vt){let[Bn,nu]=Vt;if(Lt.addText(Le),Le="",kt[et]=(kt[et]||0)+1,kt[et]<=ur&&(Ci+=nu),Bn.startsWith("_"))Le+=ce[0];else{let ru=en.classNameAliases[Bn]||Bn;gn(ce[0],ru)}}else Le+=ce[0];X=Ae.keywordPatternRe.lastIndex,ce=Ae.keywordPatternRe.exec(ot)}Le+=ot.substring(X),Lt.addText(Le)}function io(){if(ot==="")return;let X=null;if(typeof Ae.subLanguage=="string"){if(!j[Ae.subLanguage]){Lt.addText(ot);return}X=Si(Ae.subLanguage,ot,!0,Yo[Ae.subLanguage]),Yo[Ae.subLanguage]=X._top}else X=Go(ot,Ae.subLanguage.length?Ae.subLanguage:null);Ae.relevance>0&&(Ci+=X.relevance),Lt.__addSublanguage(X._emitter,X.language)}function an(){Ae.subLanguage!=null?io():Gn(),ot=""}function gn(X,ce){X!==""&&(Lt.startScope(ce),Lt.addText(X),Lt.endScope())}function Zo(X,ce){let Le=1,et=ce.length-1;for(;Le<=et;){if(!X._emit[Le]){Le++;continue}let Vt=en.classNameAliases[X[Le]]||X[Le],Bn=ce[Le];Vt?gn(Bn,Vt):(ot=Bn,Gn(),ot=""),Le++}}function pa(X,ce){return X.scope&&typeof X.scope=="string"&&Lt.openNode(en.classNameAliases[X.scope]||X.scope),X.beginScope&&(X.beginScope._wrap?(gn(ot,en.classNameAliases[X.beginScope._wrap]||X.beginScope._wrap),ot=""):X.beginScope._multi&&(Zo(X.beginScope,ce),ot="")),Ae=Object.create(X,{parent:{value:Ae}}),Ae}function Xo(X,ce,Le){let et=U(X.endRe,Le);if(et){if(X["on:end"]){let Vt=new r(X);X["on:end"](ce,Vt),Vt.isMatchIgnored&&(et=!1)}if(et){for(;X.endsParent&&X.parent;)X=X.parent;return X}}if(X.endsWithParent)return Xo(X.parent,ce,Le)}function ha(X){return Ae.matcher.regexIndex===0?(ot+=X[0],1):(ts=!0,0)}function Qo(X){let ce=X[0],Le=X.rule,et=new r(Le),Vt=[Le.__beforeBegin,Le["on:begin"]];for(let Bn of Vt)if(Bn&&(Bn(X,et),et.isMatchIgnored))return ha(ce);return Le.skip?ot+=ce:(Le.excludeBegin&&(ot+=ce),an(),!Le.returnBegin&&!Le.excludeBegin&&(ot=ce)),pa(Le,X),Le.returnBegin?0:ce.length}function tu(X){let ce=X[0],Le=de.substring(X.index),et=Xo(Ae,X,Le);if(!et)return wr;let Vt=Ae;Ae.endScope&&Ae.endScope._wrap?(an(),gn(ce,Ae.endScope._wrap)):Ae.endScope&&Ae.endScope._multi?(an(),Zo(Ae.endScope,X)):Vt.skip?ot+=ce:(Vt.returnEnd||Vt.excludeEnd||(ot+=ce),an(),Vt.excludeEnd&&(ot=ce));do Ae.scope&&Lt.closeNode(),!Ae.skip&&!Ae.subLanguage&&(Ci+=Ae.relevance),Ae=Ae.parent;while(Ae!==et.parent);return et.starts&&pa(et.starts,X),Vt.returnEnd?0:ce.length}function fa(){let X=[];for(let ce=Ae;ce!==en;ce=ce.parent)ce.scope&&X.unshift(ce.scope);X.forEach(ce=>Lt.openNode(ce))}let Zr={};function oo(X,ce){let Le=ce&&ce[0];if(ot+=X,Le==null)return an(),0;if(Zr.type==="begin"&&ce.type==="end"&&Zr.index===ce.index&&Le===""){if(ot+=de.slice(ce.index,ce.index+1),!gt){let et=new Error(`0 width match regex (${V})`);throw et.languageName=V,et.badRule=Zr.rule,et}return 1}if(Zr=ce,ce.type==="begin")return Qo(ce);if(ce.type==="illegal"&&!Ve){let et=new Error('Illegal lexeme "'+Le+'" for mode "'+(Ae.scope||"<unnamed>")+'"');throw et.mode=Ae,et}else if(ce.type==="end"){let et=tu(ce);if(et!==wr)return et}if(ce.type==="illegal"&&Le==="")return 1;if(es>1e5&&es>ce.index*3)throw new Error("potential infinite loop, way more iterations than matches");return ot+=Le,Le.length}let en=Dn(V);if(!en)throw qt(ut.replace("{}",V)),new Error('Unknown language: "'+V+'"');let ma=ie(en),so="",Ae=nt||ma,Yo={},Lt=new te.__emitter(te);fa();let ot="",Ci=0,Ir=0,es=0,ts=!1;try{if(en.__emitTokens)en.__emitTokens(de,Lt);else{for(Ae.matcher.considerAll();;){es++,ts?ts=!1:Ae.matcher.considerAll(),Ae.matcher.lastIndex=Ir;let X=Ae.matcher.exec(de);if(!X)break;let ce=de.substring(Ir,X.index),Le=oo(ce,X);Ir=X.index+Le}oo(de.substring(Ir))}return Lt.finalize(),so=Lt.toHTML(),{language:V,value:so,relevance:Ci,illegal:!1,_emitter:Lt,_top:Ae}}catch(X){if(X.message&&X.message.includes("Illegal"))return{language:V,value:Wt(de),illegal:!0,relevance:0,_illegalBy:{message:X.message,index:Ir,context:de.slice(Ir-100,Ir+100),mode:X.mode,resultSoFar:so},_emitter:Lt};if(gt)return{language:V,value:Wt(de),illegal:!1,relevance:0,errorRaised:X,_emitter:Lt,_top:Ae};throw X}}function Vo(V){let de={value:Wt(V),illegal:!1,relevance:0,_top:ae,_emitter:new te.__emitter(te)};return de._emitter.addText(V),de}function Go(V,de){de=de||te.languages||Object.keys(j);let Ve=Vo(V),nt=de.filter(Dn).filter(ca).map(an=>Si(an,V,!1));nt.unshift(Ve);let kt=nt.sort((an,gn)=>{if(an.relevance!==gn.relevance)return gn.relevance-an.relevance;if(an.language&&gn.language){if(Dn(an.language).supersetOf===gn.language)return 1;if(Dn(gn.language).supersetOf===an.language)return-1}return 0}),[In,Gn]=kt,io=In;return io.secondBest=Gn,io}function Vc(V,de,Ve){let nt=de&&Y[de]||Ve;V.classList.add("hljs"),V.classList.add(`language-${nt}`)}function Jo(V){let de=null,Ve=Nt(V);if(_e(Ve))return;if(Ai("before:highlightElement",{el:V,language:Ve}),V.children.length>0&&(te.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(V)),te.throwUnescapedHTML))throw new Ht("One of your code blocks includes unescaped HTML.",V.innerHTML);de=V;let nt=de.textContent,kt=Ve?_t(nt,{language:Ve,ignoreIllegals:!0}):Go(nt);V.innerHTML=kt.value,Vc(V,Ve,kt.language),V.result={language:kt.language,re:kt.relevance,relevance:kt.relevance},kt.secondBest&&(V.secondBest={language:kt.secondBest.language,relevance:kt.secondBest.relevance}),Ai("after:highlightElement",{el:V,result:kt,text:nt})}function sa(V){te=Vn(te,V)}let Gc=()=>{no(),Z("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function Jc(){no(),Z("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let aa=!1;function no(){if(document.readyState==="loading"){aa=!0;return}document.querySelectorAll(te.cssSelector).forEach(Jo)}function Zc(){aa&&no()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",Zc,!1);function Xc(V,de){let Ve=null;try{Ve=de(x)}catch(nt){if(qt("Language definition for '{}' could not be registered.".replace("{}",V)),gt)qt(nt);else throw nt;Ve=ae}Ve.name||(Ve.name=V),j[V]=Ve,Ve.rawDefinition=de.bind(null,x),Ve.aliases&&la(Ve.aliases,{languageName:V})}function ro(V){delete j[V];for(let de of Object.keys(Y))Y[de]===V&&delete Y[de]}function Qc(){return Object.keys(j)}function Dn(V){return V=(V||"").toLowerCase(),j[V]||j[Y[V]]}function la(V,{languageName:de}){typeof V=="string"&&(V=[V]),V.forEach(Ve=>{Y[Ve.toLowerCase()]=de})}function ca(V){let de=Dn(V);return de&&!de.disableAutodetect}function Yc(V){V["before:highlightBlock"]&&!V["before:highlightElement"]&&(V["before:highlightElement"]=de=>{V["before:highlightBlock"](Object.assign({block:de.el},de))}),V["after:highlightBlock"]&&!V["after:highlightElement"]&&(V["after:highlightElement"]=de=>{V["after:highlightBlock"](Object.assign({block:de.el},de))})}function ua(V){Yc(V),Ne.push(V)}function da(V){let de=Ne.indexOf(V);de!==-1&&Ne.splice(de,1)}function Ai(V,de){let Ve=V;Ne.forEach(function(nt){nt[Ve]&&nt[Ve](de)})}function eu(V){return Z("10.7.0","highlightBlock will be removed entirely in v12.0"),Z("10.7.0","Please use highlightElement now."),Jo(V)}Object.assign(x,{highlight:_t,highlightAuto:Go,highlightAll:no,highlightElement:Jo,highlightBlock:eu,configure:sa,initHighlighting:Gc,initHighlightingOnLoad:Jc,registerLanguage:Xc,unregisterLanguage:ro,listLanguages:Qc,getLanguage:Dn,registerAliases:la,autoDetection:ca,inherit:Vn,addPlugin:ua,removePlugin:da}),x.debugMode=function(){gt=!1},x.safeMode=function(){gt=!0},x.versionString=We,x.regex={concat:T,lookahead:v,either:L,optional:k,anyNumberOfTimes:E};for(let V in Kt)typeof Kt[V]=="object"&&n(Kt[V]);return Object.assign(x,Kt),x},mn=Dr({});mn.newInstance=()=>Dr({}),t.exports=mn,mn.HighlightJS=mn,mn.default=mn}),wS=Ap((e,t)=>{(function(){var n;typeof t<"u"?n=t.exports=s:n=function(){return this||(0,eval)("this")}(),n.format=s,n.vsprintf=i,typeof console<"u"&&typeof console.log=="function"&&(n.printf=r);function r(){console.log(s.apply(null,arguments))}function i(a,c){return s.apply(null,[a].concat(c))}function s(a){for(var c=1,u=[].slice.call(arguments),p=0,h=a.length,m="",g,b=!1,v,E,k=!1,T,B=function(){return u[c++]},L=function(){for(var A="";/\d/.test(a[p]);)A+=a[p++],g=a[p];return A.length>0?parseInt(A):null};p<h;++p)if(g=a[p],b)switch(b=!1,g=="."?(k=!1,g=a[++p]):g=="0"&&a[p+1]=="."?(k=!0,p+=2,g=a[p]):k=!0,T=L(),g){case"b":m+=parseInt(B(),10).toString(2);break;case"c":v=B(),typeof v=="string"||v instanceof String?m+=v:m+=String.fromCharCode(parseInt(v,10));break;case"d":m+=parseInt(B(),10);break;case"f":E=String(parseFloat(B()).toFixed(T||6)),m+=k?E:E.replace(/^0/,"");break;case"j":m+=JSON.stringify(B());break;case"o":m+="0"+parseInt(B(),10).toString(8);break;case"s":m+=B();break;case"x":m+="0x"+parseInt(B(),10).toString(16);break;case"X":m+="0x"+parseInt(B(),10).toString(16).toUpperCase();break;default:m+=g;break}else g==="%"?b=!0:m+=g;return m}})()}),_S=Ap((e,t)=>{(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",p=500,h="__lodash_placeholder__",m=1,g=2,b=4,v=1,E=2,k=1,T=2,B=4,L=8,A=16,U=32,$=64,q=128,ne=256,J=512,pe=30,ke="...",be=800,ue=16,ze=1,De=2,Oe=3,N=1/0,H=9007199254740991,re=17976931348623157e292,se=NaN,he=4294967295,Pe=he-1,vt=he>>>1,wt=[["ary",q],["bind",k],["bindKey",T],["curry",L],["curryRight",A],["flip",J],["partial",U],["partialRight",$],["rearg",ne]],Ke="[object Arguments]",it="[object Array]",sn="[object AsyncFunction]",At="[object Boolean]",Fe="[object Date]",Zt="[object DOMException]",Ut="[object Error]",Kt="[object Function]",Wn="[object GeneratorFunction]",mt="[object Map]",fn="[object Number]",Tt="[object Null]",Bt="[object Object]",Rn="[object Promise]",me="[object Proxy]",Ot="[object RegExp]",Ie="[object Set]",Be="[object String]",$t="[object Symbol]",Xt="[object Undefined]",Qt="[object WeakMap]",qt="[object WeakSet]",W="[object ArrayBuffer]",Z="[object DataView]",ye="[object Float32Array]",qe="[object Float64Array]",pt="[object Int8Array]",Yt="[object Int16Array]",Rr="[object Int32Array]",D="[object Uint8Array]",ie="[object Uint8ClampedArray]",fe="[object Uint16Array]",Ze="[object Uint32Array]",We=/\b__p \+= '';/g,Ht=/\b(__p \+=) '' \+/g,Wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Vn=/&(?:amp|lt|gt|quot|#39);/g,wr=/[&<>"']/g,ur=RegExp(Vn.source),Dr=RegExp(wr.source),mn=/<%-([\s\S]+?)%>/g,x=/<%([\s\S]+?)%>/g,j=/<%=([\s\S]+?)%>/g,Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ne=/^\w*$/,gt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ut=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(ut.source),te=/^\s+/,_e=/\s/,Nt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,_t=/\{\n\/\* \[wrapped with (.+)\] \*/,Si=/,? & /,Vo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Go=/[()=,{}\[\]\/\s]/,Vc=/\\(\\)?/g,Jo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,sa=/\w*$/,Gc=/^[-+]0x[0-9a-f]+$/i,Jc=/^0b[01]+$/i,aa=/^\[object .+?Constructor\]$/,no=/^0o[0-7]+$/i,Zc=/^(?:0|[1-9]\d*)$/,Xc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ro=/($^)/,Qc=/['\n\r\u2028\u2029\\]/g,Dn="\\ud800-\\udfff",la="\\u0300-\\u036f",ca="\\ufe20-\\ufe2f",Yc="\\u20d0-\\u20ff",ua=la+ca+Yc,da="\\u2700-\\u27bf",Ai="a-z\\xdf-\\xf6\\xf8-\\xff",eu="\\xac\\xb1\\xd7\\xf7",V="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",de="\\u2000-\\u206f",Ve=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",nt="A-Z\\xc0-\\xd6\\xd8-\\xde",kt="\\ufe0e\\ufe0f",In=eu+V+de+Ve,Gn="['’]",io="["+Dn+"]",an="["+In+"]",gn="["+ua+"]",Zo="\\d+",pa="["+da+"]",Xo="["+Ai+"]",ha="[^"+Dn+In+Zo+da+Ai+nt+"]",Qo="\\ud83c[\\udffb-\\udfff]",tu="(?:"+gn+"|"+Qo+")",fa="[^"+Dn+"]",Zr="(?:\\ud83c[\\udde6-\\uddff]){2}",oo="[\\ud800-\\udbff][\\udc00-\\udfff]",en="["+nt+"]",ma="\\u200d",so="(?:"+Xo+"|"+ha+")",Ae="(?:"+en+"|"+ha+")",Yo="(?:"+Gn+"(?:d|ll|m|re|s|t|ve))?",Lt="(?:"+Gn+"(?:D|LL|M|RE|S|T|VE))?",ot=tu+"?",Ci="["+kt+"]?",Ir="(?:"+ma+"(?:"+[fa,Zr,oo].join("|")+")"+Ci+ot+")*",es="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ts="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",X=Ci+ot+Ir,ce="(?:"+[pa,Zr,oo].join("|")+")"+X,Le="(?:"+[fa+gn+"?",gn,Zr,oo,io].join("|")+")",et=RegExp(Gn,"g"),Vt=RegExp(gn,"g"),Bn=RegExp(Qo+"(?="+Qo+")|"+Le+X,"g"),nu=RegExp([en+"?"+Xo+"+"+Yo+"(?="+[an,en,"$"].join("|")+")",Ae+"+"+Lt+"(?="+[an,en+so,"$"].join("|")+")",en+"?"+so+"+"+Yo,en+"+"+Lt,ts,es,Zo,ce].join("|"),"g"),ru=RegExp("["+ma+Dn+ua+kt+"]"),Av=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Cv=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Mv=-1,dt={};dt[ye]=dt[qe]=dt[pt]=dt[Yt]=dt[Rr]=dt[D]=dt[ie]=dt[fe]=dt[Ze]=!0,dt[Ke]=dt[it]=dt[W]=dt[At]=dt[Z]=dt[Fe]=dt[Ut]=dt[Kt]=dt[mt]=dt[fn]=dt[Bt]=dt[Ot]=dt[Ie]=dt[Be]=dt[Qt]=!1;var at={};at[Ke]=at[it]=at[W]=at[Z]=at[At]=at[Fe]=at[ye]=at[qe]=at[pt]=at[Yt]=at[Rr]=at[mt]=at[fn]=at[Bt]=at[Ot]=at[Ie]=at[Be]=at[$t]=at[D]=at[ie]=at[fe]=at[Ze]=!0,at[Ut]=at[Kt]=at[Qt]=!1;var Tv={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Ov={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Nv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Lv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Rv=parseFloat,Dv=parseInt,gh=typeof global=="object"&&global&&global.Object===Object&&global,Iv=typeof self=="object"&&self&&self.Object===Object&&self,Gt=gh||Iv||Function("return this")(),iu=typeof e=="object"&&e&&!e.nodeType&&e,Mi=iu&&typeof t=="object"&&t&&!t.nodeType&&t,bh=Mi&&Mi.exports===iu,ou=bh&&gh.process,Jn=function(){try{var M=Mi&&Mi.require&&Mi.require("util").types;return M||ou&&ou.binding&&ou.binding("util")}catch{}}(),yh=Jn&&Jn.isArrayBuffer,vh=Jn&&Jn.isDate,wh=Jn&&Jn.isMap,_h=Jn&&Jn.isRegExp,kh=Jn&&Jn.isSet,Eh=Jn&&Jn.isTypedArray;function $n(M,I,R){switch(R.length){case 0:return M.call(I);case 1:return M.call(I,R[0]);case 2:return M.call(I,R[0],R[1]);case 3:return M.call(I,R[0],R[1],R[2])}return M.apply(I,R)}function Bv(M,I,R,oe){for(var Ce=-1,Ye=M==null?0:M.length;++Ce<Ye;){var zt=M[Ce];I(oe,zt,R(zt),M)}return oe}function Zn(M,I){for(var R=-1,oe=M==null?0:M.length;++R<oe&&I(M[R],R,M)!==!1;);return M}function $v(M,I){for(var R=M==null?0:M.length;R--&&I(M[R],R,M)!==!1;);return M}function xh(M,I){for(var R=-1,oe=M==null?0:M.length;++R<oe;)if(!I(M[R],R,M))return!1;return!0}function Xr(M,I){for(var R=-1,oe=M==null?0:M.length,Ce=0,Ye=[];++R<oe;){var zt=M[R];I(zt,R,M)&&(Ye[Ce++]=zt)}return Ye}function ga(M,I){var R=M==null?0:M.length;return!!R&&ao(M,I,0)>-1}function su(M,I,R){for(var oe=-1,Ce=M==null?0:M.length;++oe<Ce;)if(R(I,M[oe]))return!0;return!1}function ht(M,I){for(var R=-1,oe=M==null?0:M.length,Ce=Array(oe);++R<oe;)Ce[R]=I(M[R],R,M);return Ce}function Qr(M,I){for(var R=-1,oe=I.length,Ce=M.length;++R<oe;)M[Ce+R]=I[R];return M}function au(M,I,R,oe){var Ce=-1,Ye=M==null?0:M.length;for(oe&&Ye&&(R=M[++Ce]);++Ce<Ye;)R=I(R,M[Ce],Ce,M);return R}function Hv(M,I,R,oe){var Ce=M==null?0:M.length;for(oe&&Ce&&(R=M[--Ce]);Ce--;)R=I(R,M[Ce],Ce,M);return R}function lu(M,I){for(var R=-1,oe=M==null?0:M.length;++R<oe;)if(I(M[R],R,M))return!0;return!1}var zv=cu("length");function Fv(M){return M.split("")}function jv(M){return M.match(Vo)||[]}function Sh(M,I,R){var oe;return R(M,function(Ce,Ye,zt){if(I(Ce,Ye,zt))return oe=Ye,!1}),oe}function ba(M,I,R,oe){for(var Ce=M.length,Ye=R+(oe?1:-1);oe?Ye--:++Ye<Ce;)if(I(M[Ye],Ye,M))return Ye;return-1}function ao(M,I,R){return I===I?Yv(M,I,R):ba(M,Ah,R)}function Pv(M,I,R,oe){for(var Ce=R-1,Ye=M.length;++Ce<Ye;)if(oe(M[Ce],I))return Ce;return-1}function Ah(M){return M!==M}function Ch(M,I){var R=M==null?0:M.length;return R?du(M,I)/R:se}function cu(M){return function(I){return I==null?n:I[M]}}function uu(M){return function(I){return M==null?n:M[I]}}function Mh(M,I,R,oe,Ce){return Ce(M,function(Ye,zt,st){R=oe?(oe=!1,Ye):I(R,Ye,zt,st)}),R}function Uv(M,I){var R=M.length;for(M.sort(I);R--;)M[R]=M[R].value;return M}function du(M,I){for(var R,oe=-1,Ce=M.length;++oe<Ce;){var Ye=I(M[oe]);Ye!==n&&(R=R===n?Ye:R+Ye)}return R}function pu(M,I){for(var R=-1,oe=Array(M);++R<M;)oe[R]=I(R);return oe}function Kv(M,I){return ht(I,function(R){return[R,M[R]]})}function Th(M){return M&&M.slice(0,Rh(M)+1).replace(te,"")}function Hn(M){return function(I){return M(I)}}function hu(M,I){return ht(I,function(R){return M[R]})}function ns(M,I){return M.has(I)}function Oh(M,I){for(var R=-1,oe=M.length;++R<oe&&ao(I,M[R],0)>-1;);return R}function Nh(M,I){for(var R=M.length;R--&&ao(I,M[R],0)>-1;);return R}function qv(M,I){for(var R=M.length,oe=0;R--;)M[R]===I&&++oe;return oe}var Wv=uu(Tv),Vv=uu(Ov);function Gv(M){return"\\"+Lv[M]}function Jv(M,I){return M==null?n:M[I]}function lo(M){return ru.test(M)}function Zv(M){return Av.test(M)}function Xv(M){for(var I,R=[];!(I=M.next()).done;)R.push(I.value);return R}function fu(M){var I=-1,R=Array(M.size);return M.forEach(function(oe,Ce){R[++I]=[Ce,oe]}),R}function Lh(M,I){return function(R){return M(I(R))}}function Yr(M,I){for(var R=-1,oe=M.length,Ce=0,Ye=[];++R<oe;){var zt=M[R];(zt===I||zt===h)&&(M[R]=h,Ye[Ce++]=R)}return Ye}function ya(M){var I=-1,R=Array(M.size);return M.forEach(function(oe){R[++I]=oe}),R}function Qv(M){var I=-1,R=Array(M.size);return M.forEach(function(oe){R[++I]=[oe,oe]}),R}function Yv(M,I,R){for(var oe=R-1,Ce=M.length;++oe<Ce;)if(M[oe]===I)return oe;return-1}function ew(M,I,R){for(var oe=R+1;oe--;)if(M[oe]===I)return oe;return oe}function co(M){return lo(M)?nw(M):zv(M)}function dr(M){return lo(M)?rw(M):Fv(M)}function Rh(M){for(var I=M.length;I--&&_e.test(M.charAt(I)););return I}var tw=uu(Nv);function nw(M){for(var I=Bn.lastIndex=0;Bn.test(M);)++I;return I}function rw(M){return M.match(Bn)||[]}function iw(M){return M.match(nu)||[]}var ow=function M(I){I=I==null?Gt:ei.defaults(Gt.Object(),I,ei.pick(Gt,Cv));var R=I.Array,oe=I.Date,Ce=I.Error,Ye=I.Function,zt=I.Math,st=I.Object,mu=I.RegExp,sw=I.String,Xn=I.TypeError,va=R.prototype,aw=Ye.prototype,uo=st.prototype,wa=I["__core-js_shared__"],_a=aw.toString,rt=uo.hasOwnProperty,lw=0,Dh=function(){var o=/[^.]+$/.exec(wa&&wa.keys&&wa.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),ka=uo.toString,cw=_a.call(st),uw=Gt._,dw=mu("^"+_a.call(rt).replace(ut,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ea=bh?I.Buffer:n,ti=I.Symbol,xa=I.Uint8Array,Ih=Ea?Ea.allocUnsafe:n,Sa=Lh(st.getPrototypeOf,st),Bh=st.create,$h=uo.propertyIsEnumerable,Aa=va.splice,Hh=ti?ti.isConcatSpreadable:n,rs=ti?ti.iterator:n,Ti=ti?ti.toStringTag:n,Ca=function(){try{var o=Di(st,"defineProperty");return o({},"",{}),o}catch{}}(),pw=I.clearTimeout!==Gt.clearTimeout&&I.clearTimeout,hw=oe&&oe.now!==Gt.Date.now&&oe.now,fw=I.setTimeout!==Gt.setTimeout&&I.setTimeout,Ma=zt.ceil,Ta=zt.floor,gu=st.getOwnPropertySymbols,mw=Ea?Ea.isBuffer:n,zh=I.isFinite,gw=va.join,bw=Lh(st.keys,st),Ft=zt.max,ln=zt.min,yw=oe.now,vw=I.parseInt,Fh=zt.random,ww=va.reverse,bu=Di(I,"DataView"),is=Di(I,"Map"),yu=Di(I,"Promise"),po=Di(I,"Set"),ss=Di(I,"WeakMap"),as=Di(st,"create"),Oa=ss&&new ss,ho={},_w=Ii(bu),kw=Ii(is),Ew=Ii(yu),xw=Ii(po),Sw=Ii(ss),Na=ti?ti.prototype:n,ls=Na?Na.valueOf:n,jh=Na?Na.toString:n;function w(o){if(Et(o)&&!Te(o)&&!(o instanceof Je)){if(o instanceof Qn)return o;if(rt.call(o,"__wrapped__"))return Uf(o)}return new Qn(o)}var fo=function(){function o(){}return function(l){if(!bt(l))return{};if(Bh)return Bh(l);o.prototype=l;var d=new o;return o.prototype=n,d}}();function La(){}function Qn(o,l){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=n}w.templateSettings={escape:mn,evaluate:x,interpolate:j,variable:"",imports:{_:w}},w.prototype=La.prototype,w.prototype.constructor=w,Qn.prototype=fo(La.prototype),Qn.prototype.constructor=Qn;function Je(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=he,this.__views__=[]}function Aw(){var o=new Je(this.__wrapped__);return o.__actions__=En(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=En(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=En(this.__views__),o}function Cw(){if(this.__filtered__){var o=new Je(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function Mw(){var o=this.__wrapped__.value(),l=this.__dir__,d=Te(o),f=l<0,y=d?o.length:0,_=F1(0,y,this.__views__),S=_.start,C=_.end,O=C-S,z=f?C:S-1,F=this.__iteratees__,P=F.length,Q=0,le=ln(O,this.__takeCount__);if(!d||!f&&y==O&&le==O)return pf(o,this.__actions__);var ve=[];e:for(;O--&&Q<le;){z+=l;for(var $e=-1,we=o[z];++$e<P;){var Ge=F[$e],Xe=Ge.iteratee,jn=Ge.type,vn=Xe(we);if(jn==De)we=vn;else if(!vn){if(jn==ze)continue e;break e}}ve[Q++]=we}return ve}Je.prototype=fo(La.prototype),Je.prototype.constructor=Je;function Oi(o){var l=-1,d=o==null?0:o.length;for(this.clear();++l<d;){var f=o[l];this.set(f[0],f[1])}}function Tw(){this.__data__=as?as(null):{},this.size=0}function Ow(o){var l=this.has(o)&&delete this.__data__[o];return this.size-=l?1:0,l}function Nw(o){var l=this.__data__;if(as){var d=l[o];return d===u?n:d}return rt.call(l,o)?l[o]:n}function Lw(o){var l=this.__data__;return as?l[o]!==n:rt.call(l,o)}function Rw(o,l){var d=this.__data__;return this.size+=this.has(o)?0:1,d[o]=as&&l===n?u:l,this}Oi.prototype.clear=Tw,Oi.prototype.delete=Ow,Oi.prototype.get=Nw,Oi.prototype.has=Lw,Oi.prototype.set=Rw;function Br(o){var l=-1,d=o==null?0:o.length;for(this.clear();++l<d;){var f=o[l];this.set(f[0],f[1])}}function Dw(){this.__data__=[],this.size=0}function Iw(o){var l=this.__data__,d=Ra(l,o);if(d<0)return!1;var f=l.length-1;return d==f?l.pop():Aa.call(l,d,1),--this.size,!0}function Bw(o){var l=this.__data__,d=Ra(l,o);return d<0?n:l[d][1]}function $w(o){return Ra(this.__data__,o)>-1}function Hw(o,l){var d=this.__data__,f=Ra(d,o);return f<0?(++this.size,d.push([o,l])):d[f][1]=l,this}Br.prototype.clear=Dw,Br.prototype.delete=Iw,Br.prototype.get=Bw,Br.prototype.has=$w,Br.prototype.set=Hw;function $r(o){var l=-1,d=o==null?0:o.length;for(this.clear();++l<d;){var f=o[l];this.set(f[0],f[1])}}function zw(){this.size=0,this.__data__={hash:new Oi,map:new(is||Br),string:new Oi}}function Fw(o){var l=qa(this,o).delete(o);return this.size-=l?1:0,l}function jw(o){return qa(this,o).get(o)}function Pw(o){return qa(this,o).has(o)}function Uw(o,l){var d=qa(this,o),f=d.size;return d.set(o,l),this.size+=d.size==f?0:1,this}$r.prototype.clear=zw,$r.prototype.delete=Fw,$r.prototype.get=jw,$r.prototype.has=Pw,$r.prototype.set=Uw;function Ni(o){var l=-1,d=o==null?0:o.length;for(this.__data__=new $r;++l<d;)this.add(o[l])}function Kw(o){return this.__data__.set(o,u),this}function qw(o){return this.__data__.has(o)}Ni.prototype.add=Ni.prototype.push=Kw,Ni.prototype.has=qw;function pr(o){var l=this.__data__=new Br(o);this.size=l.size}function Ww(){this.__data__=new Br,this.size=0}function Vw(o){var l=this.__data__,d=l.delete(o);return this.size=l.size,d}function Gw(o){return this.__data__.get(o)}function Jw(o){return this.__data__.has(o)}function Zw(o,l){var d=this.__data__;if(d instanceof Br){var f=d.__data__;if(!is||f.length<i-1)return f.push([o,l]),this.size=++d.size,this;d=this.__data__=new $r(f)}return d.set(o,l),this.size=d.size,this}pr.prototype.clear=Ww,pr.prototype.delete=Vw,pr.prototype.get=Gw,pr.prototype.has=Jw,pr.prototype.set=Zw;function Ph(o,l){var d=Te(o),f=!d&&Bi(o),y=!d&&!f&&si(o),_=!d&&!f&&!y&&yo(o),S=d||f||y||_,C=S?pu(o.length,sw):[],O=C.length;for(var z in o)(l||rt.call(o,z))&&!(S&&(z=="length"||y&&(z=="offset"||z=="parent")||_&&(z=="buffer"||z=="byteLength"||z=="byteOffset")||jr(z,O)))&&C.push(z);return C}function Uh(o){var l=o.length;return l?o[Tu(0,l-1)]:n}function Xw(o,l){return Wa(En(o),Li(l,0,o.length))}function Qw(o){return Wa(En(o))}function vu(o,l,d){(d!==n&&!hr(o[l],d)||d===n&&!(l in o))&&Hr(o,l,d)}function cs(o,l,d){var f=o[l];(!(rt.call(o,l)&&hr(f,d))||d===n&&!(l in o))&&Hr(o,l,d)}function Ra(o,l){for(var d=o.length;d--;)if(hr(o[d][0],l))return d;return-1}function Yw(o,l,d,f){return ni(o,function(y,_,S){l(f,y,d(y),S)}),f}function Kh(o,l){return o&&kr(l,Jt(l),o)}function e1(o,l){return o&&kr(l,Sn(l),o)}function Hr(o,l,d){l=="__proto__"&&Ca?Ca(o,l,{configurable:!0,enumerable:!0,value:d,writable:!0}):o[l]=d}function wu(o,l){for(var d=-1,f=l.length,y=R(f),_=o==null;++d<f;)y[d]=_?n:ed(o,l[d]);return y}function Li(o,l,d){return o===o&&(d!==n&&(o=o<=d?o:d),l!==n&&(o=o>=l?o:l)),o}function Yn(o,l,d,f,y,_){var S,C=l&m,O=l&g,z=l&b;if(d&&(S=y?d(o,f,y,_):d(o)),S!==n)return S;if(!bt(o))return o;var F=Te(o);if(F){if(S=P1(o),!C)return En(o,S)}else{var P=cn(o),Q=P==Kt||P==Wn;if(si(o))return mf(o,C);if(P==Bt||P==Ke||Q&&!y){if(S=O||Q?{}:Df(o),!C)return O?N1(o,e1(S,o)):O1(o,Kh(S,o))}else{if(!at[P])return y?o:{};S=U1(o,P,C)}}_||(_=new pr);var le=_.get(o);if(le)return le;_.set(o,S),cm(o)?o.forEach(function(we){S.add(Yn(we,l,d,we,o,_))}):am(o)&&o.forEach(function(we,Ge){S.set(Ge,Yn(we,l,d,Ge,o,_))});var ve=z?O?Fu:zu:O?Sn:Jt,$e=F?n:ve(o);return Zn($e||o,function(we,Ge){$e&&(Ge=we,we=o[Ge]),cs(S,Ge,Yn(we,l,d,Ge,o,_))}),S}function t1(o){var l=Jt(o);return function(d){return qh(d,o,l)}}function qh(o,l,d){var f=d.length;if(o==null)return!f;for(o=st(o);f--;){var y=d[f],_=l[y],S=o[y];if(S===n&&!(y in o)||!_(S))return!1}return!0}function Wh(o,l,d){if(typeof o!="function")throw new Xn(a);return gs(function(){o.apply(n,d)},l)}function us(o,l,d,f){var y=-1,_=ga,S=!0,C=o.length,O=[],z=l.length;if(!C)return O;d&&(l=ht(l,Hn(d))),f?(_=su,S=!1):l.length>=i&&(_=ns,S=!1,l=new Ni(l));e:for(;++y<C;){var F=o[y],P=d==null?F:d(F);if(F=f||F!==0?F:0,S&&P===P){for(var Q=z;Q--;)if(l[Q]===P)continue e;O.push(F)}else _(l,P,f)||O.push(F)}return O}var ni=wf(_r),Vh=wf(ku,!0);function n1(o,l){var d=!0;return ni(o,function(f,y,_){return d=!!l(f,y,_),d}),d}function Da(o,l,d){for(var f=-1,y=o.length;++f<y;){var _=o[f],S=l(_);if(S!=null&&(C===n?S===S&&!Fn(S):d(S,C)))var C=S,O=_}return O}function r1(o,l,d,f){var y=o.length;for(d=Re(d),d<0&&(d=-d>y?0:y+d),f=f===n||f>y?y:Re(f),f<0&&(f+=y),f=d>f?0:dm(f);d<f;)o[d++]=l;return o}function Gh(o,l){var d=[];return ni(o,function(f,y,_){l(f,y,_)&&d.push(f)}),d}function tn(o,l,d,f,y){var _=-1,S=o.length;for(d||(d=q1),y||(y=[]);++_<S;){var C=o[_];l>0&&d(C)?l>1?tn(C,l-1,d,f,y):Qr(y,C):f||(y[y.length]=C)}return y}var _u=_f(),Jh=_f(!0);function _r(o,l){return o&&_u(o,l,Jt)}function ku(o,l){return o&&Jh(o,l,Jt)}function Ia(o,l){return Xr(l,function(d){return Pr(o[d])})}function Ri(o,l){l=ii(l,o);for(var d=0,f=l.length;o!=null&&d<f;)o=o[Er(l[d++])];return d&&d==f?o:n}function Zh(o,l,d){var f=l(o);return Te(o)?f:Qr(f,d(o))}function bn(o){return o==null?o===n?Xt:Tt:Ti&&Ti in st(o)?z1(o):Q1(o)}function Eu(o,l){return o>l}function i1(o,l){return o!=null&&rt.call(o,l)}function o1(o,l){return o!=null&&l in st(o)}function s1(o,l,d){return o>=ln(l,d)&&o<Ft(l,d)}function xu(o,l,d){for(var f=d?su:ga,y=o[0].length,_=o.length,S=_,C=R(_),O=1/0,z=[];S--;){var F=o[S];S&&l&&(F=ht(F,Hn(l))),O=ln(F.length,O),C[S]=!d&&(l||y>=120&&F.length>=120)?new Ni(S&&F):n}F=o[0];var P=-1,Q=C[0];e:for(;++P<y&&z.length<O;){var le=F[P],ve=l?l(le):le;if(le=d||le!==0?le:0,!(Q?ns(Q,ve):f(z,ve,d))){for(S=_;--S;){var $e=C[S];if(!($e?ns($e,ve):f(o[S],ve,d)))continue e}Q&&Q.push(ve),z.push(le)}}return z}function a1(o,l,d,f){return _r(o,function(y,_,S){l(f,d(y),_,S)}),f}function ds(o,l,d){l=ii(l,o),o=Hf(o,l);var f=o==null?o:o[Er(tr(l))];return f==null?n:$n(f,o,d)}function Xh(o){return Et(o)&&bn(o)==Ke}function l1(o){return Et(o)&&bn(o)==W}function c1(o){return Et(o)&&bn(o)==Fe}function ps(o,l,d,f,y){return o===l?!0:o==null||l==null||!Et(o)&&!Et(l)?o!==o&&l!==l:u1(o,l,d,f,ps,y)}function u1(o,l,d,f,y,_){var S=Te(o),C=Te(l),O=S?it:cn(o),z=C?it:cn(l);O=O==Ke?Bt:O,z=z==Ke?Bt:z;var F=O==Bt,P=z==Bt,Q=O==z;if(Q&&si(o)){if(!si(l))return!1;S=!0,F=!1}if(Q&&!F)return _||(_=new pr),S||yo(o)?Nf(o,l,d,f,y,_):$1(o,l,O,d,f,y,_);if(!(d&v)){var le=F&&rt.call(o,"__wrapped__"),ve=P&&rt.call(l,"__wrapped__");if(le||ve){var $e=le?o.value():o,we=ve?l.value():l;return _||(_=new pr),y($e,we,d,f,_)}}return Q?(_||(_=new pr),H1(o,l,d,f,y,_)):!1}function d1(o){return Et(o)&&cn(o)==mt}function Su(o,l,d,f){var y=d.length,_=y,S=!f;if(o==null)return!_;for(o=st(o);y--;){var C=d[y];if(S&&C[2]?C[1]!==o[C[0]]:!(C[0]in o))return!1}for(;++y<_;){C=d[y];var O=C[0],z=o[O],F=C[1];if(S&&C[2]){if(z===n&&!(O in o))return!1}else{var P=new pr;if(f)var Q=f(z,F,O,o,l,P);if(!(Q===n?ps(F,z,v|E,f,P):Q))return!1}}return!0}function Qh(o){if(!bt(o)||V1(o))return!1;var l=Pr(o)?dw:aa;return l.test(Ii(o))}function p1(o){return Et(o)&&bn(o)==Ot}function h1(o){return Et(o)&&cn(o)==Ie}function f1(o){return Et(o)&&Qa(o.length)&&!!dt[bn(o)]}function Yh(o){return typeof o=="function"?o:o==null?An:typeof o=="object"?Te(o)?nf(o[0],o[1]):tf(o):km(o)}function Au(o){if(!ms(o))return bw(o);var l=[];for(var d in st(o))rt.call(o,d)&&d!="constructor"&&l.push(d);return l}function m1(o){if(!bt(o))return X1(o);var l=ms(o),d=[];for(var f in o)f=="constructor"&&(l||!rt.call(o,f))||d.push(f);return d}function Cu(o,l){return o<l}function ef(o,l){var d=-1,f=xn(o)?R(o.length):[];return ni(o,function(y,_,S){f[++d]=l(y,_,S)}),f}function tf(o){var l=Pu(o);return l.length==1&&l[0][2]?Bf(l[0][0],l[0][1]):function(d){return d===o||Su(d,o,l)}}function nf(o,l){return Ku(o)&&If(l)?Bf(Er(o),l):function(d){var f=ed(d,o);return f===n&&f===l?td(d,o):ps(l,f,v|E)}}function Ba(o,l,d,f,y){o!==l&&_u(l,function(_,S){if(y||(y=new pr),bt(_))g1(o,l,S,d,Ba,f,y);else{var C=f?f(Wu(o,S),_,S+"",o,l,y):n;C===n&&(C=_),vu(o,S,C)}},Sn)}function g1(o,l,d,f,y,_,S){var C=Wu(o,d),O=Wu(l,d),z=S.get(O);if(z){vu(o,d,z);return}var F=_?_(C,O,d+"",o,l,S):n,P=F===n;if(P){var Q=Te(O),le=!Q&&si(O),ve=!Q&&!le&&yo(O);F=O,Q||le||ve?Te(C)?F=C:Ct(C)?F=En(C):le?(P=!1,F=mf(O,!0)):ve?(P=!1,F=gf(O,!0)):F=[]:bs(O)||Bi(O)?(F=C,Bi(C)?F=pm(C):(!bt(C)||Pr(C))&&(F=Df(O))):P=!1}P&&(S.set(O,F),y(F,O,f,_,S),S.delete(O)),vu(o,d,F)}function rf(o,l){var d=o.length;if(d)return l+=l<0?d:0,jr(l,d)?o[l]:n}function of(o,l,d){l.length?l=ht(l,function(_){return Te(_)?function(S){return Ri(S,_.length===1?_[0]:_)}:_}):l=[An];var f=-1;l=ht(l,Hn(ge()));var y=ef(o,function(_,S,C){var O=ht(l,function(z){return z(_)});return{criteria:O,index:++f,value:_}});return Uv(y,function(_,S){return T1(_,S,d)})}function b1(o,l){return sf(o,l,function(d,f){return td(o,f)})}function sf(o,l,d){for(var f=-1,y=l.length,_={};++f<y;){var S=l[f],C=Ri(o,S);d(C,S)&&hs(_,ii(S,o),C)}return _}function y1(o){return function(l){return Ri(l,o)}}function Mu(o,l,d,f){var y=f?Pv:ao,_=-1,S=l.length,C=o;for(o===l&&(l=En(l)),d&&(C=ht(o,Hn(d)));++_<S;)for(var O=0,z=l[_],F=d?d(z):z;(O=y(C,F,O,f))>-1;)C!==o&&Aa.call(C,O,1),Aa.call(o,O,1);return o}function af(o,l){for(var d=o?l.length:0,f=d-1;d--;){var y=l[d];if(d==f||y!==_){var _=y;jr(y)?Aa.call(o,y,1):Lu(o,y)}}return o}function Tu(o,l){return o+Ta(Fh()*(l-o+1))}function v1(o,l,d,f){for(var y=-1,_=Ft(Ma((l-o)/(d||1)),0),S=R(_);_--;)S[f?_:++y]=o,o+=d;return S}function Ou(o,l){var d="";if(!o||l<1||l>H)return d;do l%2&&(d+=o),l=Ta(l/2),l&&(o+=o);while(l);return d}function je(o,l){return Vu($f(o,l,An),o+"")}function w1(o){return Uh(vo(o))}function _1(o,l){var d=vo(o);return Wa(d,Li(l,0,d.length))}function hs(o,l,d,f){if(!bt(o))return o;l=ii(l,o);for(var y=-1,_=l.length,S=_-1,C=o;C!=null&&++y<_;){var O=Er(l[y]),z=d;if(O==="__proto__"||O==="constructor"||O==="prototype")return o;if(y!=S){var F=C[O];z=f?f(F,O,C):n,z===n&&(z=bt(F)?F:jr(l[y+1])?[]:{})}cs(C,O,z),C=C[O]}return o}var lf=Oa?function(o,l){return Oa.set(o,l),o}:An,k1=Ca?function(o,l){return Ca(o,"toString",{configurable:!0,enumerable:!1,value:rd(l),writable:!0})}:An;function E1(o){return Wa(vo(o))}function er(o,l,d){var f=-1,y=o.length;l<0&&(l=-l>y?0:y+l),d=d>y?y:d,d<0&&(d+=y),y=l>d?0:d-l>>>0,l>>>=0;for(var _=R(y);++f<y;)_[f]=o[f+l];return _}function x1(o,l){var d;return ni(o,function(f,y,_){return d=l(f,y,_),!d}),!!d}function $a(o,l,d){var f=0,y=o==null?f:o.length;if(typeof l=="number"&&l===l&&y<=vt){for(;f<y;){var _=f+y>>>1,S=o[_];S!==null&&!Fn(S)&&(d?S<=l:S<l)?f=_+1:y=_}return y}return Nu(o,l,An,d)}function Nu(o,l,d,f){var y=0,_=o==null?0:o.length;if(_===0)return 0;l=d(l);for(var S=l!==l,C=l===null,O=Fn(l),z=l===n;y<_;){var F=Ta((y+_)/2),P=d(o[F]),Q=P!==n,le=P===null,ve=P===P,$e=Fn(P);if(S)var we=f||ve;else z?we=ve&&(f||Q):C?we=ve&&Q&&(f||!le):O?we=ve&&Q&&!le&&(f||!$e):le||$e?we=!1:we=f?P<=l:P<l;we?y=F+1:_=F}return ln(_,Pe)}function cf(o,l){for(var d=-1,f=o.length,y=0,_=[];++d<f;){var S=o[d],C=l?l(S):S;if(!d||!hr(C,O)){var O=C;_[y++]=S===0?0:S}}return _}function uf(o){return typeof o=="number"?o:Fn(o)?se:+o}function zn(o){if(typeof o=="string")return o;if(Te(o))return ht(o,zn)+"";if(Fn(o))return jh?jh.call(o):"";var l=o+"";return l=="0"&&1/o==-N?"-0":l}function ri(o,l,d){var f=-1,y=ga,_=o.length,S=!0,C=[],O=C;if(d)S=!1,y=su;else if(_>=i){var z=l?null:I1(o);if(z)return ya(z);S=!1,y=ns,O=new Ni}else O=l?[]:C;e:for(;++f<_;){var F=o[f],P=l?l(F):F;if(F=d||F!==0?F:0,S&&P===P){for(var Q=O.length;Q--;)if(O[Q]===P)continue e;l&&O.push(P),C.push(F)}else y(O,P,d)||(O!==C&&O.push(P),C.push(F))}return C}function Lu(o,l){return l=ii(l,o),o=Hf(o,l),o==null||delete o[Er(tr(l))]}function df(o,l,d,f){return hs(o,l,d(Ri(o,l)),f)}function Ha(o,l,d,f){for(var y=o.length,_=f?y:-1;(f?_--:++_<y)&&l(o[_],_,o););return d?er(o,f?0:_,f?_+1:y):er(o,f?_+1:0,f?y:_)}function pf(o,l){var d=o;return d instanceof Je&&(d=d.value()),au(l,function(f,y){return y.func.apply(y.thisArg,Qr([f],y.args))},d)}function Ru(o,l,d){var f=o.length;if(f<2)return f?ri(o[0]):[];for(var y=-1,_=R(f);++y<f;)for(var S=o[y],C=-1;++C<f;)C!=y&&(_[y]=us(_[y]||S,o[C],l,d));return ri(tn(_,1),l,d)}function hf(o,l,d){for(var f=-1,y=o.length,_=l.length,S={};++f<y;){var C=f<_?l[f]:n;d(S,o[f],C)}return S}function Du(o){return Ct(o)?o:[]}function Iu(o){return typeof o=="function"?o:An}function ii(o,l){return Te(o)?o:Ku(o,l)?[o]:Pf(tt(o))}var S1=je;function oi(o,l,d){var f=o.length;return d=d===n?f:d,!l&&d>=f?o:er(o,l,d)}var ff=pw||function(o){return Gt.clearTimeout(o)};function mf(o,l){if(l)return o.slice();var d=o.length,f=Ih?Ih(d):new o.constructor(d);return o.copy(f),f}function Bu(o){var l=new o.constructor(o.byteLength);return new xa(l).set(new xa(o)),l}function A1(o,l){var d=l?Bu(o.buffer):o.buffer;return new o.constructor(d,o.byteOffset,o.byteLength)}function C1(o){var l=new o.constructor(o.source,sa.exec(o));return l.lastIndex=o.lastIndex,l}function M1(o){return ls?st(ls.call(o)):{}}function gf(o,l){var d=l?Bu(o.buffer):o.buffer;return new o.constructor(d,o.byteOffset,o.length)}function bf(o,l){if(o!==l){var d=o!==n,f=o===null,y=o===o,_=Fn(o),S=l!==n,C=l===null,O=l===l,z=Fn(l);if(!C&&!z&&!_&&o>l||_&&S&&O&&!C&&!z||f&&S&&O||!d&&O||!y)return 1;if(!f&&!_&&!z&&o<l||z&&d&&y&&!f&&!_||C&&d&&y||!S&&y||!O)return-1}return 0}function T1(o,l,d){for(var f=-1,y=o.criteria,_=l.criteria,S=y.length,C=d.length;++f<S;){var O=bf(y[f],_[f]);if(O){if(f>=C)return O;var z=d[f];return O*(z=="desc"?-1:1)}}return o.index-l.index}function yf(o,l,d,f){for(var y=-1,_=o.length,S=d.length,C=-1,O=l.length,z=Ft(_-S,0),F=R(O+z),P=!f;++C<O;)F[C]=l[C];for(;++y<S;)(P||y<_)&&(F[d[y]]=o[y]);for(;z--;)F[C++]=o[y++];return F}function vf(o,l,d,f){for(var y=-1,_=o.length,S=-1,C=d.length,O=-1,z=l.length,F=Ft(_-C,0),P=R(F+z),Q=!f;++y<F;)P[y]=o[y];for(var le=y;++O<z;)P[le+O]=l[O];for(;++S<C;)(Q||y<_)&&(P[le+d[S]]=o[y++]);return P}function En(o,l){var d=-1,f=o.length;for(l||(l=R(f));++d<f;)l[d]=o[d];return l}function kr(o,l,d,f){var y=!d;d||(d={});for(var _=-1,S=l.length;++_<S;){var C=l[_],O=f?f(d[C],o[C],C,d,o):n;O===n&&(O=o[C]),y?Hr(d,C,O):cs(d,C,O)}return d}function O1(o,l){return kr(o,Uu(o),l)}function N1(o,l){return kr(o,Lf(o),l)}function za(o,l){return function(d,f){var y=Te(d)?Bv:Yw,_=l?l():{};return y(d,o,ge(f,2),_)}}function mo(o){return je(function(l,d){var f=-1,y=d.length,_=y>1?d[y-1]:n,S=y>2?d[2]:n;for(_=o.length>3&&typeof _=="function"?(y--,_):n,S&&yn(d[0],d[1],S)&&(_=y<3?n:_,y=1),l=st(l);++f<y;){var C=d[f];C&&o(l,C,f,_)}return l})}function wf(o,l){return function(d,f){if(d==null)return d;if(!xn(d))return o(d,f);for(var y=d.length,_=l?y:-1,S=st(d);(l?_--:++_<y)&&f(S[_],_,S)!==!1;);return d}}function _f(o){return function(l,d,f){for(var y=-1,_=st(l),S=f(l),C=S.length;C--;){var O=S[o?C:++y];if(d(_[O],O,_)===!1)break}return l}}function L1(o,l,d){var f=l&k,y=fs(o);function _(){var S=this&&this!==Gt&&this instanceof _?y:o;return S.apply(f?d:this,arguments)}return _}function kf(o){return function(l){l=tt(l);var d=lo(l)?dr(l):n,f=d?d[0]:l.charAt(0),y=d?oi(d,1).join(""):l.slice(1);return f[o]()+y}}function go(o){return function(l){return au(wm(vm(l).replace(et,"")),o,"")}}function fs(o){return function(){var l=arguments;switch(l.length){case 0:return new o;case 1:return new o(l[0]);case 2:return new o(l[0],l[1]);case 3:return new o(l[0],l[1],l[2]);case 4:return new o(l[0],l[1],l[2],l[3]);case 5:return new o(l[0],l[1],l[2],l[3],l[4]);case 6:return new o(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new o(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var d=fo(o.prototype),f=o.apply(d,l);return bt(f)?f:d}}function R1(o,l,d){var f=fs(o);function y(){for(var _=arguments.length,S=R(_),C=_,O=bo(y);C--;)S[C]=arguments[C];var z=_<3&&S[0]!==O&&S[_-1]!==O?[]:Yr(S,O);if(_-=z.length,_<d)return Cf(o,l,Fa,y.placeholder,n,S,z,n,n,d-_);var F=this&&this!==Gt&&this instanceof y?f:o;return $n(F,this,S)}return y}function Ef(o){return function(l,d,f){var y=st(l);if(!xn(l)){var _=ge(d,3);l=Jt(l),d=function(C){return _(y[C],C,y)}}var S=o(l,d,f);return S>-1?y[_?l[S]:S]:n}}function xf(o){return Fr(function(l){var d=l.length,f=d,y=Qn.prototype.thru;for(o&&l.reverse();f--;){var _=l[f];if(typeof _!="function")throw new Xn(a);if(y&&!S&&Ka(_)=="wrapper")var S=new Qn([],!0)}for(f=S?f:d;++f<d;){_=l[f];var C=Ka(_),O=C=="wrapper"?ju(_):n;O&&qu(O[0])&&O[1]==(q|L|U|ne)&&!O[4].length&&O[9]==1?S=S[Ka(O[0])].apply(S,O[3]):S=_.length==1&&qu(_)?S[C]():S.thru(_)}return function(){var z=arguments,F=z[0];if(S&&z.length==1&&Te(F))return S.plant(F).value();for(var P=0,Q=d?l[P].apply(this,z):F;++P<d;)Q=l[P].call(this,Q);return Q}})}function Fa(o,l,d,f,y,_,S,C,O,z){var F=l&q,P=l&k,Q=l&T,le=l&(L|A),ve=l&J,$e=Q?n:fs(o);function we(){for(var Ge=arguments.length,Xe=R(Ge),jn=Ge;jn--;)Xe[jn]=arguments[jn];if(le)var vn=bo(we),Pn=qv(Xe,vn);if(f&&(Xe=yf(Xe,f,y,le)),_&&(Xe=vf(Xe,_,S,le)),Ge-=Pn,le&&Ge<z){var Mt=Yr(Xe,vn);return Cf(o,l,Fa,we.placeholder,d,Xe,Mt,C,O,z-Ge)}var fr=P?d:this,Kr=Q?fr[o]:o;return Ge=Xe.length,C?Xe=Y1(Xe,C):ve&&Ge>1&&Xe.reverse(),F&&O<Ge&&(Xe.length=O),this&&this!==Gt&&this instanceof we&&(Kr=$e||fs(Kr)),Kr.apply(fr,Xe)}return we}function Sf(o,l){return function(d,f){return a1(d,o,l(f),{})}}function ja(o,l){return function(d,f){var y;if(d===n&&f===n)return l;if(d!==n&&(y=d),f!==n){if(y===n)return f;typeof d=="string"||typeof f=="string"?(d=zn(d),f=zn(f)):(d=uf(d),f=uf(f)),y=o(d,f)}return y}}function $u(o){return Fr(function(l){return l=ht(l,Hn(ge())),je(function(d){var f=this;return o(l,function(y){return $n(y,f,d)})})})}function Pa(o,l){l=l===n?" ":zn(l);var d=l.length;if(d<2)return d?Ou(l,o):l;var f=Ou(l,Ma(o/co(l)));return lo(l)?oi(dr(f),0,o).join(""):f.slice(0,o)}function D1(o,l,d,f){var y=l&k,_=fs(o);function S(){for(var C=-1,O=arguments.length,z=-1,F=f.length,P=R(F+O),Q=this&&this!==Gt&&this instanceof S?_:o;++z<F;)P[z]=f[z];for(;O--;)P[z++]=arguments[++C];return $n(Q,y?d:this,P)}return S}function Af(o){return function(l,d,f){return f&&typeof f!="number"&&yn(l,d,f)&&(d=f=n),l=Ur(l),d===n?(d=l,l=0):d=Ur(d),f=f===n?l<d?1:-1:Ur(f),v1(l,d,f,o)}}function Ua(o){return function(l,d){return typeof l=="string"&&typeof d=="string"||(l=nr(l),d=nr(d)),o(l,d)}}function Cf(o,l,d,f,y,_,S,C,O,z){var F=l&L,P=F?S:n,Q=F?n:S,le=F?_:n,ve=F?n:_;l|=F?U:$,l&=~(F?$:U),l&B||(l&=~(k|T));var $e=[o,l,y,le,P,ve,Q,C,O,z],we=d.apply(n,$e);return qu(o)&&zf(we,$e),we.placeholder=f,Ff(we,o,l)}function Hu(o){var l=zt[o];return function(d,f){if(d=nr(d),f=f==null?0:ln(Re(f),292),f&&zh(d)){var y=(tt(d)+"e").split("e"),_=l(y[0]+"e"+(+y[1]+f));return y=(tt(_)+"e").split("e"),+(y[0]+"e"+(+y[1]-f))}return l(d)}}var I1=po&&1/ya(new po([,-0]))[1]==N?function(o){return new po(o)}:sd;function Mf(o){return function(l){var d=cn(l);return d==mt?fu(l):d==Ie?Qv(l):Kv(l,o(l))}}function zr(o,l,d,f,y,_,S,C){var O=l&T;if(!O&&typeof o!="function")throw new Xn(a);var z=f?f.length:0;if(z||(l&=~(U|$),f=y=n),S=S===n?S:Ft(Re(S),0),C=C===n?C:Re(C),z-=y?y.length:0,l&$){var F=f,P=y;f=y=n}var Q=O?n:ju(o),le=[o,l,d,f,y,F,P,_,S,C];if(Q&&Z1(le,Q),o=le[0],l=le[1],d=le[2],f=le[3],y=le[4],C=le[9]=le[9]===n?O?0:o.length:Ft(le[9]-z,0),!C&&l&(L|A)&&(l&=~(L|A)),!l||l==k)var ve=L1(o,l,d);else l==L||l==A?ve=R1(o,l,C):(l==U||l==(k|U))&&!y.length?ve=D1(o,l,d,f):ve=Fa.apply(n,le);var $e=Q?lf:zf;return Ff($e(ve,le),o,l)}function Tf(o,l,d,f){return o===n||hr(o,uo[d])&&!rt.call(f,d)?l:o}function Of(o,l,d,f,y,_){return bt(o)&&bt(l)&&(_.set(l,o),Ba(o,l,n,Of,_),_.delete(l)),o}function B1(o){return bs(o)?n:o}function Nf(o,l,d,f,y,_){var S=d&v,C=o.length,O=l.length;if(C!=O&&!(S&&O>C))return!1;var z=_.get(o),F=_.get(l);if(z&&F)return z==l&&F==o;var P=-1,Q=!0,le=d&E?new Ni:n;for(_.set(o,l),_.set(l,o);++P<C;){var ve=o[P],$e=l[P];if(f)var we=S?f($e,ve,P,l,o,_):f(ve,$e,P,o,l,_);if(we!==n){if(we)continue;Q=!1;break}if(le){if(!lu(l,function(Ge,Xe){if(!ns(le,Xe)&&(ve===Ge||y(ve,Ge,d,f,_)))return le.push(Xe)})){Q=!1;break}}else if(!(ve===$e||y(ve,$e,d,f,_))){Q=!1;break}}return _.delete(o),_.delete(l),Q}function $1(o,l,d,f,y,_,S){switch(d){case Z:if(o.byteLength!=l.byteLength||o.byteOffset!=l.byteOffset)return!1;o=o.buffer,l=l.buffer;case W:return!(o.byteLength!=l.byteLength||!_(new xa(o),new xa(l)));case At:case Fe:case fn:return hr(+o,+l);case Ut:return o.name==l.name&&o.message==l.message;case Ot:case Be:return o==l+"";case mt:var C=fu;case Ie:var O=f&v;if(C||(C=ya),o.size!=l.size&&!O)return!1;var z=S.get(o);if(z)return z==l;f|=E,S.set(o,l);var F=Nf(C(o),C(l),f,y,_,S);return S.delete(o),F;case $t:if(ls)return ls.call(o)==ls.call(l)}return!1}function H1(o,l,d,f,y,_){var S=d&v,C=zu(o),O=C.length,z=zu(l),F=z.length;if(O!=F&&!S)return!1;for(var P=O;P--;){var Q=C[P];if(!(S?Q in l:rt.call(l,Q)))return!1}var le=_.get(o),ve=_.get(l);if(le&&ve)return le==l&&ve==o;var $e=!0;_.set(o,l),_.set(l,o);for(var we=S;++P<O;){Q=C[P];var Ge=o[Q],Xe=l[Q];if(f)var jn=S?f(Xe,Ge,Q,l,o,_):f(Ge,Xe,Q,o,l,_);if(!(jn===n?Ge===Xe||y(Ge,Xe,d,f,_):jn)){$e=!1;break}we||(we=Q=="constructor")}if($e&&!we){var vn=o.constructor,Pn=l.constructor;vn!=Pn&&"constructor"in o&&"constructor"in l&&!(typeof vn=="function"&&vn instanceof vn&&typeof Pn=="function"&&Pn instanceof Pn)&&($e=!1)}return _.delete(o),_.delete(l),$e}function Fr(o){return Vu($f(o,n,Wf),o+"")}function zu(o){return Zh(o,Jt,Uu)}function Fu(o){return Zh(o,Sn,Lf)}var ju=Oa?function(o){return Oa.get(o)}:sd;function Ka(o){for(var l=o.name+"",d=ho[l],f=rt.call(ho,l)?d.length:0;f--;){var y=d[f],_=y.func;if(_==null||_==o)return y.name}return l}function bo(o){var l=rt.call(w,"placeholder")?w:o;return l.placeholder}function ge(){var o=w.iteratee||id;return o=o===id?Yh:o,arguments.length?o(arguments[0],arguments[1]):o}function qa(o,l){var d=o.__data__;return W1(l)?d[typeof l=="string"?"string":"hash"]:d.map}function Pu(o){for(var l=Jt(o),d=l.length;d--;){var f=l[d],y=o[f];l[d]=[f,y,If(y)]}return l}function Di(o,l){var d=Jv(o,l);return Qh(d)?d:n}function z1(o){var l=rt.call(o,Ti),d=o[Ti];try{o[Ti]=n;var f=!0}catch{}var y=ka.call(o);return f&&(l?o[Ti]=d:delete o[Ti]),y}var Uu=gu?function(o){return o==null?[]:(o=st(o),Xr(gu(o),function(l){return $h.call(o,l)}))}:ad,Lf=gu?function(o){for(var l=[];o;)Qr(l,Uu(o)),o=Sa(o);return l}:ad,cn=bn;(bu&&cn(new bu(new ArrayBuffer(1)))!=Z||is&&cn(new is)!=mt||yu&&cn(yu.resolve())!=Rn||po&&cn(new po)!=Ie||ss&&cn(new ss)!=Qt)&&(cn=function(o){var l=bn(o),d=l==Bt?o.constructor:n,f=d?Ii(d):"";if(f)switch(f){case _w:return Z;case kw:return mt;case Ew:return Rn;case xw:return Ie;case Sw:return Qt}return l});function F1(o,l,d){for(var f=-1,y=d.length;++f<y;){var _=d[f],S=_.size;switch(_.type){case"drop":o+=S;break;case"dropRight":l-=S;break;case"take":l=ln(l,o+S);break;case"takeRight":o=Ft(o,l-S);break}}return{start:o,end:l}}function j1(o){var l=o.match(_t);return l?l[1].split(Si):[]}function Rf(o,l,d){l=ii(l,o);for(var f=-1,y=l.length,_=!1;++f<y;){var S=Er(l[f]);if(!(_=o!=null&&d(o,S)))break;o=o[S]}return _||++f!=y?_:(y=o==null?0:o.length,!!y&&Qa(y)&&jr(S,y)&&(Te(o)||Bi(o)))}function P1(o){var l=o.length,d=new o.constructor(l);return l&&typeof o[0]=="string"&&rt.call(o,"index")&&(d.index=o.index,d.input=o.input),d}function Df(o){return typeof o.constructor=="function"&&!ms(o)?fo(Sa(o)):{}}function U1(o,l,d){var f=o.constructor;switch(l){case W:return Bu(o);case At:case Fe:return new f(+o);case Z:return A1(o,d);case ye:case qe:case pt:case Yt:case Rr:case D:case ie:case fe:case Ze:return gf(o,d);case mt:return new f;case fn:case Be:return new f(o);case Ot:return C1(o);case Ie:return new f;case $t:return M1(o)}}function K1(o,l){var d=l.length;if(!d)return o;var f=d-1;return l[f]=(d>1?"& ":"")+l[f],l=l.join(d>2?", ":" "),o.replace(Nt,`{
/* [wrapped with `+l+`] */
`)}function q1(o){return Te(o)||Bi(o)||!!(Hh&&o&&o[Hh])}function jr(o,l){var d=typeof o;return l=l??H,!!l&&(d=="number"||d!="symbol"&&Zc.test(o))&&o>-1&&o%1==0&&o<l}function yn(o,l,d){if(!bt(d))return!1;var f=typeof l;return(f=="number"?xn(d)&&jr(l,d.length):f=="string"&&l in d)?hr(d[l],o):!1}function Ku(o,l){if(Te(o))return!1;var d=typeof o;return d=="number"||d=="symbol"||d=="boolean"||o==null||Fn(o)?!0:Ne.test(o)||!Y.test(o)||l!=null&&o in st(l)}function W1(o){var l=typeof o;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?o!=="__proto__":o===null}function qu(o){var l=Ka(o),d=w[l];if(typeof d!="function"||!(l in Je.prototype))return!1;if(o===d)return!0;var f=ju(d);return!!f&&o===f[0]}function V1(o){return!!Dh&&Dh in o}var G1=wa?Pr:ld;function ms(o){var l=o&&o.constructor,d=typeof l=="function"&&l.prototype||uo;return o===d}function If(o){return o===o&&!bt(o)}function Bf(o,l){return function(d){return d==null?!1:d[o]===l&&(l!==n||o in st(d))}}function J1(o){var l=Za(o,function(f){return d.size===p&&d.clear(),f}),d=l.cache;return l}function Z1(o,l){var d=o[1],f=l[1],y=d|f,_=y<(k|T|q),S=f==q&&d==L||f==q&&d==ne&&o[7].length<=l[8]||f==(q|ne)&&l[7].length<=l[8]&&d==L;if(!(_||S))return o;f&k&&(o[2]=l[2],y|=d&k?0:B);var C=l[3];if(C){var O=o[3];o[3]=O?yf(O,C,l[4]):C,o[4]=O?Yr(o[3],h):l[4]}return C=l[5],C&&(O=o[5],o[5]=O?vf(O,C,l[6]):C,o[6]=O?Yr(o[5],h):l[6]),C=l[7],C&&(o[7]=C),f&q&&(o[8]=o[8]==null?l[8]:ln(o[8],l[8])),o[9]==null&&(o[9]=l[9]),o[0]=l[0],o[1]=y,o}function X1(o){var l=[];if(o!=null)for(var d in st(o))l.push(d);return l}function Q1(o){return ka.call(o)}function $f(o,l,d){return l=Ft(l===n?o.length-1:l,0),function(){for(var f=arguments,y=-1,_=Ft(f.length-l,0),S=R(_);++y<_;)S[y]=f[l+y];y=-1;for(var C=R(l+1);++y<l;)C[y]=f[y];return C[l]=d(S),$n(o,this,C)}}function Hf(o,l){return l.length<2?o:Ri(o,er(l,0,-1))}function Y1(o,l){for(var d=o.length,f=ln(l.length,d),y=En(o);f--;){var _=l[f];o[f]=jr(_,d)?y[_]:n}return o}function Wu(o,l){if(!(l==="constructor"&&typeof o[l]=="function")&&l!="__proto__")return o[l]}var zf=jf(lf),gs=fw||function(o,l){return Gt.setTimeout(o,l)},Vu=jf(k1);function Ff(o,l,d){var f=l+"";return Vu(o,K1(f,e_(j1(f),d)))}function jf(o){var l=0,d=0;return function(){var f=yw(),y=ue-(f-d);if(d=f,y>0){if(++l>=be)return arguments[0]}else l=0;return o.apply(n,arguments)}}function Wa(o,l){var d=-1,f=o.length,y=f-1;for(l=l===n?f:l;++d<l;){var _=Tu(d,y),S=o[_];o[_]=o[d],o[d]=S}return o.length=l,o}var Pf=J1(function(o){var l=[];return o.charCodeAt(0)===46&&l.push(""),o.replace(gt,function(d,f,y,_){l.push(y?_.replace(Vc,"$1"):f||d)}),l});function Er(o){if(typeof o=="string"||Fn(o))return o;var l=o+"";return l=="0"&&1/o==-N?"-0":l}function Ii(o){if(o!=null){try{return _a.call(o)}catch{}try{return o+""}catch{}}return""}function e_(o,l){return Zn(wt,function(d){var f="_."+d[0];l&d[1]&&!ga(o,f)&&o.push(f)}),o.sort()}function Uf(o){if(o instanceof Je)return o.clone();var l=new Qn(o.__wrapped__,o.__chain__);return l.__actions__=En(o.__actions__),l.__index__=o.__index__,l.__values__=o.__values__,l}function t_(o,l,d){(d?yn(o,l,d):l===n)?l=1:l=Ft(Re(l),0);var f=o==null?0:o.length;if(!f||l<1)return[];for(var y=0,_=0,S=R(Ma(f/l));y<f;)S[_++]=er(o,y,y+=l);return S}function n_(o){for(var l=-1,d=o==null?0:o.length,f=0,y=[];++l<d;){var _=o[l];_&&(y[f++]=_)}return y}function r_(){var o=arguments.length;if(!o)return[];for(var l=R(o-1),d=arguments[0],f=o;f--;)l[f-1]=arguments[f];return Qr(Te(d)?En(d):[d],tn(l,1))}var i_=je(function(o,l){return Ct(o)?us(o,tn(l,1,Ct,!0)):[]}),o_=je(function(o,l){var d=tr(l);return Ct(d)&&(d=n),Ct(o)?us(o,tn(l,1,Ct,!0),ge(d,2)):[]}),s_=je(function(o,l){var d=tr(l);return Ct(d)&&(d=n),Ct(o)?us(o,tn(l,1,Ct,!0),n,d):[]});function a_(o,l,d){var f=o==null?0:o.length;return f?(l=d||l===n?1:Re(l),er(o,l<0?0:l,f)):[]}function l_(o,l,d){var f=o==null?0:o.length;return f?(l=d||l===n?1:Re(l),l=f-l,er(o,0,l<0?0:l)):[]}function c_(o,l){return o&&o.length?Ha(o,ge(l,3),!0,!0):[]}function u_(o,l){return o&&o.length?Ha(o,ge(l,3),!0):[]}function d_(o,l,d,f){var y=o==null?0:o.length;return y?(d&&typeof d!="number"&&yn(o,l,d)&&(d=0,f=y),r1(o,l,d,f)):[]}function Kf(o,l,d){var f=o==null?0:o.length;if(!f)return-1;var y=d==null?0:Re(d);return y<0&&(y=Ft(f+y,0)),ba(o,ge(l,3),y)}function qf(o,l,d){var f=o==null?0:o.length;if(!f)return-1;var y=f-1;return d!==n&&(y=Re(d),y=d<0?Ft(f+y,0):ln(y,f-1)),ba(o,ge(l,3),y,!0)}function Wf(o){var l=o==null?0:o.length;return l?tn(o,1):[]}function p_(o){var l=o==null?0:o.length;return l?tn(o,N):[]}function h_(o,l){var d=o==null?0:o.length;return d?(l=l===n?1:Re(l),tn(o,l)):[]}function f_(o){for(var l=-1,d=o==null?0:o.length,f={};++l<d;){var y=o[l];f[y[0]]=y[1]}return f}function Vf(o){return o&&o.length?o[0]:n}function m_(o,l,d){var f=o==null?0:o.length;if(!f)return-1;var y=d==null?0:Re(d);return y<0&&(y=Ft(f+y,0)),ao(o,l,y)}function g_(o){var l=o==null?0:o.length;return l?er(o,0,-1):[]}var b_=je(function(o){var l=ht(o,Du);return l.length&&l[0]===o[0]?xu(l):[]}),y_=je(function(o){var l=tr(o),d=ht(o,Du);return l===tr(d)?l=n:d.pop(),d.length&&d[0]===o[0]?xu(d,ge(l,2)):[]}),v_=je(function(o){var l=tr(o),d=ht(o,Du);return l=typeof l=="function"?l:n,l&&d.pop(),d.length&&d[0]===o[0]?xu(d,n,l):[]});function w_(o,l){return o==null?"":gw.call(o,l)}function tr(o){var l=o==null?0:o.length;return l?o[l-1]:n}function __(o,l,d){var f=o==null?0:o.length;if(!f)return-1;var y=f;return d!==n&&(y=Re(d),y=y<0?Ft(f+y,0):ln(y,f-1)),l===l?ew(o,l,y):ba(o,Ah,y,!0)}function k_(o,l){return o&&o.length?rf(o,Re(l)):n}var E_=je(Gf);function Gf(o,l){return o&&o.length&&l&&l.length?Mu(o,l):o}function x_(o,l,d){return o&&o.length&&l&&l.length?Mu(o,l,ge(d,2)):o}function S_(o,l,d){return o&&o.length&&l&&l.length?Mu(o,l,n,d):o}var A_=Fr(function(o,l){var d=o==null?0:o.length,f=wu(o,l);return af(o,ht(l,function(y){return jr(y,d)?+y:y}).sort(bf)),f});function C_(o,l){var d=[];if(!(o&&o.length))return d;var f=-1,y=[],_=o.length;for(l=ge(l,3);++f<_;){var S=o[f];l(S,f,o)&&(d.push(S),y.push(f))}return af(o,y),d}function Gu(o){return o==null?o:ww.call(o)}function M_(o,l,d){var f=o==null?0:o.length;return f?(d&&typeof d!="number"&&yn(o,l,d)?(l=0,d=f):(l=l==null?0:Re(l),d=d===n?f:Re(d)),er(o,l,d)):[]}function T_(o,l){return $a(o,l)}function O_(o,l,d){return Nu(o,l,ge(d,2))}function N_(o,l){var d=o==null?0:o.length;if(d){var f=$a(o,l);if(f<d&&hr(o[f],l))return f}return-1}function L_(o,l){return $a(o,l,!0)}function R_(o,l,d){return Nu(o,l,ge(d,2),!0)}function D_(o,l){var d=o==null?0:o.length;if(d){var f=$a(o,l,!0)-1;if(hr(o[f],l))return f}return-1}function I_(o){return o&&o.length?cf(o):[]}function B_(o,l){return o&&o.length?cf(o,ge(l,2)):[]}function $_(o){var l=o==null?0:o.length;return l?er(o,1,l):[]}function H_(o,l,d){return o&&o.length?(l=d||l===n?1:Re(l),er(o,0,l<0?0:l)):[]}function z_(o,l,d){var f=o==null?0:o.length;return f?(l=d||l===n?1:Re(l),l=f-l,er(o,l<0?0:l,f)):[]}function F_(o,l){return o&&o.length?Ha(o,ge(l,3),!1,!0):[]}function j_(o,l){return o&&o.length?Ha(o,ge(l,3)):[]}var P_=je(function(o){return ri(tn(o,1,Ct,!0))}),U_=je(function(o){var l=tr(o);return Ct(l)&&(l=n),ri(tn(o,1,Ct,!0),ge(l,2))}),K_=je(function(o){var l=tr(o);return l=typeof l=="function"?l:n,ri(tn(o,1,Ct,!0),n,l)});function q_(o){return o&&o.length?ri(o):[]}function W_(o,l){return o&&o.length?ri(o,ge(l,2)):[]}function V_(o,l){return l=typeof l=="function"?l:n,o&&o.length?ri(o,n,l):[]}function Ju(o){if(!(o&&o.length))return[];var l=0;return o=Xr(o,function(d){if(Ct(d))return l=Ft(d.length,l),!0}),pu(l,function(d){return ht(o,cu(d))})}function Jf(o,l){if(!(o&&o.length))return[];var d=Ju(o);return l==null?d:ht(d,function(f){return $n(l,n,f)})}var G_=je(function(o,l){return Ct(o)?us(o,l):[]}),J_=je(function(o){return Ru(Xr(o,Ct))}),Z_=je(function(o){var l=tr(o);return Ct(l)&&(l=n),Ru(Xr(o,Ct),ge(l,2))}),X_=je(function(o){var l=tr(o);return l=typeof l=="function"?l:n,Ru(Xr(o,Ct),n,l)}),Q_=je(Ju);function Y_(o,l){return hf(o||[],l||[],cs)}function ek(o,l){return hf(o||[],l||[],hs)}var tk=je(function(o){var l=o.length,d=l>1?o[l-1]:n;return d=typeof d=="function"?(o.pop(),d):n,Jf(o,d)});function Zf(o){var l=w(o);return l.__chain__=!0,l}function nk(o,l){return l(o),o}function Va(o,l){return l(o)}var rk=Fr(function(o){var l=o.length,d=l?o[0]:0,f=this.__wrapped__,y=function(_){return wu(_,o)};return l>1||this.__actions__.length||!(f instanceof Je)||!jr(d)?this.thru(y):(f=f.slice(d,+d+(l?1:0)),f.__actions__.push({func:Va,args:[y],thisArg:n}),new Qn(f,this.__chain__).thru(function(_){return l&&!_.length&&_.push(n),_}))});function ik(){return Zf(this)}function ok(){return new Qn(this.value(),this.__chain__)}function sk(){this.__values__===n&&(this.__values__=um(this.value()));var o=this.__index__>=this.__values__.length,l=o?n:this.__values__[this.__index__++];return{done:o,value:l}}function ak(){return this}function lk(o){for(var l,d=this;d instanceof La;){var f=Uf(d);f.__index__=0,f.__values__=n,l?y.__wrapped__=f:l=f;var y=f;d=d.__wrapped__}return y.__wrapped__=o,l}function ck(){var o=this.__wrapped__;if(o instanceof Je){var l=o;return this.__actions__.length&&(l=new Je(this)),l=l.reverse(),l.__actions__.push({func:Va,args:[Gu],thisArg:n}),new Qn(l,this.__chain__)}return this.thru(Gu)}function uk(){return pf(this.__wrapped__,this.__actions__)}var dk=za(function(o,l,d){rt.call(o,d)?++o[d]:Hr(o,d,1)});function pk(o,l,d){var f=Te(o)?xh:n1;return d&&yn(o,l,d)&&(l=n),f(o,ge(l,3))}function hk(o,l){var d=Te(o)?Xr:Gh;return d(o,ge(l,3))}var fk=Ef(Kf),mk=Ef(qf);function gk(o,l){return tn(Ga(o,l),1)}function bk(o,l){return tn(Ga(o,l),N)}function yk(o,l,d){return d=d===n?1:Re(d),tn(Ga(o,l),d)}function Xf(o,l){var d=Te(o)?Zn:ni;return d(o,ge(l,3))}function Qf(o,l){var d=Te(o)?$v:Vh;return d(o,ge(l,3))}var vk=za(function(o,l,d){rt.call(o,d)?o[d].push(l):Hr(o,d,[l])});function wk(o,l,d,f){o=xn(o)?o:vo(o),d=d&&!f?Re(d):0;var y=o.length;return d<0&&(d=Ft(y+d,0)),Ya(o)?d<=y&&o.indexOf(l,d)>-1:!!y&&ao(o,l,d)>-1}var _k=je(function(o,l,d){var f=-1,y=typeof l=="function",_=xn(o)?R(o.length):[];return ni(o,function(S){_[++f]=y?$n(l,S,d):ds(S,l,d)}),_}),kk=za(function(o,l,d){Hr(o,d,l)});function Ga(o,l){var d=Te(o)?ht:ef;return d(o,ge(l,3))}function Ek(o,l,d,f){return o==null?[]:(Te(l)||(l=l==null?[]:[l]),d=f?n:d,Te(d)||(d=d==null?[]:[d]),of(o,l,d))}var xk=za(function(o,l,d){o[d?0:1].push(l)},function(){return[[],[]]});function Sk(o,l,d){var f=Te(o)?au:Mh,y=arguments.length<3;return f(o,ge(l,4),d,y,ni)}function Ak(o,l,d){var f=Te(o)?Hv:Mh,y=arguments.length<3;return f(o,ge(l,4),d,y,Vh)}function Ck(o,l){var d=Te(o)?Xr:Gh;return d(o,Xa(ge(l,3)))}function Mk(o){var l=Te(o)?Uh:w1;return l(o)}function Tk(o,l,d){(d?yn(o,l,d):l===n)?l=1:l=Re(l);var f=Te(o)?Xw:_1;return f(o,l)}function Ok(o){var l=Te(o)?Qw:E1;return l(o)}function Nk(o){if(o==null)return 0;if(xn(o))return Ya(o)?co(o):o.length;var l=cn(o);return l==mt||l==Ie?o.size:Au(o).length}function Lk(o,l,d){var f=Te(o)?lu:x1;return d&&yn(o,l,d)&&(l=n),f(o,ge(l,3))}var Rk=je(function(o,l){if(o==null)return[];var d=l.length;return d>1&&yn(o,l[0],l[1])?l=[]:d>2&&yn(l[0],l[1],l[2])&&(l=[l[0]]),of(o,tn(l,1),[])}),Ja=hw||function(){return Gt.Date.now()};function Dk(o,l){if(typeof l!="function")throw new Xn(a);return o=Re(o),function(){if(--o<1)return l.apply(this,arguments)}}function Yf(o,l,d){return l=d?n:l,l=o&&l==null?o.length:l,zr(o,q,n,n,n,n,l)}function em(o,l){var d;if(typeof l!="function")throw new Xn(a);return o=Re(o),function(){return--o>0&&(d=l.apply(this,arguments)),o<=1&&(l=n),d}}var Zu=je(function(o,l,d){var f=k;if(d.length){var y=Yr(d,bo(Zu));f|=U}return zr(o,f,l,d,y)}),tm=je(function(o,l,d){var f=k|T;if(d.length){var y=Yr(d,bo(tm));f|=U}return zr(l,f,o,d,y)});function nm(o,l,d){l=d?n:l;var f=zr(o,L,n,n,n,n,n,l);return f.placeholder=nm.placeholder,f}function rm(o,l,d){l=d?n:l;var f=zr(o,A,n,n,n,n,n,l);return f.placeholder=rm.placeholder,f}function im(o,l,d){var f,y,_,S,C,O,z=0,F=!1,P=!1,Q=!0;if(typeof o!="function")throw new Xn(a);l=nr(l)||0,bt(d)&&(F=!!d.leading,P="maxWait"in d,_=P?Ft(nr(d.maxWait)||0,l):_,Q="trailing"in d?!!d.trailing:Q);function le(Mt){var fr=f,Kr=y;return f=y=n,z=Mt,S=o.apply(Kr,fr),S}function ve(Mt){return z=Mt,C=gs(Ge,l),F?le(Mt):S}function $e(Mt){var fr=Mt-O,Kr=Mt-z,Em=l-fr;return P?ln(Em,_-Kr):Em}function we(Mt){var fr=Mt-O,Kr=Mt-z;return O===n||fr>=l||fr<0||P&&Kr>=_}function Ge(){var Mt=Ja();if(we(Mt))return Xe(Mt);C=gs(Ge,$e(Mt))}function Xe(Mt){return C=n,Q&&f?le(Mt):(f=y=n,S)}function jn(){C!==n&&ff(C),z=0,f=O=y=C=n}function vn(){return C===n?S:Xe(Ja())}function Pn(){var Mt=Ja(),fr=we(Mt);if(f=arguments,y=this,O=Mt,fr){if(C===n)return ve(O);if(P)return ff(C),C=gs(Ge,l),le(O)}return C===n&&(C=gs(Ge,l)),S}return Pn.cancel=jn,Pn.flush=vn,Pn}var Ik=je(function(o,l){return Wh(o,1,l)}),Bk=je(function(o,l,d){return Wh(o,nr(l)||0,d)});function $k(o){return zr(o,J)}function Za(o,l){if(typeof o!="function"||l!=null&&typeof l!="function")throw new Xn(a);var d=function(){var f=arguments,y=l?l.apply(this,f):f[0],_=d.cache;if(_.has(y))return _.get(y);var S=o.apply(this,f);return d.cache=_.set(y,S)||_,S};return d.cache=new(Za.Cache||$r),d}Za.Cache=$r;function Xa(o){if(typeof o!="function")throw new Xn(a);return function(){var l=arguments;switch(l.length){case 0:return!o.call(this);case 1:return!o.call(this,l[0]);case 2:return!o.call(this,l[0],l[1]);case 3:return!o.call(this,l[0],l[1],l[2])}return!o.apply(this,l)}}function Hk(o){return em(2,o)}var zk=S1(function(o,l){l=l.length==1&&Te(l[0])?ht(l[0],Hn(ge())):ht(tn(l,1),Hn(ge()));var d=l.length;return je(function(f){for(var y=-1,_=ln(f.length,d);++y<_;)f[y]=l[y].call(this,f[y]);return $n(o,this,f)})}),Xu=je(function(o,l){var d=Yr(l,bo(Xu));return zr(o,U,n,l,d)}),om=je(function(o,l){var d=Yr(l,bo(om));return zr(o,$,n,l,d)}),Fk=Fr(function(o,l){return zr(o,ne,n,n,n,l)});function jk(o,l){if(typeof o!="function")throw new Xn(a);return l=l===n?l:Re(l),je(o,l)}function Pk(o,l){if(typeof o!="function")throw new Xn(a);return l=l==null?0:Ft(Re(l),0),je(function(d){var f=d[l],y=oi(d,0,l);return f&&Qr(y,f),$n(o,this,y)})}function Uk(o,l,d){var f=!0,y=!0;if(typeof o!="function")throw new Xn(a);return bt(d)&&(f="leading"in d?!!d.leading:f,y="trailing"in d?!!d.trailing:y),im(o,l,{leading:f,maxWait:l,trailing:y})}function Kk(o){return Yf(o,1)}function qk(o,l){return Xu(Iu(l),o)}function Wk(){if(!arguments.length)return[];var o=arguments[0];return Te(o)?o:[o]}function Vk(o){return Yn(o,b)}function Gk(o,l){return l=typeof l=="function"?l:n,Yn(o,b,l)}function Jk(o){return Yn(o,m|b)}function Zk(o,l){return l=typeof l=="function"?l:n,Yn(o,m|b,l)}function Xk(o,l){return l==null||qh(o,l,Jt(l))}function hr(o,l){return o===l||o!==o&&l!==l}var Qk=Ua(Eu),Yk=Ua(function(o,l){return o>=l}),Bi=Xh(function(){return arguments}())?Xh:function(o){return Et(o)&&rt.call(o,"callee")&&!$h.call(o,"callee")},Te=R.isArray,eE=yh?Hn(yh):l1;function xn(o){return o!=null&&Qa(o.length)&&!Pr(o)}function Ct(o){return Et(o)&&xn(o)}function tE(o){return o===!0||o===!1||Et(o)&&bn(o)==At}var si=mw||ld,nE=vh?Hn(vh):c1;function rE(o){return Et(o)&&o.nodeType===1&&!bs(o)}function iE(o){if(o==null)return!0;if(xn(o)&&(Te(o)||typeof o=="string"||typeof o.splice=="function"||si(o)||yo(o)||Bi(o)))return!o.length;var l=cn(o);if(l==mt||l==Ie)return!o.size;if(ms(o))return!Au(o).length;for(var d in o)if(rt.call(o,d))return!1;return!0}function oE(o,l){return ps(o,l)}function sE(o,l,d){d=typeof d=="function"?d:n;var f=d?d(o,l):n;return f===n?ps(o,l,n,d):!!f}function Qu(o){if(!Et(o))return!1;var l=bn(o);return l==Ut||l==Zt||typeof o.message=="string"&&typeof o.name=="string"&&!bs(o)}function aE(o){return typeof o=="number"&&zh(o)}function Pr(o){if(!bt(o))return!1;var l=bn(o);return l==Kt||l==Wn||l==sn||l==me}function sm(o){return typeof o=="number"&&o==Re(o)}function Qa(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=H}function bt(o){var l=typeof o;return o!=null&&(l=="object"||l=="function")}function Et(o){return o!=null&&typeof o=="object"}var am=wh?Hn(wh):d1;function lE(o,l){return o===l||Su(o,l,Pu(l))}function cE(o,l,d){return d=typeof d=="function"?d:n,Su(o,l,Pu(l),d)}function uE(o){return lm(o)&&o!=+o}function dE(o){if(G1(o))throw new Ce(s);return Qh(o)}function pE(o){return o===null}function hE(o){return o==null}function lm(o){return typeof o=="number"||Et(o)&&bn(o)==fn}function bs(o){if(!Et(o)||bn(o)!=Bt)return!1;var l=Sa(o);if(l===null)return!0;var d=rt.call(l,"constructor")&&l.constructor;return typeof d=="function"&&d instanceof d&&_a.call(d)==cw}var Yu=_h?Hn(_h):p1;function fE(o){return sm(o)&&o>=-H&&o<=H}var cm=kh?Hn(kh):h1;function Ya(o){return typeof o=="string"||!Te(o)&&Et(o)&&bn(o)==Be}function Fn(o){return typeof o=="symbol"||Et(o)&&bn(o)==$t}var yo=Eh?Hn(Eh):f1;function mE(o){return o===n}function gE(o){return Et(o)&&cn(o)==Qt}function bE(o){return Et(o)&&bn(o)==qt}var yE=Ua(Cu),vE=Ua(function(o,l){return o<=l});function um(o){if(!o)return[];if(xn(o))return Ya(o)?dr(o):En(o);if(rs&&o[rs])return Xv(o[rs]());var l=cn(o),d=l==mt?fu:l==Ie?ya:vo;return d(o)}function Ur(o){if(!o)return o===0?o:0;if(o=nr(o),o===N||o===-N){var l=o<0?-1:1;return l*re}return o===o?o:0}function Re(o){var l=Ur(o),d=l%1;return l===l?d?l-d:l:0}function dm(o){return o?Li(Re(o),0,he):0}function nr(o){if(typeof o=="number")return o;if(Fn(o))return se;if(bt(o)){var l=typeof o.valueOf=="function"?o.valueOf():o;o=bt(l)?l+"":l}if(typeof o!="string")return o===0?o:+o;o=Th(o);var d=Jc.test(o);return d||no.test(o)?Dv(o.slice(2),d?2:8):Gc.test(o)?se:+o}function pm(o){return kr(o,Sn(o))}function wE(o){return o?Li(Re(o),-H,H):o===0?o:0}function tt(o){return o==null?"":zn(o)}var _E=mo(function(o,l){if(ms(l)||xn(l)){kr(l,Jt(l),o);return}for(var d in l)rt.call(l,d)&&cs(o,d,l[d])}),hm=mo(function(o,l){kr(l,Sn(l),o)}),el=mo(function(o,l,d,f){kr(l,Sn(l),o,f)}),kE=mo(function(o,l,d,f){kr(l,Jt(l),o,f)}),EE=Fr(wu);function xE(o,l){var d=fo(o);return l==null?d:Kh(d,l)}var SE=je(function(o,l){o=st(o);var d=-1,f=l.length,y=f>2?l[2]:n;for(y&&yn(l[0],l[1],y)&&(f=1);++d<f;)for(var _=l[d],S=Sn(_),C=-1,O=S.length;++C<O;){var z=S[C],F=o[z];(F===n||hr(F,uo[z])&&!rt.call(o,z))&&(o[z]=_[z])}return o}),AE=je(function(o){return o.push(n,Of),$n(fm,n,o)});function CE(o,l){return Sh(o,ge(l,3),_r)}function ME(o,l){return Sh(o,ge(l,3),ku)}function TE(o,l){return o==null?o:_u(o,ge(l,3),Sn)}function OE(o,l){return o==null?o:Jh(o,ge(l,3),Sn)}function NE(o,l){return o&&_r(o,ge(l,3))}function LE(o,l){return o&&ku(o,ge(l,3))}function RE(o){return o==null?[]:Ia(o,Jt(o))}function DE(o){return o==null?[]:Ia(o,Sn(o))}function ed(o,l,d){var f=o==null?n:Ri(o,l);return f===n?d:f}function IE(o,l){return o!=null&&Rf(o,l,i1)}function td(o,l){return o!=null&&Rf(o,l,o1)}var BE=Sf(function(o,l,d){l!=null&&typeof l.toString!="function"&&(l=ka.call(l)),o[l]=d},rd(An)),$E=Sf(function(o,l,d){l!=null&&typeof l.toString!="function"&&(l=ka.call(l)),rt.call(o,l)?o[l].push(d):o[l]=[d]},ge),HE=je(ds);function Jt(o){return xn(o)?Ph(o):Au(o)}function Sn(o){return xn(o)?Ph(o,!0):m1(o)}function zE(o,l){var d={};return l=ge(l,3),_r(o,function(f,y,_){Hr(d,l(f,y,_),f)}),d}function FE(o,l){var d={};return l=ge(l,3),_r(o,function(f,y,_){Hr(d,y,l(f,y,_))}),d}var jE=mo(function(o,l,d){Ba(o,l,d)}),fm=mo(function(o,l,d,f){Ba(o,l,d,f)}),PE=Fr(function(o,l){var d={};if(o==null)return d;var f=!1;l=ht(l,function(_){return _=ii(_,o),f||(f=_.length>1),_}),kr(o,Fu(o),d),f&&(d=Yn(d,m|g|b,B1));for(var y=l.length;y--;)Lu(d,l[y]);return d});function UE(o,l){return mm(o,Xa(ge(l)))}var KE=Fr(function(o,l){return o==null?{}:b1(o,l)});function mm(o,l){if(o==null)return{};var d=ht(Fu(o),function(f){return[f]});return l=ge(l),sf(o,d,function(f,y){return l(f,y[0])})}function qE(o,l,d){l=ii(l,o);var f=-1,y=l.length;for(y||(y=1,o=n);++f<y;){var _=o==null?n:o[Er(l[f])];_===n&&(f=y,_=d),o=Pr(_)?_.call(o):_}return o}function WE(o,l,d){return o==null?o:hs(o,l,d)}function VE(o,l,d,f){return f=typeof f=="function"?f:n,o==null?o:hs(o,l,d,f)}var gm=Mf(Jt),bm=Mf(Sn);function GE(o,l,d){var f=Te(o),y=f||si(o)||yo(o);if(l=ge(l,4),d==null){var _=o&&o.constructor;y?d=f?new _:[]:bt(o)?d=Pr(_)?fo(Sa(o)):{}:d={}}return(y?Zn:_r)(o,function(S,C,O){return l(d,S,C,O)}),d}function JE(o,l){return o==null?!0:Lu(o,l)}function ZE(o,l,d){return o==null?o:df(o,l,Iu(d))}function XE(o,l,d,f){return f=typeof f=="function"?f:n,o==null?o:df(o,l,Iu(d),f)}function vo(o){return o==null?[]:hu(o,Jt(o))}function QE(o){return o==null?[]:hu(o,Sn(o))}function YE(o,l,d){return d===n&&(d=l,l=n),d!==n&&(d=nr(d),d=d===d?d:0),l!==n&&(l=nr(l),l=l===l?l:0),Li(nr(o),l,d)}function ex(o,l,d){return l=Ur(l),d===n?(d=l,l=0):d=Ur(d),o=nr(o),s1(o,l,d)}function tx(o,l,d){if(d&&typeof d!="boolean"&&yn(o,l,d)&&(l=d=n),d===n&&(typeof l=="boolean"?(d=l,l=n):typeof o=="boolean"&&(d=o,o=n)),o===n&&l===n?(o=0,l=1):(o=Ur(o),l===n?(l=o,o=0):l=Ur(l)),o>l){var f=o;o=l,l=f}if(d||o%1||l%1){var y=Fh();return ln(o+y*(l-o+Rv("1e-"+((y+"").length-1))),l)}return Tu(o,l)}var nx=go(function(o,l,d){return l=l.toLowerCase(),o+(d?ym(l):l)});function ym(o){return nd(tt(o).toLowerCase())}function vm(o){return o=tt(o),o&&o.replace(Xc,Wv).replace(Vt,"")}function rx(o,l,d){o=tt(o),l=zn(l);var f=o.length;d=d===n?f:Li(Re(d),0,f);var y=d;return d-=l.length,d>=0&&o.slice(d,y)==l}function ix(o){return o=tt(o),o&&Dr.test(o)?o.replace(wr,Vv):o}function ox(o){return o=tt(o),o&&ae.test(o)?o.replace(ut,"\\$&"):o}var sx=go(function(o,l,d){return o+(d?"-":"")+l.toLowerCase()}),ax=go(function(o,l,d){return o+(d?" ":"")+l.toLowerCase()}),lx=kf("toLowerCase");function cx(o,l,d){o=tt(o),l=Re(l);var f=l?co(o):0;if(!l||f>=l)return o;var y=(l-f)/2;return Pa(Ta(y),d)+o+Pa(Ma(y),d)}function ux(o,l,d){o=tt(o),l=Re(l);var f=l?co(o):0;return l&&f<l?o+Pa(l-f,d):o}function dx(o,l,d){o=tt(o),l=Re(l);var f=l?co(o):0;return l&&f<l?Pa(l-f,d)+o:o}function px(o,l,d){return d||l==null?l=0:l&&(l=+l),vw(tt(o).replace(te,""),l||0)}function hx(o,l,d){return(d?yn(o,l,d):l===n)?l=1:l=Re(l),Ou(tt(o),l)}function fx(){var o=arguments,l=tt(o[0]);return o.length<3?l:l.replace(o[1],o[2])}var mx=go(function(o,l,d){return o+(d?"_":"")+l.toLowerCase()});function gx(o,l,d){return d&&typeof d!="number"&&yn(o,l,d)&&(l=d=n),d=d===n?he:d>>>0,d?(o=tt(o),o&&(typeof l=="string"||l!=null&&!Yu(l))&&(l=zn(l),!l&&lo(o))?oi(dr(o),0,d):o.split(l,d)):[]}var bx=go(function(o,l,d){return o+(d?" ":"")+nd(l)});function yx(o,l,d){return o=tt(o),d=d==null?0:Li(Re(d),0,o.length),l=zn(l),o.slice(d,d+l.length)==l}function vx(o,l,d){var f=w.templateSettings;d&&yn(o,l,d)&&(l=n),o=tt(o),l=el({},l,f,Tf);var y=el({},l.imports,f.imports,Tf),_=Jt(y),S=hu(y,_),C,O,z=0,F=l.interpolate||ro,P="__p += '",Q=mu((l.escape||ro).source+"|"+F.source+"|"+(F===j?Jo:ro).source+"|"+(l.evaluate||ro).source+"|$","g"),le="//# sourceURL="+(rt.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Mv+"]")+`
`;o.replace(Q,function(we,Ge,Xe,jn,vn,Pn){return Xe||(Xe=jn),P+=o.slice(z,Pn).replace(Qc,Gv),Ge&&(C=!0,P+=`' +
__e(`+Ge+`) +
'`),vn&&(O=!0,P+=`';
`+vn+`;
__p += '`),Xe&&(P+=`' +
((__t = (`+Xe+`)) == null ? '' : __t) +
'`),z=Pn+we.length,we}),P+=`';
`;var ve=rt.call(l,"variable")&&l.variable;if(!ve)P=`with (obj) {
`+P+`
}
`;else if(Go.test(ve))throw new Ce(c);P=(O?P.replace(We,""):P).replace(Ht,"$1").replace(Wt,"$1;"),P="function("+(ve||"obj")+`) {
`+(ve?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(C?", __e = _.escape":"")+(O?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+P+`return __p
}`;var $e=_m(function(){return Ye(_,le+"return "+P).apply(n,S)});if($e.source=P,Qu($e))throw $e;return $e}function wx(o){return tt(o).toLowerCase()}function _x(o){return tt(o).toUpperCase()}function kx(o,l,d){if(o=tt(o),o&&(d||l===n))return Th(o);if(!o||!(l=zn(l)))return o;var f=dr(o),y=dr(l),_=Oh(f,y),S=Nh(f,y)+1;return oi(f,_,S).join("")}function Ex(o,l,d){if(o=tt(o),o&&(d||l===n))return o.slice(0,Rh(o)+1);if(!o||!(l=zn(l)))return o;var f=dr(o),y=Nh(f,dr(l))+1;return oi(f,0,y).join("")}function xx(o,l,d){if(o=tt(o),o&&(d||l===n))return o.replace(te,"");if(!o||!(l=zn(l)))return o;var f=dr(o),y=Oh(f,dr(l));return oi(f,y).join("")}function Sx(o,l){var d=pe,f=ke;if(bt(l)){var y="separator"in l?l.separator:y;d="length"in l?Re(l.length):d,f="omission"in l?zn(l.omission):f}o=tt(o);var _=o.length;if(lo(o)){var S=dr(o);_=S.length}if(d>=_)return o;var C=d-co(f);if(C<1)return f;var O=S?oi(S,0,C).join(""):o.slice(0,C);if(y===n)return O+f;if(S&&(C+=O.length-C),Yu(y)){if(o.slice(C).search(y)){var z,F=O;for(y.global||(y=mu(y.source,tt(sa.exec(y))+"g")),y.lastIndex=0;z=y.exec(F);)var P=z.index;O=O.slice(0,P===n?C:P)}}else if(o.indexOf(zn(y),C)!=C){var Q=O.lastIndexOf(y);Q>-1&&(O=O.slice(0,Q))}return O+f}function Ax(o){return o=tt(o),o&&ur.test(o)?o.replace(Vn,tw):o}var Cx=go(function(o,l,d){return o+(d?" ":"")+l.toUpperCase()}),nd=kf("toUpperCase");function wm(o,l,d){return o=tt(o),l=d?n:l,l===n?Zv(o)?iw(o):jv(o):o.match(l)||[]}var _m=je(function(o,l){try{return $n(o,n,l)}catch(d){return Qu(d)?d:new Ce(d)}}),Mx=Fr(function(o,l){return Zn(l,function(d){d=Er(d),Hr(o,d,Zu(o[d],o))}),o});function Tx(o){var l=o==null?0:o.length,d=ge();return o=l?ht(o,function(f){if(typeof f[1]!="function")throw new Xn(a);return[d(f[0]),f[1]]}):[],je(function(f){for(var y=-1;++y<l;){var _=o[y];if($n(_[0],this,f))return $n(_[1],this,f)}})}function Ox(o){return t1(Yn(o,m))}function rd(o){return function(){return o}}function Nx(o,l){return o==null||o!==o?l:o}var Lx=xf(),Rx=xf(!0);function An(o){return o}function id(o){return Yh(typeof o=="function"?o:Yn(o,m))}function Dx(o){return tf(Yn(o,m))}function Ix(o,l){return nf(o,Yn(l,m))}var Bx=je(function(o,l){return function(d){return ds(d,o,l)}}),$x=je(function(o,l){return function(d){return ds(o,d,l)}});function od(o,l,d){var f=Jt(l),y=Ia(l,f);d==null&&!(bt(l)&&(y.length||!f.length))&&(d=l,l=o,o=this,y=Ia(l,Jt(l)));var _=!(bt(d)&&"chain"in d)||!!d.chain,S=Pr(o);return Zn(y,function(C){var O=l[C];o[C]=O,S&&(o.prototype[C]=function(){var z=this.__chain__;if(_||z){var F=o(this.__wrapped__),P=F.__actions__=En(this.__actions__);return P.push({func:O,args:arguments,thisArg:o}),F.__chain__=z,F}return O.apply(o,Qr([this.value()],arguments))})}),o}function Hx(){return Gt._===this&&(Gt._=uw),this}function sd(){}function zx(o){return o=Re(o),je(function(l){return rf(l,o)})}var Fx=$u(ht),jx=$u(xh),Px=$u(lu);function km(o){return Ku(o)?cu(Er(o)):y1(o)}function Ux(o){return function(l){return o==null?n:Ri(o,l)}}var Kx=Af(),qx=Af(!0);function ad(){return[]}function ld(){return!1}function Wx(){return{}}function Vx(){return""}function Gx(){return!0}function Jx(o,l){if(o=Re(o),o<1||o>H)return[];var d=he,f=ln(o,he);l=ge(l),o-=he;for(var y=pu(f,l);++d<o;)l(d);return y}function Zx(o){return Te(o)?ht(o,Er):Fn(o)?[o]:En(Pf(tt(o)))}function Xx(o){var l=++lw;return tt(o)+l}var Qx=ja(function(o,l){return o+l},0),Yx=Hu("ceil"),eS=ja(function(o,l){return o/l},1),tS=Hu("floor");function nS(o){return o&&o.length?Da(o,An,Eu):n}function rS(o,l){return o&&o.length?Da(o,ge(l,2),Eu):n}function iS(o){return Ch(o,An)}function oS(o,l){return Ch(o,ge(l,2))}function sS(o){return o&&o.length?Da(o,An,Cu):n}function aS(o,l){return o&&o.length?Da(o,ge(l,2),Cu):n}var lS=ja(function(o,l){return o*l},1),cS=Hu("round"),uS=ja(function(o,l){return o-l},0);function dS(o){return o&&o.length?du(o,An):0}function pS(o,l){return o&&o.length?du(o,ge(l,2)):0}return w.after=Dk,w.ary=Yf,w.assign=_E,w.assignIn=hm,w.assignInWith=el,w.assignWith=kE,w.at=EE,w.before=em,w.bind=Zu,w.bindAll=Mx,w.bindKey=tm,w.castArray=Wk,w.chain=Zf,w.chunk=t_,w.compact=n_,w.concat=r_,w.cond=Tx,w.conforms=Ox,w.constant=rd,w.countBy=dk,w.create=xE,w.curry=nm,w.curryRight=rm,w.debounce=im,w.defaults=SE,w.defaultsDeep=AE,w.defer=Ik,w.delay=Bk,w.difference=i_,w.differenceBy=o_,w.differenceWith=s_,w.drop=a_,w.dropRight=l_,w.dropRightWhile=c_,w.dropWhile=u_,w.fill=d_,w.filter=hk,w.flatMap=gk,w.flatMapDeep=bk,w.flatMapDepth=yk,w.flatten=Wf,w.flattenDeep=p_,w.flattenDepth=h_,w.flip=$k,w.flow=Lx,w.flowRight=Rx,w.fromPairs=f_,w.functions=RE,w.functionsIn=DE,w.groupBy=vk,w.initial=g_,w.intersection=b_,w.intersectionBy=y_,w.intersectionWith=v_,w.invert=BE,w.invertBy=$E,w.invokeMap=_k,w.iteratee=id,w.keyBy=kk,w.keys=Jt,w.keysIn=Sn,w.map=Ga,w.mapKeys=zE,w.mapValues=FE,w.matches=Dx,w.matchesProperty=Ix,w.memoize=Za,w.merge=jE,w.mergeWith=fm,w.method=Bx,w.methodOf=$x,w.mixin=od,w.negate=Xa,w.nthArg=zx,w.omit=PE,w.omitBy=UE,w.once=Hk,w.orderBy=Ek,w.over=Fx,w.overArgs=zk,w.overEvery=jx,w.overSome=Px,w.partial=Xu,w.partialRight=om,w.partition=xk,w.pick=KE,w.pickBy=mm,w.property=km,w.propertyOf=Ux,w.pull=E_,w.pullAll=Gf,w.pullAllBy=x_,w.pullAllWith=S_,w.pullAt=A_,w.range=Kx,w.rangeRight=qx,w.rearg=Fk,w.reject=Ck,w.remove=C_,w.rest=jk,w.reverse=Gu,w.sampleSize=Tk,w.set=WE,w.setWith=VE,w.shuffle=Ok,w.slice=M_,w.sortBy=Rk,w.sortedUniq=I_,w.sortedUniqBy=B_,w.split=gx,w.spread=Pk,w.tail=$_,w.take=H_,w.takeRight=z_,w.takeRightWhile=F_,w.takeWhile=j_,w.tap=nk,w.throttle=Uk,w.thru=Va,w.toArray=um,w.toPairs=gm,w.toPairsIn=bm,w.toPath=Zx,w.toPlainObject=pm,w.transform=GE,w.unary=Kk,w.union=P_,w.unionBy=U_,w.unionWith=K_,w.uniq=q_,w.uniqBy=W_,w.uniqWith=V_,w.unset=JE,w.unzip=Ju,w.unzipWith=Jf,w.update=ZE,w.updateWith=XE,w.values=vo,w.valuesIn=QE,w.without=G_,w.words=wm,w.wrap=qk,w.xor=J_,w.xorBy=Z_,w.xorWith=X_,w.zip=Q_,w.zipObject=Y_,w.zipObjectDeep=ek,w.zipWith=tk,w.entries=gm,w.entriesIn=bm,w.extend=hm,w.extendWith=el,od(w,w),w.add=Qx,w.attempt=_m,w.camelCase=nx,w.capitalize=ym,w.ceil=Yx,w.clamp=YE,w.clone=Vk,w.cloneDeep=Jk,w.cloneDeepWith=Zk,w.cloneWith=Gk,w.conformsTo=Xk,w.deburr=vm,w.defaultTo=Nx,w.divide=eS,w.endsWith=rx,w.eq=hr,w.escape=ix,w.escapeRegExp=ox,w.every=pk,w.find=fk,w.findIndex=Kf,w.findKey=CE,w.findLast=mk,w.findLastIndex=qf,w.findLastKey=ME,w.floor=tS,w.forEach=Xf,w.forEachRight=Qf,w.forIn=TE,w.forInRight=OE,w.forOwn=NE,w.forOwnRight=LE,w.get=ed,w.gt=Qk,w.gte=Yk,w.has=IE,w.hasIn=td,w.head=Vf,w.identity=An,w.includes=wk,w.indexOf=m_,w.inRange=ex,w.invoke=HE,w.isArguments=Bi,w.isArray=Te,w.isArrayBuffer=eE,w.isArrayLike=xn,w.isArrayLikeObject=Ct,w.isBoolean=tE,w.isBuffer=si,w.isDate=nE,w.isElement=rE,w.isEmpty=iE,w.isEqual=oE,w.isEqualWith=sE,w.isError=Qu,w.isFinite=aE,w.isFunction=Pr,w.isInteger=sm,w.isLength=Qa,w.isMap=am,w.isMatch=lE,w.isMatchWith=cE,w.isNaN=uE,w.isNative=dE,w.isNil=hE,w.isNull=pE,w.isNumber=lm,w.isObject=bt,w.isObjectLike=Et,w.isPlainObject=bs,w.isRegExp=Yu,w.isSafeInteger=fE,w.isSet=cm,w.isString=Ya,w.isSymbol=Fn,w.isTypedArray=yo,w.isUndefined=mE,w.isWeakMap=gE,w.isWeakSet=bE,w.join=w_,w.kebabCase=sx,w.last=tr,w.lastIndexOf=__,w.lowerCase=ax,w.lowerFirst=lx,w.lt=yE,w.lte=vE,w.max=nS,w.maxBy=rS,w.mean=iS,w.meanBy=oS,w.min=sS,w.minBy=aS,w.stubArray=ad,w.stubFalse=ld,w.stubObject=Wx,w.stubString=Vx,w.stubTrue=Gx,w.multiply=lS,w.nth=k_,w.noConflict=Hx,w.noop=sd,w.now=Ja,w.pad=cx,w.padEnd=ux,w.padStart=dx,w.parseInt=px,w.random=tx,w.reduce=Sk,w.reduceRight=Ak,w.repeat=hx,w.replace=fx,w.result=qE,w.round=cS,w.runInContext=M,w.sample=Mk,w.size=Nk,w.snakeCase=mx,w.some=Lk,w.sortedIndex=T_,w.sortedIndexBy=O_,w.sortedIndexOf=N_,w.sortedLastIndex=L_,w.sortedLastIndexBy=R_,w.sortedLastIndexOf=D_,w.startCase=bx,w.startsWith=yx,w.subtract=uS,w.sum=dS,w.sumBy=pS,w.template=vx,w.times=Jx,w.toFinite=Ur,w.toInteger=Re,w.toLength=dm,w.toLower=wx,w.toNumber=nr,w.toSafeInteger=wE,w.toString=tt,w.toUpper=_x,w.trim=kx,w.trimEnd=Ex,w.trimStart=xx,w.truncate=Sx,w.unescape=Ax,w.uniqueId=Xx,w.upperCase=Cx,w.upperFirst=nd,w.each=Xf,w.eachRight=Qf,w.first=Vf,od(w,function(){var o={};return _r(w,function(l,d){rt.call(w.prototype,d)||(o[d]=l)}),o}(),{chain:!1}),w.VERSION=r,Zn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){w[o].placeholder=w}),Zn(["drop","take"],function(o,l){Je.prototype[o]=function(d){d=d===n?1:Ft(Re(d),0);var f=this.__filtered__&&!l?new Je(this):this.clone();return f.__filtered__?f.__takeCount__=ln(d,f.__takeCount__):f.__views__.push({size:ln(d,he),type:o+(f.__dir__<0?"Right":"")}),f},Je.prototype[o+"Right"]=function(d){return this.reverse()[o](d).reverse()}}),Zn(["filter","map","takeWhile"],function(o,l){var d=l+1,f=d==ze||d==Oe;Je.prototype[o]=function(y){var _=this.clone();return _.__iteratees__.push({iteratee:ge(y,3),type:d}),_.__filtered__=_.__filtered__||f,_}}),Zn(["head","last"],function(o,l){var d="take"+(l?"Right":"");Je.prototype[o]=function(){return this[d](1).value()[0]}}),Zn(["initial","tail"],function(o,l){var d="drop"+(l?"":"Right");Je.prototype[o]=function(){return this.__filtered__?new Je(this):this[d](1)}}),Je.prototype.compact=function(){return this.filter(An)},Je.prototype.find=function(o){return this.filter(o).head()},Je.prototype.findLast=function(o){return this.reverse().find(o)},Je.prototype.invokeMap=je(function(o,l){return typeof o=="function"?new Je(this):this.map(function(d){return ds(d,o,l)})}),Je.prototype.reject=function(o){return this.filter(Xa(ge(o)))},Je.prototype.slice=function(o,l){o=Re(o);var d=this;return d.__filtered__&&(o>0||l<0)?new Je(d):(o<0?d=d.takeRight(-o):o&&(d=d.drop(o)),l!==n&&(l=Re(l),d=l<0?d.dropRight(-l):d.take(l-o)),d)},Je.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},Je.prototype.toArray=function(){return this.take(he)},_r(Je.prototype,function(o,l){var d=/^(?:filter|find|map|reject)|While$/.test(l),f=/^(?:head|last)$/.test(l),y=w[f?"take"+(l=="last"?"Right":""):l],_=f||/^find/.test(l);y&&(w.prototype[l]=function(){var S=this.__wrapped__,C=f?[1]:arguments,O=S instanceof Je,z=C[0],F=O||Te(S),P=function(Ge){var Xe=y.apply(w,Qr([Ge],C));return f&&Q?Xe[0]:Xe};F&&d&&typeof z=="function"&&z.length!=1&&(O=F=!1);var Q=this.__chain__,le=!!this.__actions__.length,ve=_&&!Q,$e=O&&!le;if(!_&&F){S=$e?S:new Je(this);var we=o.apply(S,C);return we.__actions__.push({func:Va,args:[P],thisArg:n}),new Qn(we,Q)}return ve&&$e?o.apply(this,C):(we=this.thru(P),ve?f?we.value()[0]:we.value():we)})}),Zn(["pop","push","shift","sort","splice","unshift"],function(o){var l=va[o],d=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",f=/^(?:pop|shift)$/.test(o);w.prototype[o]=function(){var y=arguments;if(f&&!this.__chain__){var _=this.value();return l.apply(Te(_)?_:[],y)}return this[d](function(S){return l.apply(Te(S)?S:[],y)})}}),_r(Je.prototype,function(o,l){var d=w[l];if(d){var f=d.name+"";rt.call(ho,f)||(ho[f]=[]),ho[f].push({name:l,func:d})}}),ho[Fa(n,T).name]=[{name:"wrapper",func:n}],Je.prototype.clone=Aw,Je.prototype.reverse=Cw,Je.prototype.value=Mw,w.prototype.at=rk,w.prototype.chain=ik,w.prototype.commit=ok,w.prototype.next=sk,w.prototype.plant=lk,w.prototype.reverse=ck,w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=uk,w.prototype.first=w.prototype.head,rs&&(w.prototype[rs]=ak),w},ei=ow();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Gt._=ei,define(function(){return ei})):Mi?((Mi.exports=ei)._=ei,iu._=ei):Gt._=ei}).call(e)});function un(e){this.content=e}un.prototype={constructor:un,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),s=r.content.slice();return i==-1?s.push(n||e,t):(s[i+1]=t,n&&(s[i]=n)),new un(s)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new un(n)},addToStart:function(e,t){return new un([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new un(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),s=r.find(e);return i.splice(s==-1?i.length:s,0,t,n),new un(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=un.from(e),e.size?new un(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=un.from(e),e.size?new un(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=un.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};un.from=function(e){if(e instanceof un)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new un(t)};var xm=un;function A0(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),s=t.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let a=0;i.text[a]==s.text[a];a++)n++;return n}if(i.content.size||s.content.size){let a=A0(i.content,s.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function C0(e,t,n,r){for(let i=e.childCount,s=t.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let a=e.child(--i),c=t.child(--s),u=a.nodeSize;if(a==c){n-=u,r-=u;continue}if(!a.sameMarkup(c))return{a:n,b:r};if(a.isText&&a.text!=c.text){let p=0,h=Math.min(a.text.length,c.text.length);for(;p<h&&a.text[a.text.length-p-1]==c.text[c.text.length-p-1];)p++,n--,r--;return{a:n,b:r}}if(a.content.size||c.content.size){let p=C0(a.content,c.content,n-1,r-1);if(p)return p}n-=u,r-=u}}var K=class wn{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,s){for(let a=0,c=0;c<n;a++){let u=this.content[a],p=c+u.nodeSize;if(p>t&&r(u,i+c,s||null,a)!==!1&&u.content.size){let h=c+1;u.nodesBetween(Math.max(0,t-h),Math.min(u.content.size,n-h),r,i+h)}c=p}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let s="",a=!0;return this.nodesBetween(t,n,(c,u)=>{let p=c.isText?c.text.slice(Math.max(t,u)-u,n-u):c.isLeaf?i?typeof i=="function"?i(c):i:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&p||c.isTextblock)&&r&&(a?a=!1:s+=r),s+=p},0),s}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<t.content.length;s++)i.push(t.content[s]);return new wn(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let s=0,a=0;a<n;s++){let c=this.content[s],u=a+c.nodeSize;u>t&&((a<t||u>n)&&(c.isText?c=c.cut(Math.max(0,t-a),Math.min(c.text.length,n-a)):c=c.cut(Math.max(0,t-a-1),Math.min(c.content.size,n-a-1))),r.push(c),i+=c.nodeSize),a=u}return new wn(r,i)}cutByIndex(t,n){return t==n?wn.empty:t==0&&n==this.content.length?this:new wn(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new wn(i,s)}addToStart(t){return new wn([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new wn(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return A0(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return C0(this,t,n,r)}findIndex(t,n=-1){if(t==0)return tl(0,t);if(t==this.size)return tl(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),a=i+s.nodeSize;if(a>=t)return a==t||n>0?tl(r+1,a):tl(r,i);i=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return wn.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new wn(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return wn.empty;let n,r=0;for(let i=0;i<t.length;i++){let s=t[i];r+=s.nodeSize,i&&s.isText&&t[i-1].sameMarkup(s)?(n||(n=t.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new wn(n||t,r)}static from(t){if(!t)return wn.empty;if(t instanceof wn)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new wn([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};K.empty=new K([],0);var cd={index:0,offset:0};function tl(e,t){return cd.index=e,cd.offset=t,cd}function Pl(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!Pl(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!Pl(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}var ft=class Hd{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let s=t[i];if(this.eq(s))return t;if(this.type.excludes(s.type))n||(n=t.slice(0,i));else{if(s.type.excludes(this.type))return t;!r&&s.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Pl(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return Hd.none;if(t instanceof Hd)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};ft.none=[];var Ul=class extends Error{},ee=class Eo{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=T0(this.content,t+this.openStart,n);return r&&new Eo(r,this.openStart,this.openEnd)}removeBetween(t,n){return new Eo(M0(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return Eo.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Eo(K.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let s=t.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=t.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new Eo(t,r,i)}};ee.empty=new ee(K.empty,0,0);function M0(e,t,n){let{index:r,offset:i}=e.findIndex(t),s=e.maybeChild(r),{index:a,offset:c}=e.findIndex(n);if(i==t||s.isText){if(c!=n&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(r,s.copy(M0(s.content,t-i-1,n-i-1)))}function T0(e,t,n,r){let{index:i,offset:s}=e.findIndex(t),a=e.maybeChild(i);if(s==t||a.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let c=T0(a.content,t-s-1,n);return c&&e.replaceChild(i,a.copy(c))}function kS(e,t,n){if(n.openStart>e.depth)throw new Ul("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Ul("Inconsistent open depths");return O0(e,t,n,0)}function O0(e,t,n,r){let i=e.index(r),s=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let a=O0(e,t,n,r+1);return s.copy(s.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let a=e.parent,c=a.content;return Pi(a,c.cut(0,e.parentOffset).append(n.content).append(c.cut(t.parentOffset)))}else{let{start:a,end:c}=ES(n,e);return Pi(s,L0(e,a,c,t,r))}else return Pi(s,Kl(e,t,r))}function N0(e,t){if(!t.type.compatibleContent(e.type))throw new Ul("Cannot join "+t.type.name+" onto "+e.type.name)}function zd(e,t,n){let r=e.node(n);return N0(r,t.node(n)),r}function ji(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Ms(e,t,n,r){let i=(t||e).node(n),s=0,a=t?t.index(n):i.childCount;e&&(s=e.index(n),e.depth>n?s++:e.textOffset&&(ji(e.nodeAfter,r),s++));for(let c=s;c<a;c++)ji(i.child(c),r);t&&t.depth==n&&t.textOffset&&ji(t.nodeBefore,r)}function Pi(e,t){return e.type.checkContent(t),e.copy(t)}function L0(e,t,n,r,i){let s=e.depth>i&&zd(e,t,i+1),a=r.depth>i&&zd(n,r,i+1),c=[];return Ms(null,e,i,c),s&&a&&t.index(i)==n.index(i)?(N0(s,a),ji(Pi(s,L0(e,t,n,r,i+1)),c)):(s&&ji(Pi(s,Kl(e,t,i+1)),c),Ms(t,n,i,c),a&&ji(Pi(a,Kl(n,r,i+1)),c)),Ms(r,null,i,c),new K(c)}function Kl(e,t,n){let r=[];if(Ms(null,e,n,r),e.depth>n){let i=zd(e,t,n+1);ji(Pi(i,Kl(e,t,n+1)),r)}return Ms(t,null,n,r),new K(r)}function ES(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let i=n-1;i>=0;i--)r=t.node(i).copy(K.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}var Sm=class Fd{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<t;s++)i+=r.child(s).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return ft.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let c=r;r=i,i=c}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!i||!s[a].isInSet(i.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new ql(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let a=t;;){let{index:c,offset:u}=a.content.findIndex(s),p=s-u;if(r.push(a,c,i+u),!p||(a=a.child(c),a.isText))break;s=p-1,i+=u+1}return new Fd(n,r,s)}static resolveCached(t,n){let r=Am.get(t);if(r)for(let s=0;s<r.elts.length;s++){let a=r.elts[s];if(a.pos==n)return a}else Am.set(t,r=new xS);let i=r.elts[r.i]=Fd.resolve(t,n);return r.i=(r.i+1)%SS,i}},xS=class{constructor(){this.elts=[],this.i=0}},SS=12,Am=new WeakMap,ql=class{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}},AS=Object.create(null),Ro=class jd{constructor(t,n,r,i=ft.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||K.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&Pl(this.attrs,n||t.defaultAttrs||AS)&&ft.sameSet(this.marks,r||ft.none)}copy(t=null){return t==this.content?this:new jd(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new jd(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return ee.empty;let i=this.resolve(t),s=this.resolve(n),a=r?0:i.sharedDepth(n),c=i.start(a),u=i.node(a).content.cut(i.pos-c,s.pos-c);return new ee(u,i.depth-a,s.depth-a)}replace(t,n,r){return kS(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return Sm.resolveCached(this,t)}resolveNoCache(t){return Sm.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),R0(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=K.empty,i=0,s=r.childCount){let a=this.contentMatchAt(t).matchFragment(r,i,s),c=a&&a.matchFragment(this.content,n);if(!c||!c.validEnd)return!1;for(let u=i;u<s;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(t).matchType(r),a=s&&s.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=ft.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!ft.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=K.fromJSON(t,n.content),s=t.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Ro.prototype.text=void 0;var CS=class Pd extends Ro{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):R0(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Pd(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Pd(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}};function R0(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var Hs=class D0{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new MS(t,n);if(r.next==null)return D0.empty;let i=I0(r);r.next&&r.err("Unexpected trailing text");let s=IS(DS(i));return BS(s,r),s}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(t.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function s(a,c){let u=a.matchFragment(t,r);if(u&&(!n||u.validEnd))return K.from(c.map(p=>p.createAndFill()));for(let p=0;p<a.next.length;p++){let{type:h,next:m}=a.next[p];if(!(h.isText||h.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);let g=s(m,c.concat(h));if(g)return g}}return null}return s(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(t)){let a=[];for(let c=i;c.type;c=c.via)a.push(c.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:c,next:u}=s.next[a];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in n)&&(!i.type||u.validEnd)&&(r.push({match:c.contentMatch,type:c,via:i}),n[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+t.indexOf(r.next[a].next);return s}).join(`
`)}};Hs.empty=new Hs(!0);var MS=class{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}};function I0(e){let t=[];do t.push(TS(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function TS(e){let t=[];do t.push(OS(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function OS(e){let t=RS(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=NS(e,t);else break;return t}function Cm(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function NS(e,t){let n=Cm(e),r=n;return e.eat(",")&&(e.next!="}"?r=Cm(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function LS(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let s in n){let a=n[s];a.groups.indexOf(t)>-1&&i.push(a)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function RS(e){if(e.eat("(")){let t=I0(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=LS(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function DS(e){let t=[[]];return i(s(e,0),n()),t;function n(){return t.push([])-1}function r(a,c,u){let p={term:u,to:c};return t[a].push(p),p}function i(a,c){a.forEach(u=>u.to=c)}function s(a,c){if(a.type=="choice")return a.exprs.reduce((u,p)=>u.concat(s(p,c)),[]);if(a.type=="seq")for(let u=0;;u++){let p=s(a.exprs[u],c);if(u==a.exprs.length-1)return p;i(p,c=n())}else if(a.type=="star"){let u=n();return r(c,u),i(s(a.expr,u),u),[r(u)]}else if(a.type=="plus"){let u=n();return i(s(a.expr,c),u),i(s(a.expr,u),u),[r(u)]}else{if(a.type=="opt")return[r(c)].concat(s(a.expr,c));if(a.type=="range"){let u=c;for(let p=0;p<a.min;p++){let h=n();i(s(a.expr,u),h),u=h}if(a.max==-1)i(s(a.expr,u),u);else for(let p=a.min;p<a.max;p++){let h=n();r(u,h),i(s(a.expr,u),h),u=h}return[r(u)]}else{if(a.type=="name")return[r(c,void 0,a.value)];throw new Error("Unknown expr type")}}}}function B0(e,t){return t-e}function Mm(e,t){let n=[];return r(t),n.sort(B0);function r(i){let s=e[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let a=0;a<s.length;a++){let{term:c,to:u}=s[a];!c&&n.indexOf(u)==-1&&r(u)}}}function IS(e){let t=Object.create(null);return n(Mm(e,0));function n(r){let i=[];r.forEach(a=>{e[a].forEach(({term:c,to:u})=>{if(!c)return;let p;for(let h=0;h<i.length;h++)i[h][0]==c&&(p=i[h][1]);Mm(e,u).forEach(h=>{p||i.push([c,p=[]]),p.indexOf(h)==-1&&p.push(h)})})});let s=t[r.join(",")]=new Hs(r.indexOf(e.length-1)>-1);for(let a=0;a<i.length;a++){let c=i[a][1].sort(B0);s.next.push({type:i[a][0],next:t[c.join(",")]||n(c)})}return s}}function BS(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],s=!i.validEnd,a=[];for(let c=0;c<i.next.length;c++){let{type:u,next:p}=i.next[c];a.push(u.name),s&&!(u.isText||u.hasRequiredAttrs())&&(s=!1),r.indexOf(p)==-1&&r.push(p)}s&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function $0(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function H0(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let s=e[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function z0(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in e){let s=e[i];s.validate&&s.validate(t[i])}}function F0(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new HS(e,r,t[r]);return n}var Tm=class j0{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=F0(t,r.attrs),this.defaultAttrs=$0(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Hs.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:H0(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ro(this,this.computeAttrs(t),K.from(n),ft.setFrom(r))}createChecked(t=null,n,r){return n=K.from(n),this.checkContent(n),new Ro(this,this.computeAttrs(t),n,ft.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=K.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(K.empty,!0);return s?new Ro(this,t,n.append(s),ft.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){z0(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:ft.none:t}static compile(t,n){let r=Object.create(null);t.forEach((s,a)=>r[s]=new j0(s,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function $S(e,t,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${s}`)}}var HS=class{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?$S(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}},P0=class U0{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=F0(t,i.attrs),this.excluded=null;let s=$0(this.attrs);this.instance=s?new ft(this,s):null}create(t=null){return!t&&this.instance?this.instance:new ft(this,H0(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((s,a)=>r[s]=new U0(s,i++,n,a)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){z0(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}},zS=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let r in e)t[r]=e[r];t.nodes=xm.from(e.nodes),t.marks=xm.from(e.marks||{}),this.nodes=Tm.compile(this.spec.nodes,this),this.marks=P0.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let i=this.nodes[r],s=i.spec.content||"",a=i.spec.marks;if(i.contentMatch=n[s]||(n[s]=Hs.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=a=="_"?null:a?Om(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let r in this.marks){let i=this.marks[r],s=i.spec.excludes;i.excluded=s==null?[i]:s==""?[]:Om(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Tm){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new CS(n,n.defaultAttrs,e,ft.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Ro.fromJSON(this,e)}markFromJSON(e){return ft.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}};function Om(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],s=e.marks[i],a=s;if(s)n.push(s);else for(let c in e.marks){let u=e.marks[c];(i=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=u)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function FS(e){return e.tag!=null}function jS(e){return e.style!=null}var Cl=class Ud{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(FS(i))this.tags.push(i);else if(jS(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=t.nodes[i.node];return s.contentMatch.matchType(s)})}parse(t,n={}){let r=new Lm(this,n,!1);return r.addAll(t,ft.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new Lm(this,n,!0);return r.addAll(t,ft.none,n.from,n.to),ee.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(KS(t,s.tag)&&(s.namespace===void 0||t.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(t);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(t,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let a=this.styles[s],c=a.style;if(!(c.indexOf(t)!=0||a.context&&!r.matchesContext(a.context)||c.length>t.length&&(c.charCodeAt(t.length)!=61||c.slice(t.length+1)!=n))){if(a.getAttrs){let u=a.getAttrs(n);if(u===!1)continue;a.attrs=u||void 0}return a}}}static schemaRules(t){let n=[];function r(i){let s=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let c=n[a];if((c.priority==null?50:c.priority)<s)break}n.splice(a,0,i)}for(let i in t.marks){let s=t.marks[i].spec.parseDOM;s&&s.forEach(a=>{r(a=Rm(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in t.nodes){let s=t.nodes[i].spec.parseDOM;s&&s.forEach(a=>{r(a=Rm(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Ud(t,Ud.schemaRules(t)))}},K0={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},PS={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},q0={ol:!0,ul:!0},Wl=1,Vl=2,Ts=4;function Nm(e,t,n){return t!=null?(t?Wl:0)|(t==="full"?Vl:0):e&&e.whitespace=="pre"?Wl|Vl:n&~Ts}var nl=class{constructor(e,t,n,r,i,s){this.type=e,this.attrs=t,this.marks=n,this.solid=r,this.options=s,this.content=[],this.activeMarks=ft.none,this.match=i||(s&Ts?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(K.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let n=this.type.contentMatch,r;return(r=n.findWrapping(e.type))?(this.match=n,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Wl)){let n=this.content[this.content.length-1],r;if(n&&n.isText&&(r=/[ \t\r\n\u000c]+$/.exec(n.text))){let i=n;n.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-r[0].length))}}let t=K.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(K.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!K0.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}},Lm=class{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;let r=t.topNode,i,s=Nm(null,t.preserveWhitespace,0)|(n?Ts:0);r?i=new nl(r.type,r.attrs,ft.none,!0,t.topMatch||r.type.contentMatch,s):n?i=new nl(null,null,ft.none,!0,null,s):i=new nl(e.schema.topNodeType,null,ft.none,!0,null,s),this.nodes=[i],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,r=this.top;if(r.options&Vl||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&Wl)r.options&Vl?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],s=e.previousSibling;(!i||s&&s.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let r=e.nodeName.toLowerCase(),i;q0.hasOwnProperty(r)&&this.parser.normalizeLists&&US(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(s?s.ignore:PS.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e,t);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let a,c=this.top,u=this.needsBlock;if(K0.hasOwnProperty(r))c.content.length&&c.content[0].isInline&&this.open&&(this.open--,c=this.top),a=!0,c.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);return}let p=s&&s.skip?t:this.readStyles(e,t);p&&this.addAll(e,p),a&&this.sync(c),this.needsBlock=u}else{let a=this.readStyles(e,t);a&&this.addElementByRule(e,s,a,s.consuming===!1?i:void 0)}}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let i=this.parser.matchedStyles[r],s=n.getPropertyValue(i);if(s)for(let a=void 0;;){let c=this.parser.matchStyle(i,s,this,a);if(!c)break;if(c.ignore)return null;if(c.clearMark?t=t.filter(u=>!c.clearMark(u)):t=t.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)a=c;else break}}return t}addElementByRule(e,t,n,r){let i,s;if(t.node)if(s=this.parser.schema.nodes[t.node],s.isLeaf)this.insertNode(s.create(t.attrs),n)||this.leafFallback(e,n);else{let c=this.enter(s,t.attrs||null,n,t.preserveWhitespace);c&&(i=!0,n=c)}else{let c=this.parser.schema.marks[t.mark];n=n.concat(c.create(t.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(r)this.addElement(e,n,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,n));else{let c=e;typeof t.contentElement=="string"?c=e.querySelector(t.contentElement):typeof t.contentElement=="function"?c=t.contentElement(e):t.contentElement&&(c=t.contentElement),this.findAround(e,c,!0),this.addAll(c,n)}i&&this.sync(a)&&this.open--}addAll(e,t,n,r){let i=n||0;for(let s=n?e.childNodes[n]:e.firstChild,a=r==null?null:e.childNodes[r];s!=a;s=s.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(s,t);this.findAtPoint(e,i)}findPlace(e,t){let n,r;for(let i=this.open;i>=0;i--){let s=this.nodes[i],a=s.findWrapping(e);if(a&&(!n||n.length>a.length)&&(n=a,r=s,!a.length)||s.solid)break}if(!n)return null;this.sync(r);for(let i=0;i<n.length;i++)t=this.enterInner(n[i],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&(t=this.enterInner(r,null,t))}let n=this.findPlace(e,t);if(n){this.closeExtra();let r=this.top;r.match&&(r.match=r.match.matchType(e.type));let i=ft.none;for(let s of n.concat(e.marks))(r.type?r.type.allowsMarkType(s.type):Dm(s.type,e.type))&&(i=s.addToSet(i));return r.content.push(e.mark(i)),!0}return!1}enter(e,t,n,r){let i=this.findPlace(e.create(t),n);return i&&(i=this.enterInner(e,t,n,!0,r)),i}enterInner(e,t,n,r=!1,i){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let a=Nm(e,i,s.options);s.options&Ts&&s.content.length==0&&(a|=Ts);let c=ft.none;return n=n.filter(u=>(s.type?s.type.allowsMarkType(u.type):Dm(u.type,e))?(c=u.addToSet(c),!1):!0),this.nodes.push(new nl(e,t,c,r,null,a)),this.open++,n}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let r=n.length-1;r>=0;r--)e+=n[r].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),i=-(n?n.depth+1:0)+(r?0:1),s=(a,c)=>{for(;a>=0;a--){let u=t[a];if(u==""){if(a==t.length-1||a==0)continue;for(;c>=i;c--)if(s(a-1,c))return!0;return!1}else{let p=c>0||c==0&&r?this.nodes[c].type:n&&c>=i?n.node(c-i).type:null;if(!p||p.name!=u&&p.groups.indexOf(u)==-1)return!1;c--}}return!0};return s(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let n=this.parser.schema.nodes[t];if(n.isTextblock&&n.defaultAttrs)return n}}};function US(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&q0.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function KS(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function Rm(e){let t={};for(let n in e)t[n]=e[n];return t}function Dm(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let s=[],a=c=>{s.push(c);for(let u=0;u<c.edgeCount;u++){let{type:p,next:h}=c.edge(u);if(p==t||s.indexOf(h)<0&&a(h))return!0}};if(a(i.contentMatch))return!0}}var W0=class V0{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=ud(n).createDocumentFragment());let i=r,s=[];return t.forEach(a=>{if(s.length||a.marks.length){let c=0,u=0;for(;c<s.length&&u<a.marks.length;){let p=a.marks[u];if(!this.marks[p.type.name]){u++;continue}if(!p.eq(s[c][0])||p.type.spec.spanning===!1)break;c++,u++}for(;c<s.length;)i=s.pop()[1];for(;u<a.marks.length;){let p=a.marks[u++],h=this.serializeMark(p,a.isInline,n);h&&(s.push([p,i]),i.appendChild(h.dom),i=h.contentDOM||h.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=Ml(ud(n),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let s=this.serializeMark(t.marks[i],t.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&Ml(ud(r),i(t,n),null,t.attrs)}static renderSpec(t,n,r=null,i){return Ml(t,n,r,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new V0(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=Im(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return Im(t.marks)}};function Im(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function ud(e){return e.document||window.document}var Bm=new WeakMap;function qS(e){let t=Bm.get(e);return t===void 0&&Bm.set(e,t=WS(e)),t}function WS(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(e),t}function Ml(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=qS(r))&&s.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let c,u=n?e.createElementNS(n,i):e.createElement(i),p=t[1],h=1;if(p&&typeof p=="object"&&p.nodeType==null&&!Array.isArray(p)){h=2;for(let m in p)if(p[m]!=null){let g=m.indexOf(" ");g>0?u.setAttributeNS(m.slice(0,g),m.slice(g+1),p[m]):u.setAttribute(m,p[m])}}for(let m=h;m<t.length;m++){let g=t[m];if(g===0){if(m<t.length-1||m>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:b,contentDOM:v}=Ml(e,g,n,r);if(u.appendChild(b),v){if(c)throw new RangeError("Multiple content holes");c=v}}}return{dom:u,contentDOM:c}}var G0=65535,J0=Math.pow(2,16);function VS(e,t){return e+t*J0}function $m(e){return e&G0}function GS(e){return(e-(e&G0))/J0}var Z0=1,X0=2,Tl=4,Q0=8,Kd=class{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&Q0)>0}get deletedBefore(){return(this.delInfo&(Z0|Tl))>0}get deletedAfter(){return(this.delInfo&(X0|Tl))>0}get deletedAcross(){return(this.delInfo&Tl)>0}},Ji=class xo{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&xo.empty)return xo.empty}recover(t){let n=0,r=$m(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+GS(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let u=this.ranges[c]-(this.inverted?i:0);if(u>t)break;let p=this.ranges[c+s],h=this.ranges[c+a],m=u+p;if(t<=m){let g=p?t==u?-1:t==m?1:n:n,b=u+i+(g<0?0:h);if(r)return b;let v=t==(n<0?u:m)?null:VS(c/3,t-u),E=t==u?X0:t==m?Z0:Tl;return(n<0?t!=u:t!=m)&&(E|=Q0),new Kd(b,E,v)}i+=h-p}return r?t+i:new Kd(t+i,0,null)}touches(t,n){let r=0,i=$m(n),s=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let u=this.ranges[c]-(this.inverted?r:0);if(u>t)break;let p=this.ranges[c+s],h=u+p;if(t<=h&&c==i*3)return!0;r+=this.ranges[c+a]-p}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let a=this.ranges[i],c=a-(this.inverted?s:0),u=a+(this.inverted?0:s),p=this.ranges[i+n],h=this.ranges[i+r];t(c,c+p,u,u+h),s+=h-p}}invert(){return new xo(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?xo.empty:new xo(t<0?[0,-t,0]:[0,0,t])}};Ji.empty=new Ji([]);var Y0=class Ol{constructor(t=[],n,r=0,i=t.length){this.maps=t,this.mirror=n,this.from=r,this.to=i}slice(t=0,n=this.maps.length){return new Ol(this.maps,this.mirror,t,n)}copy(){return new Ol(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,n){this.to=this.maps.push(t),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(t){for(let n=0,r=this.maps.length;n<t.maps.length;n++){let i=t.getMirror(n);this.appendMap(t.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this.maps.length+t.maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new Ol;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let s=this.from;s<this.to;s++){let a=this.maps[s],c=a.mapResult(t,n);if(c.recover!=null){let u=this.getMirror(s);if(u!=null&&u>s&&u<this.to){s=u,t=this.maps[u].recover(c.recover);continue}}i|=c.delInfo,t=c.pos}return r?t:new Kd(t,i,null)}},dd=Object.create(null),hn=class{getMap(){return Ji.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=dd[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in dd)throw new RangeError("Duplicate use of step JSON ID "+e);return dd[e]=t,t.prototype.jsonID=e,t}},kn=class vs{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new vs(t,null)}static fail(t){return new vs(null,t)}static fromReplace(t,n,r,i){try{return vs.ok(t.replace(n,r,i))}catch(s){if(s instanceof Ul)return vs.fail(s.message);throw s}}};function Mp(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let s=e.child(i);s.content.size&&(s=s.copy(Mp(s.content,t,s))),s.isInline&&(s=t(s,n,i)),r.push(s)}return K.fromArray(r)}var Tp=class ws extends hn{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new ee(Mp(n.content,(a,c)=>!a.isAtom||!c.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return kn.fromReplace(t,this.from,this.to,s)}invert(){return new Qs(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ws(n.pos,r.pos,this.mark)}merge(t){return t instanceof ws&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new ws(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ws(n.from,n.to,t.markFromJSON(n.mark))}};hn.jsonID("addMark",Tp);var Qs=class _s extends hn{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new ee(Mp(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return kn.fromReplace(t,this.from,this.to,r)}invert(){return new Tp(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new _s(n.pos,r.pos,this.mark)}merge(t){return t instanceof _s&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new _s(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new _s(n.from,n.to,t.markFromJSON(n.mark))}};hn.jsonID("removeMark",Qs);var Op=class ks extends hn{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return kn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return kn.fromReplace(t,this.pos,this.pos+1,new ee(K.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new ks(this.pos,n.marks[i]);return new ks(this.pos,this.mark)}}return new Np(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new ks(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ks(n.pos,t.markFromJSON(n.mark))}};hn.jsonID("addNodeMark",Op);var Np=class qd extends hn{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return kn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return kn.fromReplace(t,this.pos,this.pos+1,new ee(K.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Op(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new qd(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new qd(n.pos,t.markFromJSON(n.mark))}};hn.jsonID("removeNodeMark",Np);var br=class Hi extends hn{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&Wd(t,this.from,this.to)?kn.fail("Structure replace would overwrite content"):kn.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Ji([this.from,this.to-this.from,this.slice.size])}invert(t){return new Hi(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Hi(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(t){if(!(t instanceof Hi)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?ee.empty:new ee(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Hi(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?ee.empty:new ee(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Hi(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Hi(n.from,n.to,ee.fromJSON(t,n.slice),!!n.structure)}};hn.jsonID("replace",br);var Nn=class Nl extends hn{constructor(t,n,r,i,s,a,c=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=a,this.structure=c}apply(t){if(this.structure&&(Wd(t,this.from,this.gapFrom)||Wd(t,this.gapTo,this.to)))return kn.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return kn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?kn.fromReplace(t,this.from,this.to,r):kn.fail("Content does not fit in gap")}getMap(){return new Ji([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Nl(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new Nl(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Nl(n.from,n.to,n.gapFrom,n.gapTo,ee.fromJSON(t,n.slice),n.insert,!!n.structure)}};hn.jsonID("replaceAround",Nn);function Wd(e,t,n){let r=e.resolve(t),i=n-t,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function JS(e,t,n,r){let i=[],s=[],a,c;e.doc.nodesBetween(t,n,(u,p,h)=>{if(!u.isInline)return;let m=u.marks;if(!r.isInSet(m)&&h.type.allowsMarkType(r.type)){let g=Math.max(p,t),b=Math.min(p+u.nodeSize,n),v=r.addToSet(m);for(let E=0;E<m.length;E++)m[E].isInSet(v)||(a&&a.to==g&&a.mark.eq(m[E])?a.to=b:i.push(a=new Qs(g,b,m[E])));c&&c.to==g?c.to=b:s.push(c=new Tp(g,b,r))}}),i.forEach(u=>e.step(u)),s.forEach(u=>e.step(u))}function ZS(e,t,n,r){let i=[],s=0;e.doc.nodesBetween(t,n,(a,c)=>{if(!a.isInline)return;s++;let u=null;if(r instanceof P0){let p=a.marks,h;for(;h=r.isInSet(p);)(u||(u=[])).push(h),p=h.removeFromSet(p)}else r?r.isInSet(a.marks)&&(u=[r]):u=a.marks;if(u&&u.length){let p=Math.min(c+a.nodeSize,n);for(let h=0;h<u.length;h++){let m=u[h],g;for(let b=0;b<i.length;b++){let v=i[b];v.step==s-1&&m.eq(i[b].style)&&(g=v)}g?(g.to=p,g.step=s):i.push({style:m,from:Math.max(c,t),to:p,step:s})}}}),i.forEach(a=>e.step(new Qs(a.from,a.to,a.style)))}function eb(e,t,n,r=n.contentMatch,i=!0){let s=e.doc.nodeAt(t),a=[],c=t+1;for(let u=0;u<s.childCount;u++){let p=s.child(u),h=c+p.nodeSize,m=r.matchType(p.type);if(!m)a.push(new br(c,h,ee.empty));else{r=m;for(let g=0;g<p.marks.length;g++)n.allowsMarkType(p.marks[g].type)||e.step(new Qs(c,h,p.marks[g]));if(i&&p.isText&&n.whitespace!="pre"){let g,b=/\r?\n|\r/g,v;for(;g=b.exec(p.text);)v||(v=new ee(K.from(n.schema.text(" ",n.allowedMarks(p.marks))),0,0)),a.push(new br(c+g.index,c+g.index+g[0].length,v))}}c=h}if(!r.validEnd){let u=r.fillBefore(K.empty,!0);e.replace(c,c,new ee(u,0,0))}for(let u=a.length-1;u>=0;u--)e.step(a[u])}function XS(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function qo(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let r=e.$from.node(n),i=e.$from.index(n),s=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(i,s,t))return n;if(n==0||r.type.spec.isolating||!XS(r,i,s))break}return null}function QS(e,t,n){let{$from:r,$to:i,depth:s}=t,a=r.before(s+1),c=i.after(s+1),u=a,p=c,h=K.empty,m=0;for(let v=s,E=!1;v>n;v--)E||r.index(v)>0?(E=!0,h=K.from(r.node(v).copy(h)),m++):u--;let g=K.empty,b=0;for(let v=s,E=!1;v>n;v--)E||i.after(v+1)<i.end(v)?(E=!0,g=K.from(i.node(v).copy(g)),b++):p++;e.step(new Nn(u,p,a,c,new ee(h.append(g),m,b),h.size-m,!0))}function Lp(e,t,n=null,r=e){let i=YS(e,t),s=i&&eA(r,t);return s?i.map(Hm).concat({type:t,attrs:n}).concat(s.map(Hm)):null}function Hm(e){return{type:e,attrs:null}}function YS(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.contentMatchAt(r).findWrapping(t);if(!s)return null;let a=s.length?s[0]:t;return n.canReplaceWith(r,i,a)?s:null}function eA(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.child(r),a=t.contentMatch.findWrapping(s.type);if(!a)return null;let c=(a.length?a[a.length-1]:t).contentMatch;for(let u=r;c&&u<i;u++)c=c.matchType(n.child(u).type);return!c||!c.validEnd?null:a}function tA(e,t,n){let r=K.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let c=n[a].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=K.from(n[a].type.create(n[a].attrs,r))}let i=t.start,s=t.end;e.step(new Nn(i,s,i,s,new ee(r,0,0),n.length,!0))}function nA(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=e.steps.length;e.doc.nodesBetween(t,n,(a,c)=>{let u=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,u)&&oA(e.doc,e.mapping.slice(s).map(c),r)){let p=null;if(r.schema.linebreakReplacement){let b=r.whitespace=="pre",v=!!r.contentMatch.matchType(r.schema.linebreakReplacement);b&&!v?p=!1:!b&&v&&(p=!0)}p===!1&&iA(e,a,c,s),eb(e,e.mapping.slice(s).map(c,1),r,void 0,p===null);let h=e.mapping.slice(s),m=h.map(c,1),g=h.map(c+a.nodeSize,1);return e.step(new Nn(m,g,m+1,g-1,new ee(K.from(r.create(u,null,a.marks)),0,0),1,!0)),p===!0&&rA(e,a,c,s),!1}})}function rA(e,t,n,r){t.forEach((i,s)=>{if(i.isText){let a,c=/\r?\n|\r/g;for(;a=c.exec(i.text);){let u=e.mapping.slice(r).map(n+1+s+a.index);e.replaceWith(u,u+1,t.type.schema.linebreakReplacement.create())}}})}function iA(e,t,n,r){t.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let a=e.mapping.slice(r).map(n+1+s);e.replaceWith(a,a+1,t.type.schema.text(`
`))}})}function oA(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function sA(e,t,n,r,i){let s=e.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(r,null,i||s.marks);if(s.isLeaf)return e.replaceWith(t,t+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Nn(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new ee(K.from(a),0,0),1,!0))}function Do(e,t,n=1,r){let i=e.resolve(t),s=i.depth-n,a=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let p=i.depth-1,h=n-2;p>s;p--,h--){let m=i.node(p),g=i.index(p);if(m.type.spec.isolating)return!1;let b=m.content.cutByIndex(g,m.childCount),v=r&&r[h+1];v&&(b=b.replaceChild(0,v.type.create(v.attrs)));let E=r&&r[h]||m;if(!m.canReplace(g+1,m.childCount)||!E.type.validContent(b))return!1}let c=i.indexAfter(s),u=r&&r[0];return i.node(s).canReplaceWith(c,c,u?u.type:i.node(s+1).type)}function aA(e,t,n=1,r){let i=e.doc.resolve(t),s=K.empty,a=K.empty;for(let c=i.depth,u=i.depth-n,p=n-1;c>u;c--,p--){s=K.from(i.node(c).copy(s));let h=r&&r[p];a=K.from(h?h.type.create(h.attrs,a):i.node(c).copy(a))}e.step(new br(t,t,new ee(s.append(a),n,n),!0))}function wi(e,t){let n=e.resolve(t),r=n.index();return tb(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function tb(e,t){return!!(e&&t&&!e.isLeaf&&e.canAppend(t))}function Bc(e,t,n=-1){let r=e.resolve(t);for(let i=r.depth;;i--){let s,a,c=r.index(i);if(i==r.depth?(s=r.nodeBefore,a=r.nodeAfter):n>0?(s=r.node(i+1),c++,a=r.node(i).maybeChild(c)):(s=r.node(i).maybeChild(c-1),a=r.node(i+1)),s&&!s.isTextblock&&tb(s,a)&&r.node(i).canReplace(c,c+1))return t;if(i==0)break;t=n<0?r.before(i):r.after(i)}}function lA(e,t,n){let r=new br(t-n,t+n,ee.empty,!0);e.step(r)}function cA(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function nb(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let a=r.depth;a>=0;a--){let c=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,u=r.index(a)+(c>0?1:0),p=r.node(a),h=!1;if(s==1)h=p.canReplace(u,u,i);else{let m=p.contentMatchAt(u).findWrapping(i.firstChild.type);h=m&&p.canReplaceWith(u,u,m[0])}if(h)return c==0?r.pos:c<0?r.before(a+1):r.after(a+1)}return null}function $c(e,t,n=t,r=ee.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),s=e.resolve(n);return rb(i,s,r)?new br(t,n,r):new uA(i,s,r).fit()}function rb(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}var uA=class{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=K.empty;for(let r=0;r<=e.depth;r++){let i=e.node(r);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=K.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(e<0?this.$to:n.doc.resolve(e));if(!r)return null;let i=this.placed,s=n.depth,a=r.depth;for(;s&&a&&i.childCount==1;)i=i.firstChild.content,s--,a--;let c=new ee(i,s,a);return e>-1?new Nn(n.pos,e,this.$to.pos,this.$to.end(),c,t):c.size||n.pos!=this.$to.pos?new br(n.pos,r.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){let i=t.firstChild;if(t.childCount>1&&(r=0),i.type.spec.isolating&&r<=n){e=n;break}t=i.content}for(let t=1;t<=2;t++)for(let n=t==1?e:this.unplaced.openStart;n>=0;n--){let r,i=null;n?(i=pd(this.unplaced.content,n-1).firstChild,r=i.content):r=this.unplaced.content;let s=r.firstChild;for(let a=this.depth;a>=0;a--){let{type:c,match:u}=this.frontier[a],p,h=null;if(t==1&&(s?u.matchType(s.type)||(h=u.fillBefore(K.from(s),!1)):i&&c.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:a,parent:i,inject:h};if(t==2&&s&&(p=u.findWrapping(s.type)))return{sliceDepth:n,frontierDepth:a,parent:i,wrap:p};if(i&&u.matchType(i.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=pd(e,t);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new ee(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=pd(e,t);if(r.childCount<=1&&t>0){let i=e.size-t<=t+r.size;this.unplaced=new ee(Es(e,t-1,1),t-1,i?t-1:n)}else this.unplaced=new ee(Es(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:r,wrap:i}){for(;this.depth>t;)this.closeFrontierNode();if(i)for(let v=0;v<i.length;v++)this.openFrontierNode(i[v]);let s=this.unplaced,a=n?n.content:s.content,c=s.openStart-e,u=0,p=[],{match:h,type:m}=this.frontier[t];if(r){for(let v=0;v<r.childCount;v++)p.push(r.child(v));h=h.matchFragment(r)}let g=a.size+e-(s.content.size-s.openEnd);for(;u<a.childCount;){let v=a.child(u),E=h.matchType(v.type);if(!E)break;u++,(u>1||c==0||v.content.size)&&(h=E,p.push(ib(v.mark(m.allowedMarks(v.marks)),u==1?c:0,u==a.childCount?g:-1)))}let b=u==a.childCount;b||(g=-1),this.placed=xs(this.placed,t,K.from(p)),this.frontier[t].match=h,b&&g<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,E=a;v<g;v++){let k=E.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),E=k.content}this.unplaced=b?e==0?ee.empty:new ee(Es(s.content,e-1,1),e-1,g<0?s.openEnd:e-1):new ee(Es(s.content,e,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!hd(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=hd(e,t,r,n,i);if(s){for(let a=t-1;a>=0;a--){let{match:c,type:u}=this.frontier[a],p=hd(e,a,u,c,!0);if(!p||p.childCount)continue e}return{depth:t,fit:s,move:i?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=xs(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let r=e.node(n),i=r.type.contentMatch.fillBefore(r.content,!0,e.index(n));this.openFrontierNode(r.type,r.attrs,i)}return e}openFrontierNode(e,t=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=xs(this.placed,this.depth,K.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(K.empty,!0);e.childCount&&(this.placed=xs(this.placed,this.frontier.length,e))}};function Es(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Es(e.firstChild.content,t-1,n)))}function xs(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(xs(e.lastChild.content,t-1,n)))}function pd(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function ib(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,ib(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(K.empty,!0)))),e.copy(r)}function hd(e,t,n,r,i){let s=e.node(t),a=i?e.indexAfter(t):e.index(t);if(a==s.childCount&&!n.compatibleContent(s.type))return null;let c=r.fillBefore(s.content,!0,a);return c&&!dA(n,s.content,a)?c:null}function dA(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function pA(e){return e.spec.defining||e.spec.definingForContent}function hA(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),s=e.doc.resolve(n);if(rb(i,s,r))return e.step(new br(t,n,r));let a=sb(i,e.doc.resolve(n));a[a.length-1]==0&&a.pop();let c=-(i.depth+1);a.unshift(c);for(let g=i.depth,b=i.pos-1;g>0;g--,b--){let v=i.node(g).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;a.indexOf(g)>-1?c=g:i.before(g)==b&&a.splice(1,0,-g)}let u=a.indexOf(c),p=[],h=r.openStart;for(let g=r.content,b=0;;b++){let v=g.firstChild;if(p.push(v),b==r.openStart)break;g=v.content}for(let g=h-1;g>=0;g--){let b=p[g],v=pA(b.type);if(v&&!b.sameMarkup(i.node(Math.abs(c)-1)))h=g;else if(v||!b.type.isTextblock)break}for(let g=r.openStart;g>=0;g--){let b=(g+h+1)%(r.openStart+1),v=p[b];if(v)for(let E=0;E<a.length;E++){let k=a[(E+u)%a.length],T=!0;k<0&&(T=!1,k=-k);let B=i.node(k-1),L=i.index(k-1);if(B.canReplaceWith(L,L,v.type,v.marks))return e.replace(i.before(k),T?s.after(k):n,new ee(ob(r.content,0,r.openStart,b),b,r.openEnd))}}let m=e.steps.length;for(let g=a.length-1;g>=0&&(e.replace(t,n,r),!(e.steps.length>m));g--){let b=a[g];b<0||(t=i.before(b),n=s.after(b))}}function ob(e,t,n,r,i){if(t<n){let s=e.firstChild;e=e.replaceChild(0,s.copy(ob(s.content,t+1,n,r,s)))}if(t>r){let s=i.contentMatchAt(0),a=s.fillBefore(e).append(e);e=a.append(s.matchFragment(a).fillBefore(K.empty,!0))}return e}function fA(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=cA(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new ee(K.from(r),0,0))}function mA(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),s=sb(r,i);for(let a=0;a<s.length;a++){let c=s[a],u=a==s.length-1;if(u&&c==0||r.node(c).type.contentMatch.validEnd)return e.delete(r.start(c),i.end(c));if(c>0&&(u||r.node(c-1).canReplace(r.index(c-1),i.indexAfter(c-1))))return e.delete(r.before(c),i.after(c))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(t-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a)return e.delete(r.before(a),n);e.delete(t,n)}function sb(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let s=e.start(i);if(s<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(s==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==s-1)&&n.push(i)}return n}var ab=class Ll extends hn{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return kn.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return kn.fromReplace(t,this.pos,this.pos+1,new ee(K.from(i),0,n.isLeaf?0:1))}getMap(){return Ji.empty}invert(t){return new Ll(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Ll(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ll(n.pos,n.attr,n.value)}};hn.jsonID("attr",ab);var lb=class Vd extends hn{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return kn.ok(r)}getMap(){return Ji.empty}invert(t){return new Vd(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Vd(n.attr,n.value)}};hn.jsonID("docAttr",lb);var $o=class extends Error{};$o=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};$o.prototype=Object.create(Error.prototype);$o.prototype.constructor=$o;$o.prototype.name="TransformError";var cb=class{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Y0}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new $o(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=ee.empty){let r=$c(this.doc,e,t,n);return r&&this.step(r),this}replaceWith(e,t,n){return this.replace(e,t,new ee(K.from(n),0,0))}delete(e,t){return this.replace(e,t,ee.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return hA(this,e,t,n),this}replaceRangeWith(e,t,n){return fA(this,e,t,n),this}deleteRange(e,t){return mA(this,e,t),this}lift(e,t){return QS(this,e,t),this}join(e,t=1){return lA(this,e,t),this}wrap(e,t){return tA(this,e,t),this}setBlockType(e,t=e,n,r=null){return nA(this,e,t,n,r),this}setNodeMarkup(e,t,n=null,r){return sA(this,e,t,n,r),this}setNodeAttribute(e,t,n){return this.step(new ab(e,t,n)),this}setDocAttribute(e,t){return this.step(new lb(e,t)),this}addNodeMark(e,t){return this.step(new Op(e,t)),this}removeNodeMark(e,t){if(!(t instanceof ft)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t=t.isInSet(n.marks),!t)return this}return this.step(new Np(e,t)),this}split(e,t=1,n){return aA(this,e,t,n),this}addMark(e,t,n){return JS(this,e,t,n),this}removeMark(e,t,n){return ZS(this,e,t,n),this}clearIncompatible(e,t,n){return eb(this,e,t,n),this}},fd=Object.create(null),Ee=class{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new ub(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=ee.empty){let n=t.content.lastChild,r=null;for(let a=0;a<t.openEnd;a++)r=n,n=n.lastChild;let i=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:c,$to:u}=s[a],p=e.mapping.slice(i);e.replaceRange(p.map(c.pos),p.map(u.pos),a?ee.empty:t),a==0&&jm(e,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:s,$to:a}=r[i],c=e.mapping.slice(n),u=c.map(s.pos),p=c.map(a.pos);i?e.deleteRange(u,p):(e.replaceRangeWith(u,p,t),jm(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new xe(e):So(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let i=e.depth-1;i>=0;i--){let s=t<0?So(e.node(0),e.node(i),e.before(i+1),e.index(i),t,n):So(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,t,n);if(s)return s}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Ui(e.node(0))}static atStart(e){return So(e,e,0,0,1)||new Ui(e)}static atEnd(e){return So(e,e,e.content.size,e.childCount,-1)||new Ui(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=fd[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in fd)throw new RangeError("Duplicate use of selection JSON ID "+e);return fd[e]=t,t.prototype.jsonID=e,t}getBookmark(){return xe.between(this.$anchor,this.$head).getBookmark()}};Ee.prototype.visible=!0;var ub=class{constructor(e,t){this.$from=e,this.$to=t}},zm=!1;function Fm(e){!zm&&!e.parent.inlineContent&&(zm=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}var xe=class Ss extends Ee{constructor(t,n=t){Fm(t),Fm(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ee.near(r);let i=t.resolve(n.map(this.anchor));return new Ss(i.parent.inlineContent?i:r,r)}replace(t,n=ee.empty){if(super.replace(t,n),n==ee.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Ss&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new db(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ss(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Ee.findFrom(n,r,!0)||Ee.findFrom(n,-r,!0);if(s)n=s.$head;else return Ee.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(Ee.findFrom(t,-r,!0)||Ee.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new Ss(t,n)}};Ee.jsonID("text",xe);var db=class pb{constructor(t,n){this.anchor=t,this.head=n}map(t){return new pb(t.map(this.anchor),t.map(this.head))}resolve(t){return xe.between(t.resolve(this.anchor),t.resolve(this.head))}},Se=class As extends Ee{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=t.resolve(i);return r?Ee.near(s):new As(s)}content(){return new ee(K.from(this.node),0,0)}eq(t){return t instanceof As&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new gA(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new As(t.resolve(n.anchor))}static create(t,n){return new As(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}};Se.prototype.visible=!1;Ee.jsonID("node",Se);var gA=class hb{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new db(r,r):new hb(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&Se.isSelectable(r)?new Se(n):Ee.near(n)}},Ui=class Rl extends Ee{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=ee.empty){if(n==ee.empty){t.delete(0,t.doc.content.size);let r=Ee.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Rl(t)}map(t){return new Rl(t)}eq(t){return t instanceof Rl}getBookmark(){return bA}};Ee.jsonID("all",Ui);var bA={map(){return this},resolve(e){return new Ui(e)}};function So(e,t,n,r,i,s=!1){if(t.inlineContent)return xe.create(e,n);for(let a=r-(i>0?0:1);i>0?a<t.childCount:a>=0;a+=i){let c=t.child(a);if(c.isAtom){if(!s&&Se.isSelectable(c))return Se.create(e,n-(i<0?c.nodeSize:0))}else{let u=So(e,c,n+i,i<0?c.childCount:0,i,s);if(u)return u}n+=c.nodeSize*i}return null}function jm(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof br||i instanceof Nn))return;let s=e.mapping.maps[r],a;s.forEach((c,u,p,h)=>{a==null&&(a=h)}),e.setSelection(Ee.near(e.doc.resolve(a),n))}function Pm(e,t){return!t||!e?e:e.bind(t)}var rl=class{constructor(e,t,n){this.name=e,this.init=Pm(t.init,n),this.apply=Pm(t.apply,n)}};new rl("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new rl("selection",{init(e,t){return e.selection||Ee.atStart(t.doc)},apply(e){return e.selection}}),new rl("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new rl("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}});function fb(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=fb(i,t,{})),n[r]=i}return n}var Dt=class{constructor(e){this.spec=e,this.props={},e.props&&fb(e.props,this,this.props),this.key=e.key?e.key.key:mb("plugin")}getState(e){return e[this.key]}},md=Object.create(null);function mb(e){return e in md?e+"$"+ ++md[e]:(md[e]=0,e+"$")}var It=class{constructor(e="key"){this.key=mb(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}},Yi=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},gb=function(e,t,n,r){return n&&(Um(e,t,n,r,-1)||Um(e,t,n,r,1))},yA=/^(img|br|input|textarea|hr)$/i;function Um(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Gl(e))){let s=e.parentNode;if(!s||s.nodeType!=1||Rp(e)||yA.test(e.nodeName)||e.contentEditable=="false")return!1;t=Yi(e)+(i<0?0:1),e=s}else if(e.nodeType==1){if(e=e.childNodes[t+(i<0?-1:0)],e.contentEditable=="false")return!1;t=i<0?Gl(e):0}else return!1}}function Gl(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function vA(e,t,n){for(let r=t==0,i=t==Gl(e);r||i;){if(e==n)return!0;let s=Yi(e);if(e=e.parentNode,!e)return!1;r=r&&s==0,i=i&&s==Gl(e)}}function Rp(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var bb=function(e){return e.focusNode&&gb(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function yb(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}var Tr=typeof navigator<"u"?navigator:null,Km=typeof document<"u"?document:null,_i=Tr&&Tr.userAgent||"",Gd=/Edge\/(\d+)/.exec(_i),vb=/MSIE \d/.exec(_i),Jd=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(_i),Ys=!!(vb||Jd||Gd),wb=vb?document.documentMode:Jd?+Jd[1]:Gd?+Gd[1]:0,Hc=!Ys&&/gecko\/(\d+)/i.test(_i);Hc&&+(/Firefox\/(\d+)/.exec(_i)||[0,0])[1];var Zd=!Ys&&/Chrome\/(\d+)/.exec(_i),ki=!!Zd,_b=Zd?+Zd[1]:0,eo=!Ys&&!!Tr&&/Apple Computer/.test(Tr.vendor),Dp=eo&&(/Mobile\/\w+/.test(_i)||!!Tr&&Tr.maxTouchPoints>2),or=Dp||(Tr?/Mac/.test(Tr.platform):!1),wA=Tr?/Win/.test(Tr.platform):!1,ea=/Android \d/.test(_i),Ip=!!Km&&"webkitFontSmoothing"in Km.documentElement.style,_A=Ip?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function kA(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),s=i&&i.size==0,a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let c=r.resolve(a),u,p;if(bb(n)){for(u=c;i&&!i.node;)i=i.parent;let h=i.node;if(i&&h.isAtom&&Se.isSelectable(h)&&i.parent&&!(h.isInline&&vA(n.focusNode,n.focusOffset,i.dom))){let m=i.posBefore;p=new Se(a==m?c:r.resolve(m))}}else{let h=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(h<0)return null;u=r.resolve(h)}if(!p){let h=t=="pointer"||e.state.selection.head<c.pos&&!s?1:-1;p=Eb(e,u,c,h)}return p}function kb(e){return e.editable?e.hasFocus():AA(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Bp(e,t=!1){let n=e.state.selection;if(SA(e,n),!!kb(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&ki){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&gb(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)xA(e);else{let{anchor:r,head:i}=n,s,a;qm&&!(n instanceof xe)&&(n.$from.parent.inlineContent||(s=Wm(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=Wm(e,n.to))),e.docView.setSelection(r,i,e.root,t),qm&&(s&&Vm(s),a&&Vm(a)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&EA(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}var qm=eo||ki&&_b<63;function Wm(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(eo&&i&&i.contentEditable=="false")return gd(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return gd(i);if(s)return gd(s)}}function gd(e){return e.contentEditable="true",eo&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Vm(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function EA(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!kb(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function xA(e){let t=e.domSelection(),n=document.createRange();if(!t)return;let r=e.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,Yi(r)+1):n.setStart(r,0),n.collapse(!0),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&Ys&&wb<=11&&(r.disabled=!0,r.disabled=!1)}function SA(e,t){if(t instanceof Se){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Gm(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Gm(e)}function Gm(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Eb(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||xe.between(t,n,r)}function AA(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function Xd(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return s&&Ee.findFrom(s,t)}function di(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Jm(e,t,n){let r=e.state.selection;if(r instanceof xe)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=e.state.doc.resolve(i.pos+s.nodeSize*(t<0?-1:1));return di(e,new xe(r.$anchor,a))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=Xd(e.state,t);return i&&i instanceof Se?di(e,i):!1}else if(!(or&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;let c=t<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=e.docView.descAt(c))&&!a.contentDOM?Se.isSelectable(s)?di(e,new Se(t<0?e.state.doc.resolve(i.pos-s.nodeSize):i)):Ip?di(e,new xe(e.state.doc.resolve(t<0?c:c+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Se&&r.node.isInline)return di(e,new xe(t>0?r.$to:r.$from));{let i=Xd(e.state,t);return i?di(e,i):!1}}}function Jl(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Os(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function wo(e,t){return t<0?CA(e):MA(e)}function CA(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,s,a=!1;for(Hc&&n.nodeType==1&&r<Jl(n)&&Os(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let c=n.childNodes[r-1];if(Os(c,-1))i=n,s=--r;else if(c.nodeType==3)n=c,r=n.nodeValue.length;else break}}else{if(xb(n))break;{let c=n.previousSibling;for(;c&&Os(c,-1);)i=n.parentNode,s=Yi(c),c=c.previousSibling;if(c)n=c,r=Jl(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}a?Qd(e,n,r):i&&Qd(e,i,s)}function MA(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=Jl(n),s,a;for(;;)if(r<i){if(n.nodeType!=1)break;let c=n.childNodes[r];if(Os(c,1))s=n,a=++r;else break}else{if(xb(n))break;{let c=n.nextSibling;for(;c&&Os(c,1);)s=c.parentNode,a=Yi(c)+1,c=c.nextSibling;if(c)n=c,r=0,i=Jl(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}s&&Qd(e,s,a)}function xb(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function TA(e,t){for(;e&&t==e.childNodes.length&&!Rp(e);)t=Yi(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function OA(e,t){for(;e&&!t&&!Rp(e);)t=Yi(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function Qd(e,t,n){if(t.nodeType!=3){let s,a;(a=TA(t,n))?(t=a,n=0):(s=OA(t,n))&&(t=s,n=s.nodeValue.length)}let r=e.domSelection();if(!r)return;if(bb(r)){let s=document.createRange();s.setEnd(t,n),s.setStart(t,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&Bp(e)},50)}function Zm(e,t){let n=e.state.doc.resolve(t);if(!(ki||wA)&&n.parent.inlineContent){let r=e.coordsAtPos(t);if(t>n.start()){let i=e.coordsAtPos(t-1),s=(i.top+i.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(i.left-r.left)>1)return i.left<r.left?"ltr":"rtl"}if(t<n.end()){let i=e.coordsAtPos(t+1),s=(i.top+i.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(i.left-r.left)>1)return i.left>r.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function Xm(e,t,n){let r=e.state.selection;if(r instanceof xe&&!r.empty||n.indexOf("s")>-1||or&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let a=Xd(e.state,t);if(a&&a instanceof Se)return di(e,a)}if(!i.parent.inlineContent){let a=t<0?i:s,c=r instanceof Ui?Ee.near(a,t):Ee.findFrom(a,t);return c?di(e,c):!1}return!1}function Qm(e,t){if(!(e.state.selection instanceof xe))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let a=e.state.tr;return t<0?a.delete(n.pos-s.nodeSize,n.pos):a.delete(n.pos,n.pos+s.nodeSize),e.dispatch(a),!0}return!1}function Ym(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function NA(e){if(!eo||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;Ym(e,r,"true"),setTimeout(()=>Ym(e,r,"false"),20)}return!1}function LA(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function RA(e,t){let n=t.keyCode,r=LA(t);if(n==8||or&&n==72&&r=="c")return Qm(e,-1)||wo(e,-1);if(n==46&&!t.shiftKey||or&&n==68&&r=="c")return Qm(e,1)||wo(e,1);if(n==13||n==27)return!0;if(n==37||or&&n==66&&r=="c"){let i=n==37?Zm(e,e.state.selection.from)=="ltr"?-1:1:-1;return Jm(e,i,r)||wo(e,i)}else if(n==39||or&&n==70&&r=="c"){let i=n==39?Zm(e,e.state.selection.from)=="ltr"?1:-1:1;return Jm(e,i,r)||wo(e,i)}else{if(n==38||or&&n==80&&r=="c")return Xm(e,-1,r)||wo(e,-1);if(n==40||or&&n==78&&r=="c")return NA(e)||Xm(e,1,r)||wo(e,1);if(r==(or?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Sb(e,t){e.someProp("transformCopied",b=>{t=b(t,e)});let n=[],{content:r,openStart:i,openEnd:s}=t;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let b=r.firstChild;n.push(b.type.name,b.attrs!=b.type.defaultAttrs?b.attrs:null),r=b.content}let a=e.someProp("clipboardSerializer")||W0.fromSchema(e.state.schema),c=Nb(),u=c.createElement("div");u.appendChild(a.serializeFragment(r,{document:c}));let p=u.firstChild,h,m=0;for(;p&&p.nodeType==1&&(h=Ob[p.nodeName.toLowerCase()]);){for(let b=h.length-1;b>=0;b--){let v=c.createElement(h[b]);for(;u.firstChild;)v.appendChild(u.firstChild);u.appendChild(v),m++}p=u.firstChild}p&&p.nodeType==1&&p.setAttribute("data-pm-slice",`${i} ${s}${m?` -${m}`:""} ${JSON.stringify(n)}`);let g=e.someProp("clipboardTextSerializer",b=>b(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:u,text:g,slice:t}}function Ab(e,t,n,r,i){let s=i.parent.type.spec.code,a,c;if(!n&&!t)return null;let u=t&&(r||s||!n);if(u){if(e.someProp("transformPastedText",g=>{t=g(t,s||r,e)}),s)return t?new ee(K.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):ee.empty;let m=e.someProp("clipboardTextParser",g=>g(t,i,r,e));if(m)c=m;else{let g=i.marks(),{schema:b}=e.state,v=W0.fromSchema(b);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(E=>{let k=a.appendChild(document.createElement("p"));E&&k.appendChild(v.serializeNode(b.text(E,g)))})}}else e.someProp("transformPastedHTML",m=>{n=m(n,e)}),a=$A(n),Ip&&HA(a);let p=a&&a.querySelector("[data-pm-slice]"),h=p&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(p.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let m=+h[3];m>0;m--){let g=a.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;a=g}if(c||(c=(e.someProp("clipboardParser")||e.someProp("domParser")||Cl.fromSchema(e.state.schema)).parseSlice(a,{preserveWhitespace:!!(u||h),context:i,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!DA.test(m.parentNode.nodeName)?{ignore:!0}:null}})),h)c=zA(eg(c,+h[1],+h[2]),h[4]);else if(c=ee.maxOpen(IA(c.content,i),!0),c.openStart||c.openEnd){let m=0,g=0;for(let b=c.content.firstChild;m<c.openStart&&!b.type.spec.isolating;m++,b=b.firstChild);for(let b=c.content.lastChild;g<c.openEnd&&!b.type.spec.isolating;g++,b=b.lastChild);c=eg(c,m,g)}return e.someProp("transformPasted",m=>{c=m(c,e)}),c}var DA=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function IA(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.index(n)),i,s=[];if(e.forEach(a=>{if(!s)return;let c=r.findWrapping(a.type),u;if(!c)return s=null;if(u=s.length&&i.length&&Mb(c,i,a,s[s.length-1],0))s[s.length-1]=u;else{s.length&&(s[s.length-1]=Tb(s[s.length-1],i.length));let p=Cb(a,c);s.push(p),r=r.matchType(p.type),i=c}}),s)return K.from(s)}return e}function Cb(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,K.from(e));return e}function Mb(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let s=Mb(e,t,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(K.from(Cb(n,e,i+1))))}}function Tb(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,Tb(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(K.empty,!0);return e.copy(n.append(r))}function Yd(e,t,n,r,i,s){let a=t<0?e.firstChild:e.lastChild,c=a.content;return e.childCount>1&&(s=0),i<r-1&&(c=Yd(c,t,n,r,i+1,s)),i>=n&&(c=t<0?a.contentMatchAt(0).fillBefore(c,s<=i).append(c):c.append(a.contentMatchAt(a.childCount).fillBefore(K.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(c))}function eg(e,t,n){return t<e.openStart&&(e=new ee(Yd(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new ee(Yd(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}var Ob={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},tg=null;function Nb(){return tg||(tg=document.implementation.createHTMLDocument("title"))}function BA(e){let t=window.trustedTypes;return t?t.createPolicy("detachedDocument",{createHTML:n=>n}).createHTML(e):e}function $A(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=Nb().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&Ob[r[1].toLowerCase()])&&(e=i.map(s=>"<"+s+">").join("")+e+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=BA(e),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function HA(e){let t=e.querySelectorAll(ki?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function zA(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:i,openStart:s,openEnd:a}=e;for(let c=r.length-2;c>=0;c-=2){let u=n.nodes[r[c]];if(!u||u.hasRequiredAttrs())break;i=K.from(u.create(r[c+1],i)),s++,a++}return new ee(i,s,a)}var yr={},Un={};function gi(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}Un.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!Rb(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(ea&&ki&&n.keyCode==13)))if(e.domObserver.selectionChanged(e.domSelectionRange())?e.domObserver.flush():n.keyCode!=229&&e.domObserver.forceFlush(),Dp&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,yb(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||RA(e,n)?n.preventDefault():gi(e,"key")};Un.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Un.keypress=(e,t)=>{let n=t;if(Rb(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||or&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof xe)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",s=>s(e,r.$from.pos,r.$to.pos,i))&&e.dispatch(e.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function zc(e){return{left:e.clientX,top:e.clientY}}function FA(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function $p(e,t,n,r,i){if(r==-1)return!1;let s=e.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(e.someProp(t,c=>a>s.depth?c(e,n,s.nodeAfter,s.before(a),i,!0):c(e,n,s.node(a),s.before(a),i,!1)))return!0;return!1}function Io(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function jA(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&Se.isSelectable(r)?(Io(e,new Se(n)),!0):!1}function PA(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof Se&&(r=n.node);let s=e.state.doc.resolve(t);for(let a=s.depth+1;a>0;a--){let c=a>s.depth?s.nodeAfter:s.node(a);if(Se.isSelectable(c)){r&&n.$from.depth>0&&a>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(a);break}}return i!=null?(Io(e,Se.create(e.state.doc,i)),!0):!1}function UA(e,t,n,r,i){return $p(e,"handleClickOn",t,n,r)||e.someProp("handleClick",s=>s(e,t,r))||(i?PA(e,n):jA(e,n))}function KA(e,t,n,r){return $p(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function qA(e,t,n,r){return $p(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||WA(e,n,r)}function WA(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(Io(e,xe.create(r,0,r.content.size)),!0):!1;let i=r.resolve(t);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s),c=i.before(s);if(a.inlineContent)Io(e,xe.create(r,c+1,c+1+a.content.size));else if(Se.isSelectable(a))Io(e,Se.create(r,c));else continue;return!0}}function Hp(e){return Zl(e)}var Lb=or?"metaKey":"ctrlKey";yr.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=Hp(e),i=Date.now(),s="singleClick";i-e.input.lastClick.time<500&&FA(n,e.input.lastClick)&&!n[Lb]&&(e.input.lastClick.type=="singleClick"?s="doubleClick":e.input.lastClick.type=="doubleClick"&&(s="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let a=e.posAtCoords(zc(n));a&&(s=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new VA(e,a,n,!!r)):(s=="doubleClick"?KA:qA)(e,a.pos,a.inside,n)?n.preventDefault():gi(e,"pointer"))};var VA=class{constructor(e,t,n,r){this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[Lb],this.allowDefault=n.shiftKey;let i,s;if(t.inside>-1)i=e.state.doc.nodeAt(t.inside),s=t.inside;else{let p=e.state.doc.resolve(t.pos);i=p.parent,s=p.depth?p.before():0}let a=r?null:n.target,c=a?e.docView.nearestDesc(a,!0):null;this.target=c&&c.dom.nodeType==1?c.dom:null;let{selection:u}=e.state;(n.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||u instanceof Se&&u.from<=s&&u.to>s)&&(this.mightDrag={node:i,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Hc&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),gi(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Bp(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(zc(e))),this.updateAllowDefault(e),this.allowDefault||!t?gi(this.view,"pointer"):UA(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||eo&&this.mightDrag&&!this.mightDrag.node.isAtom||ki&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Io(this.view,Ee.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):gi(this.view,"pointer")}move(e){this.updateAllowDefault(e),gi(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}};yr.touchstart=e=>{e.input.lastTouch=Date.now(),Hp(e),gi(e,"pointer")};yr.touchmove=e=>{e.input.lastTouch=Date.now(),gi(e,"pointer")};yr.contextmenu=e=>Hp(e);function Rb(e,t){return e.composing?!0:eo&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}var GA=ea?5e3:-1;Un.compositionstart=Un.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof xe&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),Zl(e,!0),e.markCursor=null;else if(Zl(e,!t.selection.empty),Hc&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let a=s<0?i.lastChild:i.childNodes[s-1];if(!a)break;if(a.nodeType==3){let c=e.domSelection();c&&c.collapse(a,a.nodeValue.length);break}else i=a,s=-1}}e.input.composing=!0}Db(e,GA)};Un.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,Db(e,20))};function Db(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Zl(e),t))}function JA(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=ZA());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function ZA(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Zl(e,t=!1){if(!(ea&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),JA(e),t||e.docView&&e.docView.dirty){let n=kA(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!e.state.selection.empty?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function XA(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}var zs=Ys&&wb<15||Dp&&_A<604;yr.copy=Un.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let s=zs?null:n.clipboardData,a=r.content(),{dom:c,text:u}=Sb(e,a);s?(n.preventDefault(),s.clearData(),s.setData("text/html",c.innerHTML),s.setData("text/plain",u)):XA(e,c),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function QA(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function YA(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?ep(e,r.value,null,i,t):ep(e,r.textContent,r.innerHTML,i,t)},50)}function ep(e,t,n,r,i){let s=Ab(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",u=>u(e,i,s||ee.empty)))return!0;if(!s)return!1;let a=QA(s),c=a?e.state.tr.replaceSelectionWith(a,r):e.state.tr.replaceSelection(s);return e.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Ib(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Un.paste=(e,t)=>{let n=t;if(e.composing&&!ea)return;let r=zs?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&ep(e,Ib(r),r.getData("text/html"),i,n)?n.preventDefault():YA(e,n)};var eC=class{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}},Bb=or?"altKey":"ctrlKey";yr.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,s=i.empty?null:e.posAtCoords(zc(n)),a;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Se?i.to-1:i.to))){if(r&&r.mightDrag)a=Se.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=e.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=e.docView&&(a=Se.create(e.state.doc,m.posBefore))}}let c=(a||e.state.selection).content(),{dom:u,text:p,slice:h}=Sb(e,c);(!n.dataTransfer.files.length||!ki||_b>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(zs?"Text":"text/html",u.innerHTML),n.dataTransfer.effectAllowed="copyMove",zs||n.dataTransfer.setData("text/plain",p),e.dragging=new eC(h,!n[Bb],a)};yr.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Un.dragover=Un.dragenter=(e,t)=>t.preventDefault();Un.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(zc(n));if(!i)return;let s=e.state.doc.resolve(i.pos),a=r&&r.slice;a?e.someProp("transformPasted",v=>{a=v(a,e)}):a=Ab(e,Ib(n.dataTransfer),zs?null:n.dataTransfer.getData("text/html"),!1,s);let c=!!(r&&!n[Bb]);if(e.someProp("handleDrop",v=>v(e,n,a||ee.empty,c))){n.preventDefault();return}if(!a)return;n.preventDefault();let u=a?nb(e.state.doc,s.pos,a):s.pos;u==null&&(u=s.pos);let p=e.state.tr;if(c){let{node:v}=r;v?v.replace(p):p.deleteSelection()}let h=p.mapping.map(u),m=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,g=p.doc;if(m?p.replaceRangeWith(h,h,a.content.firstChild):p.replaceRange(h,h,a),p.doc.eq(g))return;let b=p.doc.resolve(h);if(m&&Se.isSelectable(a.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(a.content.firstChild))p.setSelection(new Se(b));else{let v=p.mapping.map(u);p.mapping.maps[p.mapping.maps.length-1].forEach((E,k,T,B)=>v=B),p.setSelection(Eb(e,b,p.doc.resolve(v)))}e.focus(),e.dispatch(p.setMeta("uiEvent","drop"))};yr.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Bp(e)},20))};yr.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};yr.beforeinput=(e,t)=>{if(ki&&ea&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:n}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=n||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",i=>i(e,yb(8,"Backspace")))))return;let{$cursor:r}=e.state.selection;r&&r.pos>0&&e.dispatch(e.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let e in Un)yr[e]=Un[e];function Fs(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}var ng=class $b{constructor(t,n){this.toDOM=t,this.spec=n||Ki,this.side=this.spec.side||0}map(t,n,r,i){let{pos:s,deleted:a}=t.mapResult(n.from+i,this.side<0?-1:1);return a?null:new Nr(s-r,s-r,this)}valid(){return!0}eq(t){return this==t||t instanceof $b&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Fs(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}},Ns=class tp{constructor(t,n){this.attrs=t,this.spec=n||Ki}map(t,n,r,i){let s=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new Nr(s,a,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof tp&&Fs(this.attrs,t.attrs)&&Fs(this.spec,t.spec)}static is(t){return t.type instanceof tp}destroy(){}},tC=class Hb{constructor(t,n){this.attrs=t,this.spec=n||Ki}map(t,n,r,i){let s=t.mapResult(n.from+i,1);if(s.deleted)return null;let a=t.mapResult(n.to+i,-1);return a.deleted||a.pos<=s.pos?null:new Nr(s.pos-r,a.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),s;return i==n.from&&!(s=t.child(r)).isText&&i+s.nodeSize==n.to}eq(t){return this==t||t instanceof Hb&&Fs(this.attrs,t.attrs)&&Fs(this.spec,t.spec)}destroy(){}},Nr=class Cs{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new Cs(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new Cs(t,t,new ng(n,r))}static inline(t,n,r,i){return new Cs(t,n,new Ns(r,i))}static node(t,n,r,i){return new Cs(t,n,new tC(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ns}get widget(){return this.type instanceof ng}},Ao=[],Ki={},dn=class ci{constructor(t,n){this.local=t.length?t:Ao,this.children=n.length?n:Ao}static create(t,n){return n.length?Xl(n,t,0,Ki):_n}find(t,n,r){let i=[];return this.findInner(t??0,n??1e9,i,0,r),i}findInner(t,n,r,i,s){for(let a=0;a<this.local.length;a++){let c=this.local[a];c.from<=n&&c.to>=t&&(!s||s(c.spec))&&r.push(c.copy(c.from+i,c.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>t){let c=this.children[a]+1;this.children[a+2].findInner(t-c,n-c,r,i+c,s)}}map(t,n,r){return this==_n||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Ki)}mapInner(t,n,r,i,s){let a;for(let c=0;c<this.local.length;c++){let u=this.local[c].map(t,r,i);u&&u.type.valid(n,u)?(a||(a=[])).push(u):s.onRemove&&s.onRemove(this.local[c].spec)}return this.children.length?rC(this.children,a||[],t,n,r,i,s):a?new ci(a.sort(qi),Ao):_n}add(t,n){return n.length?this==_n?ci.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,s=0;t.forEach((c,u)=>{let p=u+r,h;if(h=Fb(n,c,p)){for(i||(i=this.children.slice());s<i.length&&i[s]<u;)s+=3;i[s]==u?i[s+2]=i[s+2].addInner(c,h,p+1):i.splice(s,0,u,u+c.nodeSize,Xl(h,c,p+1,Ki)),s+=3}});let a=zb(s?jb(n):n,-r);for(let c=0;c<a.length;c++)a[c].type.valid(t,a[c])||a.splice(c--,1);return new ci(a.length?this.local.concat(a).sort(qi):this.local,i||this.children)}remove(t){return t.length==0||this==_n?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let a,c=r[s]+n,u=r[s+1]+n;for(let h=0,m;h<t.length;h++)(m=t[h])&&m.from>c&&m.to<u&&(t[h]=null,(a||(a=[])).push(m));if(!a)continue;r==this.children&&(r=this.children.slice());let p=r[s+2].removeInner(a,c+1);p!=_n?r[s+2]=p:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,a;s<t.length;s++)if(a=t[s])for(let c=0;c<i.length;c++)i[c].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(c--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new ci(i,r):_n}forChild(t,n){if(this==_n)return this;if(n.isLeaf)return ci.empty;let r,i;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=t){this.children[c]==t&&(r=this.children[c+2]);break}let s=t+1,a=s+n.content.size;for(let c=0;c<this.local.length;c++){let u=this.local[c];if(u.from<a&&u.to>s&&u.type instanceof Ns){let p=Math.max(s,u.from)-s,h=Math.min(a,u.to)-s;p<h&&(i||(i=[])).push(u.copy(p,h))}}if(i){let c=new ci(i.sort(qi),Ao);return r?new nC([c,r]):c}return r||_n}eq(t){if(this==t)return!0;if(!(t instanceof ci)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return zp(this.localsInner(t))}localsInner(t){if(this==_n)return Ao;if(t.inlineContent||!this.local.some(Ns.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Ns||n.push(this.local[r]);return n}forEachSet(t){t(this)}};dn.empty=new dn([],[]);dn.removeOverlap=zp;var _n=dn.empty,nC=class Co{constructor(t){this.members=t}map(t,n){let r=this.members.map(i=>i.map(t,n,Ki));return Co.from(r)}forChild(t,n){if(n.isLeaf)return dn.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(t,n);s!=_n&&(s instanceof Co?r=r.concat(s.members):r.push(s))}return Co.from(r)}eq(t){if(!(t instanceof Co)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(t);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let a=0;a<s.length;a++)n.push(s[a])}}return n?zp(r?n:n.sort(qi)):Ao}static from(t){switch(t.length){case 0:return _n;case 1:return t[0];default:return new Co(t.every(n=>n instanceof dn)?t:t.reduce((n,r)=>n.concat(r instanceof dn?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}};function rC(e,t,n,r,i,s,a){let c=e.slice();for(let p=0,h=s;p<n.maps.length;p++){let m=0;n.maps[p].forEach((g,b,v,E)=>{let k=E-v-(b-g);for(let T=0;T<c.length;T+=3){let B=c[T+1];if(B<0||g>B+h-m)continue;let L=c[T]+h-m;b>=L?c[T+1]=g<=L?-2:-1:g>=h&&k&&(c[T]+=k,c[T+1]+=k)}m+=k}),h=n.maps[p].map(h,-1)}let u=!1;for(let p=0;p<c.length;p+=3)if(c[p+1]<0){if(c[p+1]==-2){u=!0,c[p+1]=-1;continue}let h=n.map(e[p]+s),m=h-i;if(m<0||m>=r.content.size){u=!0;continue}let g=n.map(e[p+1]+s,-1),b=g-i,{index:v,offset:E}=r.content.findIndex(m),k=r.maybeChild(v);if(k&&E==m&&E+k.nodeSize==b){let T=c[p+2].mapInner(n,k,h+1,e[p]+s+1,a);T!=_n?(c[p]=m,c[p+1]=b,c[p+2]=T):(c[p+1]=-2,u=!0)}else u=!0}if(u){let p=iC(c,e,t,n,i,s,a),h=Xl(p,r,0,a);t=h.local;for(let m=0;m<c.length;m+=3)c[m+1]<0&&(c.splice(m,3),m-=3);for(let m=0,g=0;m<h.children.length;m+=3){let b=h.children[m];for(;g<c.length&&c[g]<b;)g+=3;c.splice(g,0,h.children[m],h.children[m+1],h.children[m+2])}}return new dn(t.sort(qi),c)}function zb(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new Nr(i.from+t,i.to+t,i.type))}return n}function iC(e,t,n,r,i,s,a){function c(u,p){for(let h=0;h<u.local.length;h++){let m=u.local[h].map(r,i,p);m?n.push(m):a.onRemove&&a.onRemove(u.local[h].spec)}for(let h=0;h<u.children.length;h+=3)c(u.children[h+2],u.children[h]+p+1)}for(let u=0;u<e.length;u+=3)e[u+1]==-1&&c(e[u+2],t[u]+s+1);return n}function Fb(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let s=0,a;s<e.length;s++)(a=e[s])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),e[s]=null);return i}function jb(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function Xl(e,t,n,r){let i=[],s=!1;t.forEach((c,u)=>{let p=Fb(e,c,u+n);if(p){s=!0;let h=Xl(p,c,n+u+1,r);h!=_n&&i.push(u,u+c.nodeSize,h)}});let a=zb(s?jb(e):e,-n).sort(qi);for(let c=0;c<a.length;c++)a[c].type.valid(t,a[c])||(r.onRemove&&r.onRemove(a[c].spec),a.splice(c--,1));return a.length||i.length?new dn(a,i):_n}function qi(e,t){return e.from-t.from||e.to-t.to}function zp(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let s=t[i];if(s.from==r.from){s.to!=r.to&&(t==e&&(t=e.slice()),t[i]=s.copy(s.from,r.to),rg(t,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,s.from),rg(t,i,r.copy(s.from,r.to)));break}}}return t}function rg(e,t,n){for(;t<e.length&&qi(n,e[t])>0;)t++;e.splice(t,0,n)}var yi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ql={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},oC=typeof navigator<"u"&&/Mac/.test(navigator.platform),sC=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(Rt=0;Rt<10;Rt++)yi[48+Rt]=yi[96+Rt]=String(Rt);var Rt;for(Rt=1;Rt<=24;Rt++)yi[Rt+111]="F"+Rt;var Rt;for(Rt=65;Rt<=90;Rt++)yi[Rt]=String.fromCharCode(Rt+32),Ql[Rt]=String.fromCharCode(Rt);var Rt;for(il in yi)Ql.hasOwnProperty(il)||(Ql[il]=yi[il]);var il;function aC(e){var t=oC&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||sC&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?Ql:yi)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}var lC=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function cC(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,s,a;for(let c=0;c<t.length-1;c++){let u=t[c];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))lC?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function uC(e){let t=Object.create(null);for(let n in e)t[cC(n)]=e[n];return t}function bd(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function Pb(e){let t=uC(e);return function(n,r){let i=aC(r),s,a=t[bd(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let c=t[bd(i,r,!1)];if(c&&c(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=yi[r.keyCode])&&s!=i){let c=t[bd(s,r)];if(c&&c(n.state,n.dispatch,n))return!0}}return!1}}var dC=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function Ub(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}var pC=(e,t,n)=>{let r=Ub(e,n);if(!r)return!1;let i=Fp(r);if(!i){let a=r.blockRange(),c=a&&qo(a);return c==null?!1:(t&&t(e.tr.lift(a,c).scrollIntoView()),!0)}let s=i.nodeBefore;if(Vb(e,i,t,-1))return!0;if(r.parent.content.size==0&&(Ho(s,"end")||Se.isSelectable(s)))for(let a=r.depth;;a--){let c=$c(e.doc,r.before(a),r.after(a),ee.empty);if(c&&c.slice.size<c.to-c.from){if(t){let u=e.tr.step(c);u.setSelection(Ho(s,"end")?Ee.findFrom(u.doc.resolve(u.mapping.map(i.pos,-1)),-1):Se.create(u.doc,i.pos-s.nodeSize)),t(u.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},hC=(e,t,n)=>{let r=Ub(e,n);if(!r)return!1;let i=Fp(r);return i?Kb(e,i,t):!1},fC=(e,t,n)=>{let r=qb(e,n);if(!r)return!1;let i=jp(r);return i?Kb(e,i,t):!1};function Kb(e,t,n){let r=t.nodeBefore,i=r,s=t.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let h=i.lastChild;if(!h)return!1;i=h}let a=t.nodeAfter,c=a,u=t.pos+1;for(;!c.isTextblock;u++){if(c.type.spec.isolating)return!1;let h=c.firstChild;if(!h)return!1;c=h}let p=$c(e.doc,s,u,ee.empty);if(!p||p.from!=s||p instanceof br&&p.slice.size>=u-s)return!1;if(n){let h=e.tr.step(p);h.setSelection(xe.create(h.doc,s)),n(h.scrollIntoView())}return!0}function Ho(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}var mC=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;s=Fp(r)}let a=s&&s.nodeBefore;return!a||!Se.isSelectable(a)?!1:(t&&t(e.tr.setSelection(Se.create(e.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function Fp(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function qb(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}var gC=(e,t,n)=>{let r=qb(e,n);if(!r)return!1;let i=jp(r);if(!i)return!1;let s=i.nodeAfter;if(Vb(e,i,t,1))return!0;if(r.parent.content.size==0&&(Ho(s,"start")||Se.isSelectable(s))){let a=$c(e.doc,r.before(),r.after(),ee.empty);if(a&&a.slice.size<a.to-a.from){if(t){let c=e.tr.step(a);c.setSelection(Ho(s,"start")?Ee.findFrom(c.doc.resolve(c.mapping.map(i.pos)),1):Se.create(c.doc,c.mapping.map(i.pos))),t(c.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},bC=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;s=jp(r)}let a=s&&s.nodeAfter;return!a||!Se.isSelectable(a)?!1:(t&&t(e.tr.setSelection(Se.create(e.doc,s.pos)).scrollIntoView()),!0)};function jp(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}var yC=(e,t)=>{let n=e.selection,r=n instanceof Se,i;if(r){if(n.node.isTextblock||!wi(e.doc,n.from))return!1;i=n.from}else if(i=Bc(e.doc,n.from,-1),i==null)return!1;if(t){let s=e.tr.join(i);r&&s.setSelection(Se.create(s.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(s.scrollIntoView())}return!0},vC=(e,t)=>{let n=e.selection,r;if(n instanceof Se){if(n.node.isTextblock||!wi(e.doc,n.to))return!1;r=n.to}else if(r=Bc(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},wC=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),s=i&&qo(i);return s==null?!1:(t&&t(e.tr.lift(i,s).scrollIntoView()),!0)},_C=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function Wb(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}var kC=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),a=Wb(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(t){let c=n.after(),u=e.tr.replaceWith(c,c,a.createAndFill());u.setSelection(Ee.near(u.doc.resolve(c),1)),t(u.scrollIntoView())}return!0},EC=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof Ui||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=Wb(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,c=e.tr.insert(a,s.createAndFill());c.setSelection(xe.create(c.doc,a+1)),t(c.scrollIntoView())}return!0},xC=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Do(e.doc,s))return t&&t(e.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&qo(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)},SC=(e,t)=>{let{$from:n,to:r}=e.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),t&&t(e.tr.setSelection(Se.create(e.doc,i))),!0)};function AC(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,s=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(s-1,s)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(s,s+1)||!(i.isTextblock||wi(e.doc,t.pos))?!1:(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0)}function Vb(e,t,n,r){let i=t.nodeBefore,s=t.nodeAfter,a,c,u=i.type.spec.isolating||s.type.spec.isolating;if(!u&&AC(e,t,n))return!0;let p=!u&&t.parent.canReplace(t.index(),t.index()+1);if(p&&(a=(c=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&c.matchType(a[0]||s.type).validEnd){if(n){let b=t.pos+s.nodeSize,v=K.empty;for(let T=a.length-1;T>=0;T--)v=K.from(a[T].create(null,v));v=K.from(i.copy(v));let E=e.tr.step(new Nn(t.pos-1,b,t.pos,b,new ee(v,1,0),a.length,!0)),k=b+2*a.length;wi(E.doc,k)&&E.join(k),n(E.scrollIntoView())}return!0}let h=s.type.spec.isolating||r>0&&u?null:Ee.findFrom(t,1),m=h&&h.$from.blockRange(h.$to),g=m&&qo(m);if(g!=null&&g>=t.depth)return n&&n(e.tr.lift(m,g).scrollIntoView()),!0;if(p&&Ho(s,"start",!0)&&Ho(i,"end")){let b=i,v=[];for(;v.push(b),!b.isTextblock;)b=b.lastChild;let E=s,k=1;for(;!E.isTextblock;E=E.firstChild)k++;if(b.canReplace(b.childCount,b.childCount,E.content)){if(n){let T=K.empty;for(let L=v.length-1;L>=0;L--)T=K.from(v[L].copy(T));let B=e.tr.step(new Nn(t.pos-v.length,t.pos+s.nodeSize,t.pos+k,t.pos+s.nodeSize-k,new ee(T,v.length,0),0,!0));n(B.scrollIntoView())}return!0}}return!1}function Gb(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(t.tr.setSelection(xe.create(t.doc,e<0?i.start(s):i.end(s)))),!0):!1}}var CC=Gb(-1),MC=Gb(1);function TC(e,t=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s),c=a&&Lp(a,e,t);return c?(r&&r(n.tr.wrap(a,c).scrollIntoView()),!0):!1}}function ig(e,t=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:a},$to:{pos:c}}=n.selection.ranges[s];n.doc.nodesBetween(a,c,(u,p)=>{if(i)return!1;if(!(!u.isTextblock||u.hasMarkup(e,t)))if(u.type==e)i=!0;else{let h=n.doc.resolve(p),m=h.index();i=h.parent.canReplaceWith(m,m+1,e)}})}if(!i)return!1;if(r){let s=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:c},$to:{pos:u}}=n.selection.ranges[a];s.setBlockType(c,u,e,t)}r(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function OC(e,t=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s),c=!1,u=a;if(!a)return!1;if(a.depth>=2&&i.node(a.depth-1).type.compatibleContent(e)&&a.startIndex==0){if(i.index(a.depth-1)==0)return!1;let h=n.doc.resolve(a.start-2);u=new ql(h,h,a.depth),a.endIndex<a.parent.childCount&&(a=new ql(i,n.doc.resolve(s.end(a.depth)),a.depth)),c=!0}let p=Lp(u,e,t,a);return p?(r&&r(NC(n.tr,a,p,c,e).scrollIntoView()),!0):!1}}function NC(e,t,n,r,i){let s=K.empty;for(let h=n.length-1;h>=0;h--)s=K.from(n[h].type.create(n[h].attrs,s));e.step(new Nn(t.start-(r?2:0),t.end,t.start,t.end,new ee(s,0,0),n.length,!0));let a=0;for(let h=0;h<n.length;h++)n[h].type==i&&(a=h+1);let c=n.length-a,u=t.start+n.length-(r?2:0),p=t.parent;for(let h=t.startIndex,m=t.endIndex,g=!0;h<m;h++,g=!1)!g&&Do(e.doc,u,c)&&(e.split(u,c),u+=2*c),u+=p.child(h).nodeSize;return e}function LC(e){return function(t,n){let{$from:r,$to:i}=t.selection,s=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==e);return s?n?r.node(s.depth-1).type==e?RC(t,n,e,s):DC(t,n,s):!0:!1}}function RC(e,t,n,r){let i=e.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(i.step(new Nn(s-1,a,s,a,new ee(K.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new ql(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));let c=qo(r);if(c==null)return!1;i.lift(r,c);let u=i.mapping.map(s,-1)-1;return wi(i.doc,u)&&i.join(u),t(i.scrollIntoView()),!0}function DC(e,t,n){let r=e.tr,i=n.parent;for(let b=n.end,v=n.endIndex-1,E=n.startIndex;v>E;v--)b-=i.child(v).nodeSize,r.delete(b-1,b+1);let s=r.doc.resolve(n.start),a=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let c=n.startIndex==0,u=n.endIndex==i.childCount,p=s.node(-1),h=s.index(-1);if(!p.canReplace(h+(c?0:1),h+1,a.content.append(u?K.empty:K.from(i))))return!1;let m=s.pos,g=m+a.nodeSize;return r.step(new Nn(m-(c?1:0),g+(u?1:0),m+1,g-1,new ee((c?K.empty:K.from(i.copy(K.empty))).append(u?K.empty:K.from(i.copy(K.empty))),c?0:1,u?0:1),c?0:1)),t(r.scrollIntoView()),!0}function IC(e){return function(t,n){let{$from:r,$to:i}=t.selection,s=r.blockRange(i,p=>p.childCount>0&&p.firstChild.type==e);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let c=s.parent,u=c.child(a-1);if(u.type!=e)return!1;if(n){let p=u.lastChild&&u.lastChild.type==c.type,h=K.from(p?e.create():null),m=new ee(K.from(e.create(null,K.from(c.type.create(null,h)))),p?3:1,0),g=s.start,b=s.end;n(t.tr.step(new Nn(g-(p?3:1),b,g,b,m,1,!0)).scrollIntoView())}return!0}}function Jb(e){let{state:t,transaction:n}=e,{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var BC=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){let{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,c])=>[a,(...u)=>{let p=c(...u)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){let{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a=[],c=!!e,u=e||i.tr,p=()=>(!c&&t&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),a.every(m=>m===!0)),h={...Object.fromEntries(Object.entries(n).map(([m,g])=>[m,(...b)=>{let v=this.buildProps(u,t),E=g(...b)(v);return a.push(E),h}])),run:p};return h}createCan(e){let{rawCommands:t,state:n}=this,r=!1,i=e||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(t).map(([a,c])=>[a,(...u)=>c(...u)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(e,t=!0){let{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a={tr:e,editor:r,view:s,state:Jb({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([c,u])=>[c,(...p)=>u(...p)(a)]))}};return a}};function jt(e,t,n){return e.config[t]===void 0&&e.parent?jt(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?jt(e.parent,t,n):null}):e.config[t]}function $C(e){let t=e.filter(i=>i.type==="extension"),n=e.filter(i=>i.type==="node"),r=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function on(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function Me(...e){return e.filter(t=>!!t).reduce((t,n)=>{let r={...t};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){let a=s?s.split(" "):[],c=r[i]?r[i].split(" "):[],u=a.filter(p=>!c.includes(p));r[i]=[...c,...u].join(" ")}else i==="style"?r[i]=[r[i],s].join("; "):r[i]=s}),r},{})}function HC(e){return typeof e=="function"}function St(e,t=void 0,...n){return HC(e)?t?e.bind(t)(...n):e(...n):e}function zC(e){return Object.prototype.toString.call(e)==="[object RegExp]"}var Fc=class{constructor(e){this.find=e.find,this.handler=e.handler}},FC=class{constructor(e){this.find=e.find,this.handler=e.handler}};function jC(e){return Object.prototype.toString.call(e).slice(8,-1)}function ol(e){return jC(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function jc(e,t){let n={...e};return ol(e)&&ol(t)&&Object.keys(t).forEach(r=>{ol(t[r])&&ol(e[r])?n[r]=jc(e[r],t[r]):n[r]=t[r]}),n}var Pt=class np{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=St(jt(this,"addOptions",{name:this.name}))),this.storage=St(jt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new np(t)}configure(t={}){let n=this.extend({...this.config,addOptions:()=>jc(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){let n=new np({...this.config,...t});return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=St(jt(n,"addOptions",{name:n.name})),n.storage=St(jt(n,"addStorage",{name:n.name,options:n.options})),n}};function PC(e,t,n){let{from:r,to:i}=t,{blockSeparator:s=`

`,textSerializers:a={}}=n||{},c="";return e.nodesBetween(r,i,(u,p,h,m)=>{var g;u.isBlock&&p>r&&(c+=s);let b=a==null?void 0:a[u.type.name];if(b)return h&&(c+=b({node:u,pos:p,parent:h,index:m,range:t})),!1;u.isText&&(c+=(g=u==null?void 0:u.text)===null||g===void 0?void 0:g.slice(Math.max(r,p)-p,i-p))}),c}function UC(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}Pt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Dt({key:new It("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{let{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:s}=i,a=Math.min(...s.map(p=>p.$from.pos)),c=Math.max(...s.map(p=>p.$to.pos)),u=UC(n);return PC(r,{from:a,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:u})}}})]}});var KC=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),qC=(e=!1)=>({commands:t})=>t.setContent("",e),WC=()=>({state:e,tr:t,dispatch:n})=>{let{selection:r}=t,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:a})=>{e.doc.nodesBetween(s.pos,a.pos,(c,u)=>{if(c.type.isText)return;let{doc:p,mapping:h}=t,m=p.resolve(h.map(u)),g=p.resolve(h.map(u+c.nodeSize)),b=m.blockRange(g);if(!b)return;let v=qo(b);if(c.type.isTextblock){let{defaultType:E}=m.parent.contentMatchAt(m.index());t.setNodeMarkup(b.start,E)}(v||v===0)&&t.lift(b,v)})}),!0},VC=e=>t=>e(t),GC=()=>({state:e,dispatch:t})=>EC(e,t),JC=(e,t)=>({editor:n,tr:r})=>{let{state:i}=n,s=i.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);let a=r.mapping.map(t);return r.insert(a,s.content),r.setSelection(new xe(r.doc.resolve(a-1))),!0},ZC=()=>({tr:e,dispatch:t})=>{let{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;let i=e.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(t){let a=i.before(s),c=i.after(s);e.delete(a,c).scrollIntoView()}return!0}return!1},XC=e=>({tr:t,state:n,dispatch:r})=>{let i=on(e,n.schema),s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i){if(r){let c=s.before(a),u=s.after(a);t.delete(c,u).scrollIntoView()}return!0}return!1},QC=e=>({tr:t,dispatch:n})=>{let{from:r,to:i}=e;return n&&t.delete(r,i),!0},YC=()=>({state:e,dispatch:t})=>dC(e,t),eM=()=>({commands:e})=>e.keyboardShortcut("Enter"),tM=()=>({state:e,dispatch:t})=>kC(e,t);function Yl(e,t,n={strict:!0}){let r=Object.keys(t);return r.length?r.every(i=>n.strict?t[i]===e[i]:zC(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function rp(e,t,n={}){return e.find(r=>r.type===t&&Yl(r.attrs,n))}function nM(e,t,n={}){return!!rp(e,t,n)}function Pp(e,t,n={}){if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);if(e.parentOffset===r.offset&&r.offset!==0&&(r=e.parent.childBefore(e.parentOffset)),!r.node)return;let i=rp([...r.node.marks],t,n);if(!i)return;let s=r.index,a=e.start()+r.offset,c=s+1,u=a+r.node.nodeSize;for(rp([...r.node.marks],t,n);s>0&&i.isInSet(e.parent.child(s-1).marks);)s-=1,a-=e.parent.child(s).nodeSize;for(;c<e.parent.childCount&&nM([...e.parent.child(c).marks],t,n);)u+=e.parent.child(c).nodeSize,c+=1;return{from:a,to:u}}function Ei(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var rM=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let s=Ei(e,r.schema),{doc:a,selection:c}=n,{$from:u,from:p,to:h}=c;if(i){let m=Pp(u,s,t);if(m&&m.from<=p&&m.to>=h){let g=xe.create(a,m.from,m.to);n.setSelection(g)}}return!0},iM=e=>t=>{let n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function Up(e){return e instanceof xe}function Gr(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function oM(e,t=null){if(!t)return null;let n=Ee.atStart(e),r=Ee.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;let i=n.from,s=r.to;return t==="all"?xe.create(e,Gr(0,i,s),Gr(e.content.size,i,s)):xe.create(e,Gr(t,i,s),Gr(t,i,s))}function Kp(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var sM=(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:s})=>{t={scrollIntoView:!0,...t};let a=()=>{Kp()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!Up(n.state.selection))return a(),!0;let c=oM(i.doc,e)||n.state.selection,u=n.state.selection.eq(c);return s&&(u||i.setSelection(c),u&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},aM=(e,t)=>n=>e.every((r,i)=>t(r,{...n,index:i})),lM=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),Zb=e=>{let t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){let r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&Zb(r)}return e};function sl(e){let t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return Zb(n)}function ec(e,t,n){n={slice:!0,parseOptions:{},...n};let r=typeof e=="object"&&e!==null,i=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return K.fromArray(e.map(a=>t.nodeFromJSON(a)));let s=t.nodeFromJSON(e);return n.errorOnInvalidContent&&s.check(),s}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),ec("",t,n)}if(i){if(n.errorOnInvalidContent){let a=!1,c="",u=new zS({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:p=>(a=!0,c=typeof p=="string"?p:p.outerHTML,null)}]}})});if(n.slice?Cl.fromSchema(u).parseSlice(sl(e),n.parseOptions):Cl.fromSchema(u).parse(sl(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}let s=Cl.fromSchema(t);return n.slice?s.parseSlice(sl(e),n.parseOptions).content:s.parse(sl(e),n.parseOptions)}return ec("",t,n)}function cM(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof br||i instanceof Nn))return;let s=e.mapping.maps[r],a=0;s.forEach((c,u,p,h)=>{a===0&&(a=h)}),e.setSelection(Ee.near(e.doc.resolve(a),n))}var uM=e=>!("type"in e),dM=(e,t,n)=>({tr:r,dispatch:i,editor:s})=>{var a;if(i){n={parseOptions:{},updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let c;try{c=ec(t,s.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(a=n.errorOnInvalidContent)!==null&&a!==void 0?a:s.options.enableContentCheck})}catch(b){return s.emit("contentError",{editor:s,error:b,disableCollaboration:()=>{console.error("[tiptap error]: Unable to disable collaboration at this point in time")}}),!1}let{from:u,to:p}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},h=!0,m=!0;if((uM(c)?c:[c]).forEach(b=>{b.check(),h=h?b.isText&&b.marks.length===0:!1,m=m?b.isBlock:!1}),u===p&&m){let{parent:b}=r.doc.resolve(u);b.isTextblock&&!b.type.spec.code&&!b.childCount&&(u-=1,p+=1)}let g;h?(Array.isArray(t)?g=t.map(b=>b.text||"").join(""):typeof t=="object"&&t&&t.text?g=t.text:g=t,r.insertText(g,u,p)):(g=c,r.replaceWith(u,p,g)),n.updateSelection&&cM(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:g}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:g})}return!0},pM=()=>({state:e,dispatch:t})=>yC(e,t),hM=()=>({state:e,dispatch:t})=>vC(e,t),fM=()=>({state:e,dispatch:t})=>pC(e,t),mM=()=>({state:e,dispatch:t})=>gC(e,t),gM=()=>({state:e,dispatch:t,tr:n})=>{try{let r=Bc(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},bM=()=>({state:e,dispatch:t,tr:n})=>{try{let r=Bc(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},yM=()=>({state:e,dispatch:t})=>hC(e,t),vM=()=>({state:e,dispatch:t})=>fC(e,t);function Xb(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function wM(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n==="Space"&&(n=" ");let r,i,s,a;for(let c=0;c<t.length-1;c+=1){let u=t[c];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))Kp()||Xb()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var _M=e=>({editor:t,view:n,tr:r,dispatch:i})=>{let s=wM(e).split(/-(?!$)/),a=s.find(p=>!["Alt","Ctrl","Meta","Shift"].includes(p)),c=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),u=t.captureTransaction(()=>{n.someProp("handleKeyDown",p=>p(n,c))});return u==null||u.steps.forEach(p=>{let h=p.map(r.mapping);h&&i&&r.maybeStep(h)}),!0};function qp(e,t,n={}){let{from:r,to:i,empty:s}=e.selection,a=t?on(t,e.schema):null,c=[];e.doc.nodesBetween(r,i,(h,m)=>{if(h.isText)return;let g=Math.max(r,m),b=Math.min(i,m+h.nodeSize);c.push({node:h,from:g,to:b})});let u=i-r,p=c.filter(h=>a?a.name===h.node.type.name:!0).filter(h=>Yl(h.node.attrs,n,{strict:!1}));return s?!!p.length:p.reduce((h,m)=>h+m.to-m.from,0)>=u}var kM=(e,t={})=>({state:n,dispatch:r})=>{let i=on(e,n.schema);return qp(n,i,t)?wC(n,r):!1},EM=()=>({state:e,dispatch:t})=>xC(e,t),xM=e=>({state:t,dispatch:n})=>{let r=on(e,t.schema);return LC(r)(t,n)},SM=()=>({state:e,dispatch:t})=>_C(e,t);function Wp(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function og(e,t){let n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,i)=>(n.includes(i)||(r[i]=e[i]),r),{})}var AM=(e,t)=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null,c=Wp(typeof e=="string"?e:e.name,r.schema);return c?(c==="node"&&(s=on(e,r.schema)),c==="mark"&&(a=Ei(e,r.schema)),i&&n.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(p,h)=>{s&&s===p.type&&n.setNodeMarkup(h,void 0,og(p.attrs,t)),a&&p.marks.length&&p.marks.forEach(m=>{a===m.type&&n.addMark(h,h+p.nodeSize,a.create(og(m.attrs,t)))})})}),!0):!1},CM=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),MM=()=>({tr:e,commands:t})=>t.setTextSelection({from:0,to:e.doc.content.size}),TM=()=>({state:e,dispatch:t})=>mC(e,t),OM=()=>({state:e,dispatch:t})=>bC(e,t),NM=()=>({state:e,dispatch:t})=>SC(e,t),LM=()=>({state:e,dispatch:t})=>MC(e,t),RM=()=>({state:e,dispatch:t})=>CC(e,t);function DM(e,t,n={},r={}){return ec(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var IM=(e,t=!1,n={},r={})=>({editor:i,tr:s,dispatch:a,commands:c})=>{var u,p;let{doc:h}=s;if(n.preserveWhitespace!=="full"){let m=DM(e,i.schema,n,{errorOnInvalidContent:(u=r.errorOnInvalidContent)!==null&&u!==void 0?u:i.options.enableContentCheck});return a&&s.replaceWith(0,h.content.size,m).setMeta("preventUpdate",!t),!0}return a&&s.setMeta("preventUpdate",!t),c.insertContentAt({from:0,to:h.content.size},e,{parseOptions:n,errorOnInvalidContent:(p=r.errorOnInvalidContent)!==null&&p!==void 0?p:i.options.enableContentCheck})};function ta(e,t){let n=Ei(t,e.schema),{from:r,to:i,empty:s}=e.selection,a=[];s?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,u=>{a.push(...u.marks)});let c=a.find(u=>u.type.name===n.name);return c?{...c.attrs}:{}}function BM(e,t){let n=new cb(e);return t.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function Qb(e){for(let t=0;t<e.edgeCount;t+=1){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function js(e,t){let n=[];return e.descendants((r,i)=>{t(r)&&n.push({node:r,pos:i})}),n}function $M(e,t,n){let r=[];return e.nodesBetween(t.from,t.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function Yb(e,t){for(let n=e.depth;n>0;n-=1){let r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function na(e){return t=>Yb(t.$from,e)}function HM(e,t){let n=on(t,e.schema),{from:r,to:i}=e.selection,s=[];e.doc.nodesBetween(r,i,c=>{s.push(c)});let a=s.reverse().find(c=>c.type.name===n.name);return a?{...a.attrs}:{}}function zM(e,t){let n=Wp(typeof t=="string"?t:t.name,e.schema);return n==="node"?HM(e,t):n==="mark"?ta(e,t):{}}function FM(e,t=JSON.stringify){let n={};return e.filter(r=>{let i=t(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function jM(e){let t=FM(e);return t.length===1?t:t.filter((n,r)=>!t.filter((i,s)=>s!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function PM(e){let{mapping:t,steps:n}=e,r=[];return t.maps.forEach((i,s)=>{let a=[];if(i.ranges.length)i.forEach((c,u)=>{a.push({from:c,to:u})});else{let{from:c,to:u}=n[s];if(c===void 0||u===void 0)return;a.push({from:c,to:u})}a.forEach(({from:c,to:u})=>{let p=t.slice(s).map(c,-1),h=t.slice(s).map(u),m=t.invert().map(p,-1),g=t.invert().map(h);r.push({oldRange:{from:m,to:g},newRange:{from:p,to:h}})})}),jM(r)}function Vp(e,t,n){let r=[];return e===t?n.resolve(e).marks().forEach(i=>{let s=n.resolve(e),a=Pp(s,i.type);a&&r.push({mark:i,...a})}):n.nodesBetween(e,t,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(a=>({from:s,to:s+i.nodeSize,mark:a})))}),r}function Dl(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{let i=e.find(s=>s.type===t&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function UM(e,t,n={}){let{empty:r,ranges:i}=e.selection,s=t?Ei(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(h=>s?s.name===h.type.name:!0).find(h=>Yl(h.attrs,n,{strict:!1}));let a=0,c=[];if(i.forEach(({$from:h,$to:m})=>{let g=h.pos,b=m.pos;e.doc.nodesBetween(g,b,(v,E)=>{if(!v.isText&&!v.marks.length)return;let k=Math.max(g,E),T=Math.min(b,E+v.nodeSize),B=T-k;a+=B,c.push(...v.marks.map(L=>({mark:L,from:k,to:T})))})}),a===0)return!1;let u=c.filter(h=>s?s.name===h.mark.type.name:!0).filter(h=>Yl(h.mark.attrs,n,{strict:!1})).reduce((h,m)=>h+m.to-m.from,0),p=c.filter(h=>s?h.mark.type!==s&&h.mark.type.excludes(s):!0).reduce((h,m)=>h+m.to-m.from,0);return(u>0?u+p:u)>=a}function sg(e,t){let{nodeExtensions:n}=$C(t),r=n.find(a=>a.name===e);if(!r)return!1;let i={name:r.name,options:r.options,storage:r.storage},s=St(jt(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function ey(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!==null&&r!==void 0?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let i=!0;return e.content.forEach(s=>{i!==!1&&(ey(s,{ignoreWhitespace:n,checkChildren:t})||(i=!1))}),i}return!1}function ty(e){return e instanceof Se}function ny(e,t,n){let r=e.state.doc.content.size,i=Gr(t,0,r),s=Gr(n,0,r),a=e.coordsAtPos(i),c=e.coordsAtPos(s,-1),u=Math.min(a.top,c.top),p=Math.max(a.bottom,c.bottom),h=Math.min(a.left,c.left),m=Math.max(a.right,c.right),g=m-h,b=p-u,v={top:u,bottom:p,left:h,right:m,width:g,height:b,x:h,y:u};return{...v,toJSON:()=>v}}function KM(e,t,n){var r;let{selection:i}=t,s=null;if(Up(i)&&(s=i.$cursor),s){let c=(r=e.storedMarks)!==null&&r!==void 0?r:s.marks();return!!n.isInSet(c)||!c.some(u=>u.type.excludes(n))}let{ranges:a}=i;return a.some(({$from:c,$to:u})=>{let p=c.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(c.pos,u.pos,(h,m,g)=>{if(p)return!1;if(h.isInline){let b=!g||g.type.allowsMarkType(n),v=!!n.isInSet(h.marks)||!h.marks.some(E=>E.type.excludes(n));p=b&&v}return!p}),p})}var qM=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let{selection:s}=n,{empty:a,ranges:c}=s,u=Ei(e,r.schema);if(i)if(a){let p=ta(r,u);n.addStoredMark(u.create({...p,...t}))}else c.forEach(p=>{let h=p.$from.pos,m=p.$to.pos;r.doc.nodesBetween(h,m,(g,b)=>{let v=Math.max(b,h),E=Math.min(b+g.nodeSize,m);g.marks.find(k=>k.type===u)?g.marks.forEach(k=>{u===k.type&&n.addMark(v,E,u.create({...k.attrs,...t}))}):n.addMark(v,E,u.create(t))})});return KM(r,n,u)},WM=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),VM=(e,t={})=>({state:n,dispatch:r,chain:i})=>{let s=on(e,n.schema);return s.isTextblock?i().command(({commands:a})=>ig(s,t)(n)?!0:a.clearNodes()).command(({state:a})=>ig(s,t)(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},GM=e=>({tr:t,dispatch:n})=>{if(n){let{doc:r}=t,i=Gr(e,0,r.content.size),s=Se.create(r,i);t.setSelection(s)}return!0},JM=e=>({tr:t,dispatch:n})=>{if(n){let{doc:r}=t,{from:i,to:s}=typeof e=="number"?{from:e,to:e}:e,a=xe.atStart(r).from,c=xe.atEnd(r).to,u=Gr(i,a,c),p=Gr(s,a,c),h=xe.create(r,u,p);t.setSelection(h)}return!0},ZM=e=>({state:t,dispatch:n})=>{let r=on(e,t.schema);return IC(r)(t,n)};function ag(e,t){let n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){let r=n.filter(i=>t==null?void 0:t.includes(i.type.name));e.tr.ensureMarks(r)}}var XM=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{let{selection:s,doc:a}=t,{$from:c,$to:u}=s,p=i.extensionManager.attributes,h=Dl(p,c.node().type.name,c.node().attrs);if(s instanceof Se&&s.node.isBlock)return!c.parentOffset||!Do(a,c.pos)?!1:(r&&(e&&ag(n,i.extensionManager.splittableMarks),t.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;let m=u.parentOffset===u.parent.content.size,g=c.depth===0?void 0:Qb(c.node(-1).contentMatchAt(c.indexAfter(-1))),b=m&&g?[{type:g,attrs:h}]:void 0,v=Do(t.doc,t.mapping.map(c.pos),1,b);if(!b&&!v&&Do(t.doc,t.mapping.map(c.pos),1,g?[{type:g}]:void 0)&&(v=!0,b=g?[{type:g,attrs:h}]:void 0),r){if(v&&(s instanceof xe&&t.deleteSelection(),t.split(t.mapping.map(c.pos),1,b),g&&!m&&!c.parentOffset&&c.parent.type!==g)){let E=t.mapping.map(c.before()),k=t.doc.resolve(E);c.node(-1).canReplaceWith(k.index(),k.index()+1,g)&&t.setNodeMarkup(t.mapping.map(c.before()),g)}e&&ag(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return v},QM=(e,t={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var a;let c=on(e,r.schema),{$from:u,$to:p}=r.selection,h=r.selection.node;if(h&&h.isBlock||u.depth<2||!u.sameParent(p))return!1;let m=u.node(-1);if(m.type!==c)return!1;let g=s.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==c||u.index(-2)!==u.node(-2).childCount-1)return!1;if(i){let T=K.empty,B=u.index(-1)?1:u.index(-2)?2:3;for(let ne=u.depth-B;ne>=u.depth-3;ne-=1)T=K.from(u.node(ne).copy(T));let L=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,A={...Dl(g,u.node().type.name,u.node().attrs),...t},U=((a=c.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(A))||void 0;T=T.append(K.from(c.createAndFill(null,U)||void 0));let $=u.before(u.depth-(B-1));n.replace($,u.after(-L),new ee(T,4-B,0));let q=-1;n.doc.nodesBetween($,n.doc.content.size,(ne,J)=>{if(q>-1)return!1;ne.isTextblock&&ne.content.size===0&&(q=J+1)}),q>-1&&n.setSelection(xe.near(n.doc.resolve(q))),n.scrollIntoView()}return!0}let b=p.pos===u.end()?m.contentMatchAt(0).defaultType:null,v={...Dl(g,m.type.name,m.attrs),...t},E={...Dl(g,u.node().type.name,u.node().attrs),...t};n.delete(u.pos,p.pos);let k=b?[{type:c,attrs:v},{type:b,attrs:E}]:[{type:c,attrs:v}];if(!Do(n.doc,u.pos,2))return!1;if(i){let{selection:T,storedMarks:B}=r,{splittableMarks:L}=s.extensionManager,A=B||T.$to.parentOffset&&T.$from.marks();if(n.split(u.pos,2,k).scrollIntoView(),!A||!i)return!0;let U=A.filter($=>L.includes($.type.name));n.ensureMarks(U)}return!0},yd=(e,t)=>{let n=na(s=>s.type===t)(e.selection);if(!n)return!0;let r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;let i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&wi(e.doc,n.pos)&&e.join(n.pos),!0},vd=(e,t)=>{let n=na(s=>s.type===t)(e.selection);if(!n)return!0;let r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;let i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&wi(e.doc,r)&&e.join(r),!0},YM=(e,t,n,r={})=>({editor:i,tr:s,state:a,dispatch:c,chain:u,commands:p,can:h})=>{let{extensions:m,splittableMarks:g}=i.extensionManager,b=on(e,a.schema),v=on(t,a.schema),{selection:E,storedMarks:k}=a,{$from:T,$to:B}=E,L=T.blockRange(B),A=k||E.$to.parentOffset&&E.$from.marks();if(!L)return!1;let U=na($=>sg($.type.name,m))(E);if(L.depth>=1&&U&&L.depth-U.depth<=1){if(U.node.type===b)return p.liftListItem(v);if(sg(U.node.type.name,m)&&b.validContent(U.node.content)&&c)return u().command(()=>(s.setNodeMarkup(U.pos,b),!0)).command(()=>yd(s,b)).command(()=>vd(s,b)).run()}return!n||!A||!c?u().command(()=>h().wrapInList(b,r)?!0:p.clearNodes()).wrapInList(b,r).command(()=>yd(s,b)).command(()=>vd(s,b)).run():u().command(()=>{let $=h().wrapInList(b,r),q=A.filter(ne=>g.includes(ne.type.name));return s.ensureMarks(q),$?!0:p.clearNodes()}).wrapInList(b,r).command(()=>yd(s,b)).command(()=>vd(s,b)).run()},eT=(e,t={},n={})=>({state:r,commands:i})=>{let{extendEmptyMarkRange:s=!1}=n,a=Ei(e,r.schema);return UM(r,a,t)?i.unsetMark(a,{extendEmptyMarkRange:s}):i.setMark(a,t)},tT=(e,t,n={})=>({state:r,commands:i})=>{let s=on(e,r.schema),a=on(t,r.schema);return qp(r,s,n)?i.setNode(a):i.setNode(s,n)},nT=(e,t={})=>({state:n,commands:r})=>{let i=on(e,n.schema);return qp(n,i,t)?r.lift(i):r.wrapIn(i,t)},rT=()=>({state:e,dispatch:t})=>{let n=e.plugins;for(let r=0;r<n.length;r+=1){let i=n[r],s;if(i.spec.isInputRules&&(s=i.getState(e))){if(t){let a=e.tr,c=s.transform;for(let u=c.steps.length-1;u>=0;u-=1)a.step(c.steps[u].invert(c.docs[u]));if(s.text){let u=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,e.schema.text(s.text,u))}else a.delete(s.from,s.to)}return!0}}return!1},iT=()=>({tr:e,dispatch:t})=>{let{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},oT=(e,t={})=>({tr:n,state:r,dispatch:i})=>{var s;let{extendEmptyMarkRange:a=!1}=t,{selection:c}=n,u=Ei(e,r.schema),{$from:p,empty:h,ranges:m}=c;if(!i)return!0;if(h&&a){let{from:g,to:b}=c,v=(s=p.marks().find(k=>k.type===u))===null||s===void 0?void 0:s.attrs,E=Pp(p,u,v);E&&(g=E.from,b=E.to),n.removeMark(g,b,u)}else m.forEach(g=>{n.removeMark(g.$from.pos,g.$to.pos,u)});return n.removeStoredMark(u),!0},sT=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null,c=Wp(typeof e=="string"?e:e.name,r.schema);return c?(c==="node"&&(s=on(e,r.schema)),c==="mark"&&(a=Ei(e,r.schema)),i&&n.selection.ranges.forEach(u=>{let p=u.$from.pos,h=u.$to.pos;r.doc.nodesBetween(p,h,(m,g)=>{s&&s===m.type&&n.setNodeMarkup(g,void 0,{...m.attrs,...t}),a&&m.marks.length&&m.marks.forEach(b=>{if(a===b.type){let v=Math.max(g,p),E=Math.min(g+m.nodeSize,h);n.addMark(v,E,a.create({...b.attrs,...t}))}})})}),!0):!1},aT=(e,t={})=>({state:n,dispatch:r})=>{let i=on(e,n.schema);return TC(i,t)(n,r)},lT=(e,t={})=>({state:n,dispatch:r})=>{let i=on(e,n.schema);return OC(i,t)(n,r)},cT=Object.freeze({__proto__:null,blur:KC,clearContent:qC,clearNodes:WC,command:VC,createParagraphNear:GC,cut:JC,deleteCurrentNode:ZC,deleteNode:XC,deleteRange:QC,deleteSelection:YC,enter:eM,exitCode:tM,extendMarkRange:rM,first:iM,focus:sM,forEach:aM,insertContent:lM,insertContentAt:dM,joinBackward:fM,joinDown:hM,joinForward:mM,joinItemBackward:gM,joinItemForward:bM,joinTextblockBackward:yM,joinTextblockForward:vM,joinUp:pM,keyboardShortcut:_M,lift:kM,liftEmptyBlock:EM,liftListItem:xM,newlineInCode:SM,resetAttributes:AM,scrollIntoView:CM,selectAll:MM,selectNodeBackward:TM,selectNodeForward:OM,selectParentNode:NM,selectTextblockEnd:LM,selectTextblockStart:RM,setContent:IM,setMark:qM,setMeta:WM,setNode:VM,setNodeSelection:GM,setTextSelection:JM,sinkListItem:ZM,splitBlock:XM,splitListItem:QM,toggleList:YM,toggleMark:eT,toggleNode:tT,toggleWrap:nT,undoInputRule:rT,unsetAllMarks:iT,unsetMark:oT,updateAttributes:sT,wrapIn:aT,wrapInList:lT});Pt.create({name:"commands",addCommands(){return{...cT}}});Pt.create({name:"editable",addProseMirrorPlugins(){return[new Dt({key:new It("editable"),props:{editable:()=>this.editor.options.editable}})]}});Pt.create({name:"focusEvents",addProseMirrorPlugins(){let{editor:e}=this;return[new Dt({key:new It("focusEvents"),props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;let r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;let r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}});Pt.create({name:"keymap",addKeyboardShortcuts(){let e=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{let{selection:c,doc:u}=a,{empty:p,$anchor:h}=c,{pos:m,parent:g}=h,b=h.parent.isTextblock&&m>0?a.doc.resolve(m-1):h,v=b.parent.type.spec.isolating,E=h.pos-h.parentOffset,k=v&&b.parent.childCount===1?E===h.pos:Ee.atStart(u).from===m;return!p||!g.type.isTextblock||g.textContent.length||!k||k&&h.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},r={...n},i={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Kp()||Xb()?i:r},addProseMirrorPlugins(){return[new Dt({key:new It("clearDocument"),appendTransaction:(e,t,n)=>{if(!(e.some(m=>m.docChanged)&&!t.doc.eq(n.doc)))return;let{empty:r,from:i,to:s}=t.selection,a=Ee.atStart(t.doc).from,c=Ee.atEnd(t.doc).to;if(r||!(i===a&&s===c)||n.doc.textBetween(0,n.doc.content.size," "," ").length!==0)return;let u=n.tr,p=Jb({state:n,transaction:u}),{commands:h}=new BC({editor:this.editor,state:p});if(h.clearNodes(),!!u.steps.length)return u}})]}});Pt.create({name:"tabindex",addProseMirrorPlugins(){return[new Dt({key:new It("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});function Zi(e){return new Fc({find:e.find,handler:({state:t,range:n,match:r})=>{let i=St(e.getAttributes,void 0,r);if(i===!1||i===null)return null;let{tr:s}=t,a=r[r.length-1],c=r[0];if(a){let u=c.search(/\S/),p=n.from+c.indexOf(a),h=p+a.length;if(Vp(n.from,n.to,t.doc).filter(g=>g.mark.type.excluded.find(b=>b===e.type&&b!==g.mark.type)).filter(g=>g.to>p).length)return null;h<n.to&&s.delete(h,n.to),p>n.from&&s.delete(n.from+u,p);let m=n.from+u+a.length;s.addMark(n.from+u,m,e.type.create(i||{})),s.removeStoredMark(e.type)}}})}function ry(e){return new Fc({find:e.find,handler:({state:t,range:n,match:r})=>{let i=St(e.getAttributes,void 0,r)||{},{tr:s}=t,a=n.from,c=n.to,u=e.type.create(i);if(r[1]){let p=r[0].lastIndexOf(r[1]),h=a+p;h>c?h=c:c=h+r[1].length;let m=r[0][r[0].length-1];s.insertText(m,a+r[0].length-1),s.replaceWith(h,c,u)}else if(r[0]){let p=e.type.isInline?a:a-1;s.insert(p,e.type.create(i)).delete(s.mapping.map(a),s.mapping.map(c))}s.scrollIntoView()}})}function ip(e){return new Fc({find:e.find,handler:({state:t,range:n,match:r})=>{let i=t.doc.resolve(n.from),s=St(e.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,s)}})}function Ps(e){return new Fc({find:e.find,handler:({state:t,range:n,match:r,chain:i})=>{let s=St(e.getAttributes,void 0,r)||{},a=t.tr.delete(n.from,n.to),c=a.doc.resolve(n.from).blockRange(),u=c&&Lp(c,e.type,s);if(!u)return null;if(a.wrap(c,u),e.keepMarks&&e.editor){let{selection:h,storedMarks:m}=t,{splittableMarks:g}=e.editor.extensionManager,b=m||h.$to.parentOffset&&h.$from.marks();if(b){let v=b.filter(E=>g.includes(E.type.name));a.ensureMarks(v)}}if(e.keepAttributes){let h=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(h,s).run()}let p=a.doc.resolve(n.from-1).nodeBefore;p&&p.type===e.type&&wi(a.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,p))&&a.join(n.from-1)}})}var qn=class op{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=St(jt(this,"addOptions",{name:this.name}))),this.storage=St(jt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new op(t)}configure(t={}){let n=this.extend({...this.config,addOptions:()=>jc(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){let n=new op(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=St(jt(n,"addOptions",{name:n.name})),n.storage=St(jt(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:t,mark:n}){let{tr:r}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){let s=i.marks();if(!s.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;let a=s.find(c=>(c==null?void 0:c.type.name)===n.name);return a&&r.removeStoredMark(a),r.insertText(" ",i.pos),t.view.dispatch(r),!0}return!1}},Qe=class sp{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=St(jt(this,"addOptions",{name:this.name}))),this.storage=St(jt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new sp(t)}configure(t={}){let n=this.extend({...this.config,addOptions:()=>jc(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){let n=new sp(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=St(jt(n,"addOptions",{name:n.name})),n.storage=St(jt(n,"addStorage",{name:n.name,options:n.options})),n}};function vi(e){return new FC({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:i})=>{let s=St(e.getAttributes,void 0,r,i);if(s===!1||s===null)return null;let{tr:a}=t,c=r[r.length-1],u=r[0],p=n.to;if(c){let h=u.search(/\S/),m=n.from+u.indexOf(c),g=m+c.length;if(Vp(n.from,n.to,t.doc).filter(b=>b.mark.type.excluded.find(v=>v===e.type&&v!==b.mark.type)).filter(b=>b.to>m).length)return null;g<n.to&&a.delete(g,n.to),m>n.from&&a.delete(n.from+h,m),p=n.from+h+c.length,a.addMark(n.from+h,p,e.type.create(s||{})),a.removeStoredMark(e.type)}}})}function uT(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}var dT=/^\s*>\s$/,pT=Qe.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return["blockquote",Me(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ps({find:dT,type:this.type})]}}),hT=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,fT=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,mT=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,gT=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,bT=qn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",Me(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Zi({find:hT,type:this.type}),Zi({find:mT,type:this.type})]},addPasteRules(){return[vi({find:fT,type:this.type}),vi({find:gT,type:this.type})]}}),yT=Qe.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",Me(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),lg=qn.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["span",Me(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{let n=ta(e,this.type);return Object.entries(n).some(([,r])=>!!r)?!0:t.unsetMark(this.name)}}}}),cg=/^\s*([-+*])\s$/,vT=Qe.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",Me(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(yT.name,this.editor.getAttributes(lg.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Ps({find:cg,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Ps({find:cg,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(lg.name),editor:this.editor})),[e]}}),wT=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,_T=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,kT=qn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",Me(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Zi({find:wT,type:this.type})]},addPasteRules(){return[vi({find:_T,type:this.type})]}});qn.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["span",Me(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{let n=ta(e,this.type);return Object.entries(n).some(([,r])=>!!r)?!0:t.unsetMark(this.name)}}}});var ET=Pt.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;return(t=e.style.color)===null||t===void 0?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}});Qe.create({name:"doc",topNode:!0,content:"block+"});function xT(e={}){return new Dt({view(t){return new ST(t,e)}})}var ST=class{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=t.width)!==null&&n!==void 0?n:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let i=s=>{this[r](s)};return e.dom.addEventListener(r,i),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,n;if(t){let a=e.nodeBefore,c=e.nodeAfter;if(a||c){let u=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(u){let p=u.getBoundingClientRect(),h=a?p.bottom:p.top;a&&c&&(h=(h+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:p.left,right:p.right,top:h-this.width/2,bottom:h+this.width/2}}}}if(!n){let a=this.editorView.coordsAtPos(this.cursorPos);n={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let r=this.editorView.dom.offsetParent;this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let i,s;if(!r||r==document.body&&getComputedStyle(r).position=="static")i=-pageXOffset,s=-pageYOffset;else{let a=r.getBoundingClientRect();i=a.left-r.scrollLeft,s=a.top-r.scrollTop}this.element.style.left=n.left-i+"px",this.element.style.top=n.top-s+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,i=typeof r=="function"?r(this.editorView,t,e):r;if(t&&!i){let s=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=nb(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}};Pt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[xT(this.options)]}});var Ln=class ui extends Ee{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return ui.valid(r)?new ui(r):Ee.near(r)}content(){return ee.empty}eq(t){return t instanceof ui&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ui(t.resolve(n.pos))}getBookmark(){return new AT(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!CT(t)||!MT(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&ui.valid(t))return t;let i=t.pos,s=null;for(let a=t.depth;;a--){let c=t.node(a);if(n>0?t.indexAfter(a)<c.childCount:t.index(a)>0){s=c.child(n>0?t.indexAfter(a):t.index(a)-1);break}else if(a==0)return null;i+=n;let u=t.doc.resolve(i);if(ui.valid(u))return u}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!Se.isSelectable(s)){t=t.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=a,i+=n;let c=t.doc.resolve(i);if(ui.valid(c))return c}return null}}};Ln.prototype.visible=!1;Ln.findFrom=Ln.findGapCursorFrom;Ee.jsonID("gapcursor",Ln);var AT=class iy{constructor(t){this.pos=t}map(t){return new iy(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return Ln.valid(n)?new Ln(n):Ee.near(n)}};function CT(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function MT(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function TT(){return new Dt({props:{decorations:RT,createSelectionBetween(e,t,n){return t.pos==n.pos&&Ln.valid(n)?new Ln(n):null},handleClick:NT,handleKeyDown:OT,handleDOMEvents:{beforeinput:LT}}})}var OT=Pb({ArrowLeft:al("horiz",-1),ArrowRight:al("horiz",1),ArrowUp:al("vert",-1),ArrowDown:al("vert",1)});function al(e,t){let n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,s){let a=r.selection,c=t>0?a.$to:a.$from,u=a.empty;if(a instanceof xe){if(!s.endOfTextblock(n)||c.depth==0)return!1;u=!1,c=r.doc.resolve(t>0?c.after():c.before())}let p=Ln.findGapCursorFrom(c,t,u);return p?(i&&i(r.tr.setSelection(new Ln(p))),!0):!1}}function NT(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!Ln.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Se.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new Ln(r))),!0)}function LT(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof Ln))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=K.empty;for(let a=r.length-1;a>=0;a--)i=K.from(r[a].createAndFill(null,i));let s=e.state.tr.replace(n.pos,n.pos,new ee(i,0,0));return s.setSelection(xe.near(s.doc.resolve(n.pos+1))),e.dispatch(s),!1}function RT(e){if(!(e.selection instanceof Ln))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",dn.create(e.doc,[Nr.widget(e.selection.head,t,{key:"gapcursor"})])}Pt.create({name:"gapCursor",addProseMirrorPlugins(){return[TT()]},extendNodeSchema(e){var t;let n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=St(jt(e,"allowGapCursor",n)))!==null&&t!==void 0?t:null}}});Qe.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",Me(this.options.HTMLAttributes,e)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{let{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;let{keepMarks:a}=this.options,{splittableMarks:c}=r.extensionManager,u=s||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:p,dispatch:h})=>{if(h&&u&&a){let m=u.filter(g=>c.includes(g.type.name));p.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}});var DT=Qe.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,Me(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>ip({find:new RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),tc=200,rn=function(){};rn.prototype.append=function(e){return e.length?(e=rn.from(e),!this.length&&e||e.length<tc&&this.leafAppend(e)||this.length<tc&&e.leafPrepend(this)||this.appendInner(e)):this};rn.prototype.prepend=function(e){return e.length?rn.from(e).append(this):this};rn.prototype.appendInner=function(e){return new IT(this,e)};rn.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?rn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};rn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};rn.prototype.forEach=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)};rn.prototype.map=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length);var r=[];return this.forEach(function(i,s){return r.push(e(i,s))},t,n),r};rn.from=function(e){return e instanceof rn?e:e&&e.length?new oy(e):rn.empty};var oy=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(r,i){return r==0&&i==this.length?this:new t(this.values.slice(r,i))},t.prototype.getInner=function(r){return this.values[r]},t.prototype.forEachInner=function(r,i,s,a){for(var c=i;c<s;c++)if(r(this.values[c],a+c)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,s,a){for(var c=i-1;c>=s;c--)if(r(this.values[c],a+c)===!1)return!1},t.prototype.leafAppend=function(r){if(this.length+r.length<=tc)return new t(this.values.concat(r.flatten()))},t.prototype.leafPrepend=function(r){if(this.length+r.length<=tc)return new t(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(rn);rn.empty=new oy([]);var IT=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},t.prototype.forEachInner=function(n,r,i,s){var a=this.left.length;if(r<a&&this.left.forEachInner(n,r,Math.min(i,a),s)===!1||i>a&&this.right.forEachInner(n,Math.max(r-a,0),Math.min(this.length,i)-a,s+a)===!1)return!1},t.prototype.forEachInvertedInner=function(n,r,i,s){var a=this.left.length;if(r>a&&this.right.forEachInvertedInner(n,r-a,Math.max(i,a)-a,s+a)===!1||i<a&&this.left.forEachInvertedInner(n,Math.min(r,a),i,s)===!1)return!1},t.prototype.sliceInner=function(n,r){if(n==0&&r==this.length)return this;var i=this.left.length;return r<=i?this.left.slice(n,r):n>=i?this.right.slice(n-i,r-i):this.left.slice(n,i).append(this.right.slice(0,r-i))},t.prototype.leafAppend=function(n){var r=this.right.leafAppend(n);if(r)return new t(this.left,r)},t.prototype.leafPrepend=function(n){var r=this.left.leafPrepend(n);if(r)return new t(r,this.right)},t.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new t(this.left,new t(this.right,n)):new t(this,n)},t}(rn),sy=rn,BT=500,Us=class Mo{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let a=t.tr,c,u,p=[],h=[];return this.items.forEach((m,g)=>{if(!m.step){i||(i=this.remapping(r,g+1),s=i.maps.length),s--,h.push(m);return}if(i){h.push(new ai(m.map));let b=m.step.map(i.slice(s)),v;b&&a.maybeStep(b).doc&&(v=a.mapping.maps[a.mapping.maps.length-1],p.push(new ai(v,void 0,void 0,p.length+h.length))),s--,v&&i.appendMap(v,s)}else a.maybeStep(m.step);if(m.selection)return c=i?m.selection.map(i.slice(s)):m.selection,u=new Mo(this.items.slice(0,r).append(h.reverse().concat(p)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:a,selection:c}}addTransform(t,n,r,i){let s=[],a=this.eventCount,c=this.items,u=!i&&c.length?c.get(c.length-1):null;for(let h=0;h<t.steps.length;h++){let m=t.steps[h].invert(t.docs[h]),g=new ai(t.mapping.maps[h],m,n),b;(b=u&&u.merge(g))&&(g=b,h?s.pop():c=c.slice(0,c.length-1)),s.push(g),n&&(a++,n=void 0),i||(u=g)}let p=a-r.depth;return p>HT&&(c=$T(c,p),a-=p),new Mo(c.append(s),a)}remapping(t,n){let r=new Y0;return this.items.forEach((i,s)=>{let a=i.mirrorOffset!=null&&s-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},t,n),r}addMaps(t){return this.eventCount==0?this:new Mo(this.items.append(t.map(n=>new ai(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=t.mapping,a=t.steps.length,c=this.eventCount;this.items.forEach(g=>{g.selection&&c--},i);let u=n;this.items.forEach(g=>{let b=s.getMirror(--u);if(b==null)return;a=Math.min(a,b);let v=s.maps[b];if(g.step){let E=t.steps[b].invert(t.docs[b]),k=g.selection&&g.selection.map(s.slice(u+1,b));k&&c++,r.push(new ai(v,E,k))}else r.push(new ai(v))},i);let p=[];for(let g=n;g<a;g++)p.push(new ai(s.maps[g]));let h=this.items.slice(0,i).append(p).append(r),m=new Mo(h,c);return m.emptyItemCount()>BT&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],s=0;return this.items.forEach((a,c)=>{if(c>=t)i.push(a),a.selection&&s++;else if(a.step){let u=a.step.map(n.slice(r)),p=u&&u.getMap();if(r--,p&&n.appendMap(p,r),u){let h=a.selection&&a.selection.map(n.slice(r));h&&s++;let m=new ai(p.invert(),u,h),g,b=i.length-1;(g=i.length&&i[b].merge(m))?i[b]=g:i.push(m)}}else a.map&&r--},this.items.length,0),new Mo(sy.from(i.reverse()),s)}};Us.empty=new Us(sy.empty,0);function $T(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}var ai=class ay{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new ay(n.getMap().invert(),n,this.selection)}}},pi=class{constructor(e,t,n,r,i){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r,this.prevComposition=i}},HT=20;function zT(e,t,n,r){let i=n.getMeta(Wi),s;if(i)return i.historyState;n.getMeta(PT)&&(e=new pi(e.done,e.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(a&&a.getMeta(Wi))return a.getMeta(Wi).redo?new pi(e.done.addTransform(n,void 0,r,Il(t)),e.undone,ug(n.mapping.maps),e.prevTime,e.prevComposition):new pi(e.done,e.undone.addTransform(n,void 0,r,Il(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let c=n.getMeta("composition"),u=e.prevTime==0||!a&&e.prevComposition!=c&&(e.prevTime<(n.time||0)-r.newGroupDelay||!FT(n,e.prevRanges)),p=a?wd(e.prevRanges,n.mapping):ug(n.mapping.maps);return new pi(e.done.addTransform(n,u?t.selection.getBookmark():void 0,r,Il(t)),Us.empty,p,n.time,c??e.prevComposition)}else return(s=n.getMeta("rebased"))?new pi(e.done.rebased(n,s),e.undone.rebased(n,s),wd(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new pi(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),wd(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function FT(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<t.length;s+=2)r<=t[s+1]&&i>=t[s]&&(n=!0)}),n}function ug(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,i,s,a)=>t.push(s,a));return t}function wd(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),s=t.map(e[r+1],-1);i<=s&&n.push(i,s)}return n}function jT(e,t,n){let r=Il(t),i=Wi.get(t).spec.config,s=(n?e.undone:e.done).popEvent(t,r);if(!s)return null;let a=s.selection.resolve(s.transform.doc),c=(n?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,r),u=new pi(n?c:s.remaining,n?s.remaining:c,null,0,-1);return s.transform.setSelection(a).setMeta(Wi,{redo:n,historyState:u})}var _d=!1,dg=null;function Il(e){let t=e.plugins;if(dg!=t){_d=!1,dg=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){_d=!0;break}}return _d}var Wi=new It("history"),PT=new It("closeHistory");function UT(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Dt({key:Wi,state:{init(){return new pi(Us.empty,Us.empty,null,0,-1)},apply(t,n,r){return zT(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?cy:r=="historyRedo"?uy:null;return i?(n.preventDefault(),i(t.state,t.dispatch)):!1}}}})}function ly(e,t){return(n,r)=>{let i=Wi.getState(n);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(r){let s=jT(i,n,e);s&&r(t?s.scrollIntoView():s)}return!0}}var cy=ly(!1,!0),uy=ly(!0,!0);Pt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>cy(e,t),redo:()=>({state:e,dispatch:t})=>uy(e,t)}},addProseMirrorPlugins(){return[UT(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}});var KT=Qe.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",Me(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{let{selection:n}=t,{$from:r,$to:i}=n,s=e();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):ty(n)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:a,dispatch:c})=>{var u;if(c){let{$to:p}=a.selection,h=p.end();if(p.nodeAfter)p.nodeAfter.isTextblock?a.setSelection(xe.create(a.doc,p.pos+1)):p.nodeAfter.isBlock?a.setSelection(Se.create(a.doc,p.pos)):a.setSelection(xe.create(a.doc,p.pos));else{let m=(u=p.parent.type.contentMatch.defaultType)===null||u===void 0?void 0:u.create();m&&(a.insert(h,m),a.setSelection(xe.create(a.doc,h+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[ry({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),qT=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,WT=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,VT=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,GT=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,JT=qn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",Me(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Zi({find:qT,type:this.type}),Zi({find:VT,type:this.type})]},addPasteRules(){return[vi({find:WT,type:this.type}),vi({find:GT,type:this.type})]}});Qe.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",Me(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}});var ZT=Qe.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",Me(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),pg=qn.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["span",Me(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{let n=ta(e,this.type);return Object.entries(n).some(([,r])=>!!r)?!0:t.unsetMark(this.name)}}}}),hg=/^(\d+)\.\s$/,XT=Qe.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){let{start:t,...n}=e;return t===1?["ol",Me(this.options.HTMLAttributes,n),0]:["ol",Me(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ZT.name,this.editor.getAttributes(pg.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Ps({find:hg,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Ps({find:hg,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(pg.name)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),QT=Qe.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",Me(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}});Pt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Dt({key:new It("placeholder"),props:{decorations:({doc:e,selection:t})=>{let n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,i=[];if(!n)return null;let s=this.editor.isEmpty;return e.descendants((a,c)=>{let u=r>=c&&r<=c+a.nodeSize,p=!a.isLeaf&&ey(a);if((u||!this.options.showOnlyCurrent)&&p){let h=[this.options.emptyNodeClass];s&&h.push(this.options.emptyEditorClass);let m=Nr.node(c,c+a.nodeSize,{class:h.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:c,hasAnchor:u}):this.options.placeholder});i.push(m)}return this.options.includeChildren}),dn.create(e,i)}}})]}});var YT=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,eO=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,tO=qn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",Me(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Zi({find:YT,type:this.type})]},addPasteRules(){return[vi({find:eO,type:this.type})]}}),nO=qn.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(e){return e!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sub",Me(this.options.HTMLAttributes,e),0]},addCommands(){return{setSubscript:()=>({commands:e})=>e.setMark(this.name),toggleSubscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSubscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),rO=qn.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(e){return e!=="super"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sup",Me(this.options.HTMLAttributes,e),0]},addCommands(){return{setSuperscript:()=>({commands:e})=>e.setMark(this.name),toggleSuperscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSuperscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),ap,lp;if(typeof WeakMap<"u"){let e=new WeakMap;ap=t=>e.get(t),lp=(t,n)=>(e.set(t,n),n)}else{let e=[],t=0;ap=n=>{for(let r=0;r<e.length;r+=2)if(e[r]==n)return e[r+1]},lp=(n,r)=>(t==10&&(t=0),e[t++]=n,e[t++]=r)}var xt=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){let n=this.map[t];if(n!=e)continue;let r=t%this.width,i=t/this.width|0,s=r+1,a=i+1;for(let c=1;s<this.width&&this.map[t+c]==n;c++)s++;for(let c=1;a<this.height&&this.map[t+this.width*c]==n;c++)a++;return{left:r,top:i,right:s,bottom:a}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){let{left:r,right:i,top:s,bottom:a}=this.findCell(e);return t=="horiz"?(n<0?r==0:i==this.width)?null:this.map[s*this.width+(n<0?r-1:i)]:(n<0?s==0:a==this.height)?null:this.map[r+this.width*(n<0?s-1:a)]}rectBetween(e,t){let{left:n,right:r,top:i,bottom:s}=this.findCell(e),{left:a,right:c,top:u,bottom:p}=this.findCell(t);return{left:Math.min(n,a),top:Math.min(i,u),right:Math.max(r,c),bottom:Math.max(s,p)}}cellsInRect(e){let t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let i=e.left;i<e.right;i++){let s=r*this.width+i,a=this.map[s];n[a]||(n[a]=!0,!(i==e.left&&i&&this.map[s-1]==a||r==e.top&&r&&this.map[s-this.width]==a)&&t.push(a))}return t}positionAt(e,t,n){for(let r=0,i=0;;r++){let s=i+n.child(r).nodeSize;if(r==e){let a=t+e*this.width,c=(e+1)*this.width;for(;a<c&&this.map[a]<i;)a++;return a==c?s-1:this.map[a]}i=s}}static get(e){return ap(e)||lp(e,iO(e))}};function iO(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);let t=oO(e),n=e.childCount,r=[],i=0,s=null,a=[];for(let p=0,h=t*n;p<h;p++)r[p]=0;for(let p=0,h=0;p<n;p++){let m=e.child(p);h++;for(let v=0;;v++){for(;i<r.length&&r[i]!=0;)i++;if(v==m.childCount)break;let E=m.child(v),{colspan:k,rowspan:T,colwidth:B}=E.attrs;for(let L=0;L<T;L++){if(L+p>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:h,n:T-L});break}let A=i+L*t;for(let U=0;U<k;U++){r[A+U]==0?r[A+U]=h:(s||(s=[])).push({type:"collision",row:p,pos:h,n:k-U});let $=B&&B[U];if($){let q=(A+U)%t*2,ne=a[q];ne==null||ne!=$&&a[q+1]==1?(a[q]=$,a[q+1]=1):ne==$&&a[q+1]++}}}i+=k,h+=E.nodeSize}let g=(p+1)*t,b=0;for(;i<g;)r[i++]==0&&b++;b&&(s||(s=[])).push({type:"missing",row:p,n:b}),h++}let c=new xt(t,n,r,s),u=!1;for(let p=0;!u&&p<a.length;p+=2)a[p]!=null&&a[p+1]<n&&(u=!0);return u&&sO(c,a,e),c}function oO(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){let i=e.child(r),s=0;if(n)for(let a=0;a<r;a++){let c=e.child(a);for(let u=0;u<c.childCount;u++){let p=c.child(u);a+p.attrs.rowspan>r&&(s+=p.attrs.colspan)}}for(let a=0;a<i.childCount;a++){let c=i.child(a);s+=c.attrs.colspan,c.attrs.rowspan>1&&(n=!0)}t==-1?t=s:t!=s&&(t=Math.max(t,s))}return t}function sO(e,t,n){e.problems||(e.problems=[]);let r={};for(let i=0;i<e.map.length;i++){let s=e.map[i];if(r[s])continue;r[s]=!0;let a=n.nodeAt(s);if(!a)throw new RangeError(`No cell with offset ${s} found`);let c=null,u=a.attrs;for(let p=0;p<u.colspan;p++){let h=(i+p)%e.width,m=t[h*2];m!=null&&(!u.colwidth||u.colwidth[p]!=m)&&((c||(c=aO(u)))[p]=m)}c&&e.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:c})}}function aO(e){if(e.colwidth)return e.colwidth.slice();let t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function pn(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(let n in e.nodes){let r=e.nodes[n],i=r.spec.tableRole;i&&(t[i]=r)}}return t}var fi=new It("selectingCells");function Wo(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function lO(e){for(let t=e.depth;t>0;t--){let n=e.node(t).type.spec.tableRole;if(n==="cell"||n==="header_cell")return e.node(t)}return null}function vr(e){let t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function Pc(e){let t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;let n=Wo(t.$head)||cO(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function cO(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){let r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){let r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function cp(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function uO(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function Gp(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function dy(e,t,n){let r=e.node(-1),i=xt.get(r),s=e.start(-1),a=i.nextCell(e.pos-s,t,n);return a==null?null:e.node(0).resolve(s+a)}function Xi(e,t,n=1){let r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function py(e,t,n=1){let r={...e,colspan:e.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(t,0,0)}return r}function dO(e,t,n){let r=pn(t.type.schema).header_cell;for(let i=0;i<e.height;i++)if(t.nodeAt(e.map[n+i*e.width]).type!=r)return!1;return!0}var ct=class qr extends Ee{constructor(t,n=t){let r=t.node(-1),i=xt.get(r),s=t.start(-1),a=i.rectBetween(t.pos-s,n.pos-s),c=t.node(0),u=i.cellsInRect(a).filter(h=>h!=n.pos-s);u.unshift(n.pos-s);let p=u.map(h=>{let m=r.nodeAt(h);if(!m)throw RangeError(`No cell with offset ${h} found`);let g=s+h+1;return new ub(c.resolve(g),c.resolve(g+m.content.size))});super(p[0].$from,p[0].$to,p),this.$anchorCell=t,this.$headCell=n}map(t,n){let r=t.resolve(n.map(this.$anchorCell.pos)),i=t.resolve(n.map(this.$headCell.pos));if(cp(r)&&cp(i)&&Gp(r,i)){let s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?qr.rowSelection(r,i):s&&this.isColSelection()?qr.colSelection(r,i):new qr(r,i)}return xe.between(r,i)}content(){let t=this.$anchorCell.node(-1),n=xt.get(t),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},a=[];for(let u=i.top;u<i.bottom;u++){let p=[];for(let h=u*n.width+i.left,m=i.left;m<i.right;m++,h++){let g=n.map[h];if(s[g])continue;s[g]=!0;let b=n.findCell(g),v=t.nodeAt(g);if(!v)throw RangeError(`No cell with offset ${g} found`);let E=i.left-b.left,k=b.right-i.right;if(E>0||k>0){let T=v.attrs;if(E>0&&(T=Xi(T,0,E)),k>0&&(T=Xi(T,T.colspan-k,k)),b.left<i.left){if(v=v.type.createAndFill(T),!v)throw RangeError(`Could not create cell with attrs ${JSON.stringify(T)}`)}else v=v.type.create(T,v.content)}if(b.top<i.top||b.bottom>i.bottom){let T={...v.attrs,rowspan:Math.min(b.bottom,i.bottom)-Math.max(b.top,i.top)};b.top<i.top?v=v.type.createAndFill(T):v=v.type.create(T,v.content)}p.push(v)}a.push(t.child(u).copy(K.from(p)))}let c=this.isColSelection()&&this.isRowSelection()?t:a;return new ee(K.from(c),1,1)}replace(t,n=ee.empty){let r=t.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:c,$to:u}=i[a],p=t.mapping.slice(r);t.replace(p.map(c.pos),p.map(u.pos),a?ee.empty:n)}let s=Ee.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);s&&t.setSelection(s)}replaceWith(t,n){this.replace(t,new ee(K.from(n),0,0))}forEachCell(t){let n=this.$anchorCell.node(-1),r=xt.get(n),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let a=0;a<s.length;a++)t(n.nodeAt(s[a]),i+s[a])}isColSelection(){let t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;let r=t+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){let r=t.node(-1),i=xt.get(r),s=t.start(-1),a=i.findCell(t.pos-s),c=i.findCell(n.pos-s),u=t.node(0);return a.top<=c.top?(a.top>0&&(t=u.resolve(s+i.map[a.left])),c.bottom<i.height&&(n=u.resolve(s+i.map[i.width*(i.height-1)+c.right-1]))):(c.top>0&&(n=u.resolve(s+i.map[c.left])),a.bottom<i.height&&(t=u.resolve(s+i.map[i.width*(i.height-1)+a.right-1]))),new qr(t,n)}isRowSelection(){let t=this.$anchorCell.node(-1),n=xt.get(t),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),s=n.colCount(this.$headCell.pos-r);if(Math.min(i,s)>0)return!1;let a=i+this.$anchorCell.nodeAfter.attrs.colspan,c=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,c)==n.width}eq(t){return t instanceof qr&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){let r=t.node(-1),i=xt.get(r),s=t.start(-1),a=i.findCell(t.pos-s),c=i.findCell(n.pos-s),u=t.node(0);return a.left<=c.left?(a.left>0&&(t=u.resolve(s+i.map[a.top*i.width])),c.right<i.width&&(n=u.resolve(s+i.map[i.width*(c.top+1)-1]))):(c.left>0&&(n=u.resolve(s+i.map[c.top*i.width])),a.right<i.width&&(t=u.resolve(s+i.map[i.width*(a.top+1)-1]))),new qr(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new qr(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new qr(t.resolve(n),t.resolve(r))}getBookmark(){return new pO(this.$anchorCell.pos,this.$headCell.pos)}};ct.prototype.visible=!1;Ee.jsonID("cell",ct);var pO=class hy{constructor(t,n){this.anchor=t,this.head=n}map(t){return new hy(t.map(this.anchor),t.map(this.head))}resolve(t){let n=t.resolve(this.anchor),r=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&Gp(n,r)?new ct(n,r):Ee.near(r,1)}};function hO(e){if(!(e.selection instanceof ct))return null;let t=[];return e.selection.forEachCell((n,r)=>{t.push(Nr.node(r,r+n.nodeSize,{class:"selectedCell"}))}),dn.create(e.doc,t)}function fO({$from:e,$to:t}){if(e.pos==t.pos||e.pos<e.pos-6)return!1;let n=e.pos,r=t.pos,i=e.depth;for(;i>=0&&!(e.after(i+1)<e.end(i));i--,n++);for(let s=t.depth;s>=0&&!(t.before(s+1)>t.start(s));s--,r--);return n==r&&/row|table/.test(e.node(i).type.spec.tableRole)}function mO({$from:e,$to:t}){let n,r;for(let i=e.depth;i>0;i--){let s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let i=t.depth;i>0;i--){let s=t.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return n!==r&&t.parentOffset===0}function gO(e,t,n){let r=(t||e).selection,i=(t||e).doc,s,a;if(r instanceof Se&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")s=ct.create(i,r.from);else if(a=="row"){let c=i.resolve(r.from+1);s=ct.rowSelection(c,c)}else if(!n){let c=xt.get(r.node),u=r.from+1,p=u+c.map[c.width*c.height-1];s=ct.create(i,u+1,p)}}else r instanceof xe&&fO(r)?s=xe.create(i,r.from):r instanceof xe&&mO(r)&&(s=xe.create(i,r.$from.start(),r.$from.end()));return s&&(t||(t=e.tr)).setSelection(s),t}var bO=new It("fix-tables");function fy(e,t,n,r){let i=e.childCount,s=t.childCount;e:for(let a=0,c=0;a<s;a++){let u=t.child(a);for(let p=c,h=Math.min(i,a+3);p<h;p++)if(e.child(p)==u){c=p+1,n+=u.nodeSize;continue e}r(u,n),c<i&&e.child(c).sameMarkup(u)?fy(e.child(c),u,n+1,r):u.nodesBetween(0,u.content.size,r,n+1),n+=u.nodeSize}}function my(e,t){let n,r=(i,s)=>{i.type.spec.tableRole=="table"&&(n=yO(e,i,s,n))};return t?t.doc!=e.doc&&fy(t.doc,e.doc,0,r):e.doc.descendants(r),n}function yO(e,t,n,r){let i=xt.get(t);if(!i.problems)return r;r||(r=e.tr);let s=[];for(let u=0;u<i.height;u++)s.push(0);for(let u=0;u<i.problems.length;u++){let p=i.problems[u];if(p.type=="collision"){let h=t.nodeAt(p.pos);if(!h)continue;let m=h.attrs;for(let g=0;g<m.rowspan;g++)s[p.row+g]+=p.n;r.setNodeMarkup(r.mapping.map(n+1+p.pos),null,Xi(m,m.colspan-p.n,p.n))}else if(p.type=="missing")s[p.row]+=p.n;else if(p.type=="overlong_rowspan"){let h=t.nodeAt(p.pos);if(!h)continue;r.setNodeMarkup(r.mapping.map(n+1+p.pos),null,{...h.attrs,rowspan:h.attrs.rowspan-p.n})}else if(p.type=="colwidth mismatch"){let h=t.nodeAt(p.pos);if(!h)continue;r.setNodeMarkup(r.mapping.map(n+1+p.pos),null,{...h.attrs,colwidth:p.colwidth})}}let a,c;for(let u=0;u<s.length;u++)s[u]&&(a==null&&(a=u),c=u);for(let u=0,p=n+1;u<i.height;u++){let h=t.child(u),m=p+h.nodeSize,g=s[u];if(g>0){let b="cell";h.firstChild&&(b=h.firstChild.type.spec.tableRole);let v=[];for(let k=0;k<g;k++){let T=pn(e.schema)[b].createAndFill();T&&v.push(T)}let E=(u==0||a==u-1)&&c==u?p+1:m-1;r.insert(r.mapping.map(E),v)}p=m}return r.setMeta(bO,{fixTables:!0})}function Lr(e){let t=e.selection,n=Pc(e),r=n.node(-1),i=n.start(-1),s=xt.get(r);return{...t instanceof ct?s.rectBetween(t.$anchorCell.pos-i,t.$headCell.pos-i):s.findCell(n.pos-i),tableStart:i,map:s,table:r}}function gy(e,{map:t,tableStart:n,table:r},i){let s=i>0?-1:0;dO(t,r,i+s)&&(s=i==0||i==t.width?null:0);for(let a=0;a<t.height;a++){let c=a*t.width+i;if(i>0&&i<t.width&&t.map[c-1]==t.map[c]){let u=t.map[c],p=r.nodeAt(u);e.setNodeMarkup(e.mapping.map(n+u),null,py(p.attrs,i-t.colCount(u))),a+=p.attrs.rowspan-1}else{let u=s==null?pn(r.type.schema).cell:r.nodeAt(t.map[c+s]).type,p=t.positionAt(a,i,r);e.insert(e.mapping.map(n+p),u.createAndFill())}}return e}function vO(e,t){if(!vr(e))return!1;if(t){let n=Lr(e);t(gy(e.tr,n,n.left))}return!0}function wO(e,t){if(!vr(e))return!1;if(t){let n=Lr(e);t(gy(e.tr,n,n.right))}return!0}function _O(e,{map:t,table:n,tableStart:r},i){let s=e.mapping.maps.length;for(let a=0;a<t.height;){let c=a*t.width+i,u=t.map[c],p=n.nodeAt(u),h=p.attrs;if(i>0&&t.map[c-1]==u||i<t.width-1&&t.map[c+1]==u)e.setNodeMarkup(e.mapping.slice(s).map(r+u),null,Xi(h,i-t.colCount(u)));else{let m=e.mapping.slice(s).map(r+u);e.delete(m,m+p.nodeSize)}a+=h.rowspan}}function kO(e,t){if(!vr(e))return!1;if(t){let n=Lr(e),r=e.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;_O(r,n,i),i!=n.left;i--){let s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=xt.get(s)}t(r)}return!0}function EO(e,t,n){var r;let i=pn(t.type.schema).header_cell;for(let s=0;s<e.width;s++)if(((r=t.nodeAt(e.map[s+n*e.width]))==null?void 0:r.type)!=i)return!1;return!0}function by(e,{map:t,tableStart:n,table:r},i){var s;let a=n;for(let p=0;p<i;p++)a+=r.child(p).nodeSize;let c=[],u=i>0?-1:0;EO(t,r,i+u)&&(u=i==0||i==t.height?null:0);for(let p=0,h=t.width*i;p<t.width;p++,h++)if(i>0&&i<t.height&&t.map[h]==t.map[h-t.width]){let m=t.map[h],g=r.nodeAt(m).attrs;e.setNodeMarkup(n+m,null,{...g,rowspan:g.rowspan+1}),p+=g.colspan-1}else{let m=u==null?pn(r.type.schema).cell:(s=r.nodeAt(t.map[h+u*t.width]))==null?void 0:s.type,g=m==null?void 0:m.createAndFill();g&&c.push(g)}return e.insert(a,pn(r.type.schema).row.create(null,c)),e}function xO(e,t){if(!vr(e))return!1;if(t){let n=Lr(e);t(by(e.tr,n,n.top))}return!0}function SO(e,t){if(!vr(e))return!1;if(t){let n=Lr(e);t(by(e.tr,n,n.bottom))}return!0}function AO(e,{map:t,table:n,tableStart:r},i){let s=0;for(let p=0;p<i;p++)s+=n.child(p).nodeSize;let a=s+n.child(i).nodeSize,c=e.mapping.maps.length;e.delete(s+r,a+r);let u=new Set;for(let p=0,h=i*t.width;p<t.width;p++,h++){let m=t.map[h];if(!u.has(m)){if(u.add(m),i>0&&m==t.map[h-t.width]){let g=n.nodeAt(m).attrs;e.setNodeMarkup(e.mapping.slice(c).map(m+r),null,{...g,rowspan:g.rowspan-1}),p+=g.colspan-1}else if(i<t.height&&m==t.map[h+t.width]){let g=n.nodeAt(m),b=g.attrs,v=g.type.create({...b,rowspan:g.attrs.rowspan-1},g.content),E=t.positionAt(i+1,p,n);e.insert(e.mapping.slice(c).map(r+E),v),p+=b.colspan-1}}}}function CO(e,t){if(!vr(e))return!1;if(t){let n=Lr(e),r=e.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;AO(r,n,i),i!=n.top;i--){let s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=xt.get(n.table)}t(r)}return!0}function fg(e){let t=e.content;return t.childCount==1&&t.child(0).isTextblock&&t.child(0).childCount==0}function MO({width:e,height:t,map:n},r){let i=r.top*e+r.left,s=i,a=(r.bottom-1)*e+r.left,c=i+(r.right-r.left-1);for(let u=r.top;u<r.bottom;u++){if(r.left>0&&n[s]==n[s-1]||r.right<e&&n[c]==n[c+1])return!0;s+=e,c+=e}for(let u=r.left;u<r.right;u++){if(r.top>0&&n[i]==n[i-e]||r.bottom<t&&n[a]==n[a+e])return!0;i++,a++}return!1}function mg(e,t){let n=e.selection;if(!(n instanceof ct)||n.$anchorCell.pos==n.$headCell.pos)return!1;let r=Lr(e),{map:i}=r;if(MO(i,r))return!1;if(t){let s=e.tr,a={},c=K.empty,u,p;for(let h=r.top;h<r.bottom;h++)for(let m=r.left;m<r.right;m++){let g=i.map[h*i.width+m],b=r.table.nodeAt(g);if(!(a[g]||!b))if(a[g]=!0,u==null)u=g,p=b;else{fg(b)||(c=c.append(b.content));let v=s.mapping.map(g+r.tableStart);s.delete(v,v+b.nodeSize)}}if(u==null||p==null)return!0;if(s.setNodeMarkup(u+r.tableStart,null,{...py(p.attrs,p.attrs.colspan,r.right-r.left-p.attrs.colspan),rowspan:r.bottom-r.top}),c.size){let h=u+1+p.content.size,m=fg(p)?u+1:h;s.replaceWith(m+r.tableStart,h+r.tableStart,c)}s.setSelection(new ct(s.doc.resolve(u+r.tableStart))),t(s)}return!0}function gg(e,t){let n=pn(e.schema);return TO(({node:r})=>n[r.type.spec.tableRole])(e,t)}function TO(e){return(t,n)=>{var r;let i=t.selection,s,a;if(i instanceof ct){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;s=i.$anchorCell.nodeAfter,a=i.$anchorCell.pos}else{if(s=lO(i.$from),!s)return!1;a=(r=Wo(i.$from))==null?void 0:r.pos}if(s==null||a==null||s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(n){let c=s.attrs,u=[],p=c.colwidth;c.rowspan>1&&(c={...c,rowspan:1}),c.colspan>1&&(c={...c,colspan:1});let h=Lr(t),m=t.tr;for(let b=0;b<h.right-h.left;b++)u.push(p?{...c,colwidth:p&&p[b]?[p[b]]:null}:c);let g;for(let b=h.top;b<h.bottom;b++){let v=h.map.positionAt(b,h.left,h.table);b==h.top&&(v+=s.nodeSize);for(let E=h.left,k=0;E<h.right;E++,k++)E==h.left&&b==h.top||m.insert(g=m.mapping.map(v+h.tableStart,1),e({node:s,row:b,col:E}).createAndFill(u[k]))}m.setNodeMarkup(a,e({node:s,row:h.top,col:h.left}),u[0]),i instanceof ct&&m.setSelection(new ct(m.doc.resolve(i.$anchorCell.pos),g?m.doc.resolve(g):void 0)),n(m)}return!0}}function OO(e,t){return function(n,r){if(!vr(n))return!1;let i=Pc(n);if(i.nodeAfter.attrs[e]===t)return!1;if(r){let s=n.tr;n.selection instanceof ct?n.selection.forEachCell((a,c)=>{a.attrs[e]!==t&&s.setNodeMarkup(c,null,{...a.attrs,[e]:t})}):s.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[e]:t}),r(s)}return!0}}function NO(e){return function(t,n){if(!vr(t))return!1;if(n){let r=pn(t.schema),i=Lr(t),s=t.tr,a=i.map.cellsInRect(e=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:e=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),c=a.map(u=>i.table.nodeAt(u));for(let u=0;u<a.length;u++)c[u].type==r.header_cell&&s.setNodeMarkup(i.tableStart+a[u],r.cell,c[u].attrs);if(s.steps.length==0)for(let u=0;u<a.length;u++)s.setNodeMarkup(i.tableStart+a[u],r.header_cell,c[u].attrs);n(s)}return!0}}function bg(e,t,n){let r=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let i=0;i<r.length;i++){let s=t.table.nodeAt(r[i]);if(s&&s.type!==n.header_cell)return!1}return!0}function Ks(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?NO(e):function(n,r){if(!vr(n))return!1;if(r){let i=pn(n.schema),s=Lr(n),a=n.tr,c=bg("row",s,i),u=bg("column",s,i),p=(e==="column"?c:e==="row"&&u)?1:0,h=e=="column"?{left:0,top:p,right:1,bottom:s.map.height}:e=="row"?{left:p,top:0,right:s.map.width,bottom:1}:s,m=e=="column"?u?i.cell:i.header_cell:e=="row"?c?i.cell:i.header_cell:i.cell;s.map.cellsInRect(h).forEach(g=>{let b=g+s.tableStart,v=a.doc.nodeAt(b);v&&a.setNodeMarkup(b,m,v.attrs)}),r(a)}return!0}}Ks("row",{useDeprecatedLogic:!0});Ks("column",{useDeprecatedLogic:!0});var LO=Ks("cell",{useDeprecatedLogic:!0});function RO(e,t){if(t<0){let n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(let r=e.index(-1)-1,i=e.before();r>=0;r--){let s=e.node(-1).child(r),a=s.lastChild;if(a)return i-1-a.nodeSize;i-=s.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;let n=e.node(-1);for(let r=e.indexAfter(-1),i=e.after();r<n.childCount;r++){let s=n.child(r);if(s.childCount)return i+1;i+=s.nodeSize}}return null}function yg(e){return function(t,n){if(!vr(t))return!1;let r=RO(Pc(t),e);if(r==null)return!1;if(n){let i=t.doc.resolve(r);n(t.tr.setSelection(xe.between(i,uO(i))).scrollIntoView())}return!0}}function DO(e,t){let n=e.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function ll(e,t){let n=e.selection;if(!(n instanceof ct))return!1;if(t){let r=e.tr,i=pn(e.schema).cell.createAndFill().content;n.forEachCell((s,a)=>{s.content.eq(i)||r.replace(r.mapping.map(a+1),r.mapping.map(a+s.nodeSize-1),new ee(i,0,0))}),r.docChanged&&t(r)}return!0}function IO(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;for(;t.childCount==1&&(n>0&&r>0||t.child(0).type.spec.tableRole=="table");)n--,r--,t=t.child(0).content;let i=t.child(0),s=i.type.spec.tableRole,a=i.type.schema,c=[];if(s=="row")for(let u=0;u<t.childCount;u++){let p=t.child(u).content,h=u?0:Math.max(0,n-1),m=u<t.childCount-1?0:Math.max(0,r-1);(h||m)&&(p=up(pn(a).row,new ee(p,h,m)).content),c.push(p)}else if(s=="cell"||s=="header_cell")c.push(n||r?up(pn(a).row,new ee(t,n,r)).content:t);else return null;return BO(a,c)}function BO(e,t){let n=[];for(let i=0;i<t.length;i++){let s=t[i];for(let a=s.childCount-1;a>=0;a--){let{rowspan:c,colspan:u}=s.child(a).attrs;for(let p=i;p<i+c;p++)n[p]=(n[p]||0)+u}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=t.length&&t.push(K.empty),n[i]<r){let s=pn(e).cell.createAndFill(),a=[];for(let c=n[i];c<r;c++)a.push(s);t[i]=t[i].append(K.from(a))}return{height:t.length,width:r,rows:t}}function up(e,t){let n=e.createAndFill();return new cb(n).replace(0,n.content.size,t).doc}function $O({width:e,height:t,rows:n},r,i){if(e!=r){let s=[],a=[];for(let c=0;c<n.length;c++){let u=n[c],p=[];for(let h=s[c]||0,m=0;h<r;m++){let g=u.child(m%u.childCount);h+g.attrs.colspan>r&&(g=g.type.createChecked(Xi(g.attrs,g.attrs.colspan,h+g.attrs.colspan-r),g.content)),p.push(g),h+=g.attrs.colspan;for(let b=1;b<g.attrs.rowspan;b++)s[c+b]=(s[c+b]||0)+g.attrs.colspan}a.push(K.from(p))}n=a,e=r}if(t!=i){let s=[];for(let a=0,c=0;a<i;a++,c++){let u=[],p=n[c%t];for(let h=0;h<p.childCount;h++){let m=p.child(h);a+m.attrs.rowspan>i&&(m=m.type.create({...m.attrs,rowspan:Math.max(1,i-m.attrs.rowspan)},m.content)),u.push(m)}s.push(K.from(u))}n=s,t=i}return{width:e,height:t,rows:n}}function HO(e,t,n,r,i,s,a){let c=e.doc.type.schema,u=pn(c),p,h;if(i>t.width)for(let m=0,g=0;m<t.height;m++){let b=n.child(m);g+=b.nodeSize;let v=[],E;b.lastChild==null||b.lastChild.type==u.cell?E=p||(p=u.cell.createAndFill()):E=h||(h=u.header_cell.createAndFill());for(let k=t.width;k<i;k++)v.push(E);e.insert(e.mapping.slice(a).map(g-1+r),v)}if(s>t.height){let m=[];for(let v=0,E=(t.height-1)*t.width;v<Math.max(t.width,i);v++){let k=v>=t.width?!1:n.nodeAt(t.map[E+v]).type==u.header_cell;m.push(k?h||(h=u.header_cell.createAndFill()):p||(p=u.cell.createAndFill()))}let g=u.row.create(null,K.from(m)),b=[];for(let v=t.height;v<s;v++)b.push(g);e.insert(e.mapping.slice(a).map(r+n.nodeSize-2),b)}return!!(p||h)}function vg(e,t,n,r,i,s,a,c){if(a==0||a==t.height)return!1;let u=!1;for(let p=i;p<s;p++){let h=a*t.width+p,m=t.map[h];if(t.map[h-t.width]==m){u=!0;let g=n.nodeAt(m),{top:b,left:v}=t.findCell(m);e.setNodeMarkup(e.mapping.slice(c).map(m+r),null,{...g.attrs,rowspan:a-b}),e.insert(e.mapping.slice(c).map(t.positionAt(a,v,n)),g.type.createAndFill({...g.attrs,rowspan:b+g.attrs.rowspan-a})),p+=g.attrs.colspan-1}}return u}function wg(e,t,n,r,i,s,a,c){if(a==0||a==t.width)return!1;let u=!1;for(let p=i;p<s;p++){let h=p*t.width+a,m=t.map[h];if(t.map[h-1]==m){u=!0;let g=n.nodeAt(m),b=t.colCount(m),v=e.mapping.slice(c).map(m+r);e.setNodeMarkup(v,null,Xi(g.attrs,a-b,g.attrs.colspan-(a-b))),e.insert(v+g.nodeSize,g.type.createAndFill(Xi(g.attrs,0,a-b))),p+=g.attrs.rowspan-1}}return u}function _g(e,t,n,r,i){let s=n?e.doc.nodeAt(n-1):e.doc;if(!s)throw new Error("No table found");let a=xt.get(s),{top:c,left:u}=r,p=u+i.width,h=c+i.height,m=e.tr,g=0;function b(){if(s=n?m.doc.nodeAt(n-1):m.doc,!s)throw new Error("No table found");a=xt.get(s),g=m.mapping.maps.length}HO(m,a,s,n,p,h,g)&&b(),vg(m,a,s,n,u,p,c,g)&&b(),vg(m,a,s,n,u,p,h,g)&&b(),wg(m,a,s,n,c,h,u,g)&&b(),wg(m,a,s,n,c,h,p,g)&&b();for(let v=c;v<h;v++){let E=a.positionAt(v,u,s),k=a.positionAt(v,p,s);m.replace(m.mapping.slice(g).map(E+n),m.mapping.slice(g).map(k+n),new ee(i.rows[v-c],0,0))}b(),m.setSelection(new ct(m.doc.resolve(n+a.positionAt(c,u,s)),m.doc.resolve(n+a.positionAt(h-1,p-1,s)))),t(m)}var zO=Pb({ArrowLeft:cl("horiz",-1),ArrowRight:cl("horiz",1),ArrowUp:cl("vert",-1),ArrowDown:cl("vert",1),"Shift-ArrowLeft":ul("horiz",-1),"Shift-ArrowRight":ul("horiz",1),"Shift-ArrowUp":ul("vert",-1),"Shift-ArrowDown":ul("vert",1),Backspace:ll,"Mod-Backspace":ll,Delete:ll,"Mod-Delete":ll});function Bl(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function cl(e,t){return(n,r,i)=>{if(!i)return!1;let s=n.selection;if(s instanceof ct)return Bl(n,r,Ee.near(s.$headCell,t));if(e!="horiz"&&!s.empty)return!1;let a=yy(i,e,t);if(a==null)return!1;if(e=="horiz")return Bl(n,r,Ee.near(n.doc.resolve(s.head+t),t));{let c=n.doc.resolve(a),u=dy(c,e,t),p;return u?p=Ee.near(u,1):t<0?p=Ee.near(n.doc.resolve(c.before(-1)),-1):p=Ee.near(n.doc.resolve(c.after(-1)),1),Bl(n,r,p)}}}function ul(e,t){return(n,r,i)=>{if(!i)return!1;let s=n.selection,a;if(s instanceof ct)a=s;else{let u=yy(i,e,t);if(u==null)return!1;a=new ct(n.doc.resolve(u))}let c=dy(a.$headCell,e,t);return c?Bl(n,r,new ct(a.$anchorCell,c)):!1}}function FO(e,t){let n=e.state.doc,r=Wo(n.resolve(t));return r?(e.dispatch(e.state.tr.setSelection(new ct(r))),!0):!1}function jO(e,t,n){if(!vr(e.state))return!1;let r=IO(n),i=e.state.selection;if(i instanceof ct){r||(r={width:1,height:1,rows:[K.from(up(pn(e.state.schema).cell,n))]});let s=i.$anchorCell.node(-1),a=i.$anchorCell.start(-1),c=xt.get(s).rectBetween(i.$anchorCell.pos-a,i.$headCell.pos-a);return r=$O(r,c.right-c.left,c.bottom-c.top),_g(e.state,e.dispatch,a,c,r),!0}else if(r){let s=Pc(e.state),a=s.start(-1);return _g(e.state,e.dispatch,a,xt.get(s.node(-1)).findCell(s.pos-a),r),!0}else return!1}function PO(e,t){var n;if(t.ctrlKey||t.metaKey)return;let r=kg(e,t.target),i;if(t.shiftKey&&e.state.selection instanceof ct)s(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&(i=Wo(e.state.selection.$anchor))!=null&&((n=kd(e,t))==null?void 0:n.pos)!=i.pos)s(i,t),t.preventDefault();else if(!r)return;function s(u,p){let h=kd(e,p),m=fi.getState(e.state)==null;if(!h||!Gp(u,h))if(m)h=u;else return;let g=new ct(u,h);if(m||!e.state.selection.eq(g)){let b=e.state.tr.setSelection(g);m&&b.setMeta(fi,u.pos),e.dispatch(b)}}function a(){e.root.removeEventListener("mouseup",a),e.root.removeEventListener("dragstart",a),e.root.removeEventListener("mousemove",c),fi.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(fi,-1))}function c(u){let p=u,h=fi.getState(e.state),m;if(h!=null)m=e.state.doc.resolve(h);else if(kg(e,p.target)!=r&&(m=kd(e,t),!m))return a();m&&s(m,p)}e.root.addEventListener("mouseup",a),e.root.addEventListener("dragstart",a),e.root.addEventListener("mousemove",c)}function yy(e,t,n){if(!(e.state.selection instanceof xe))return null;let{$head:r}=e.state.selection;for(let i=r.depth-1;i>=0;i--){let s=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){let a=r.before(i),c=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(c)?a:null}}return null}function kg(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function kd(e,t){let n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?Wo(e.state.doc.resolve(n.pos)):null}var UO=class{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),dp(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,dp(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function dp(e,t,n,r,i,s){var a;let c=0,u=!0,p=t.firstChild,h=e.firstChild;if(h){for(let m=0,g=0;m<h.childCount;m++){let{colspan:b,colwidth:v}=h.child(m).attrs;for(let E=0;E<b;E++,g++){let k=i==g?s:v&&v[E],T=k?k+"px":"";c+=k||r,k||(u=!1),p?(p.style.width!=T&&(p.style.width=T),p=p.nextSibling):t.appendChild(document.createElement("col")).style.width=T}}for(;p;){let m=p.nextSibling;(a=p.parentNode)==null||a.removeChild(p),p=m}u?(n.style.width=c+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=c+"px")}}var sr=new It("tableColumnResizing");function KO({handleWidth:e=5,cellMinWidth:t=25,View:n=UO,lastColumnResizable:r=!0}={}){let i=new Dt({key:sr,state:{init(s,a){var c,u;let p=(u=(c=i.spec)==null?void 0:c.props)==null?void 0:u.nodeViews,h=pn(a.schema).table.name;return n&&p&&(p[h]=(m,g)=>new n(m,t,g)),new qO(-1,!1)},apply(s,a){return a.apply(s)}},props:{attributes:s=>{let a=sr.getState(s);return a&&a.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(s,a)=>{WO(s,a,e,t,r)},mouseleave:s=>{VO(s)},mousedown:(s,a)=>{GO(s,a,t)}},decorations:s=>{let a=sr.getState(s);if(a&&a.activeHandle>-1)return eN(s,a.activeHandle)},nodeViews:{}}});return i}var qO=class $l{constructor(t,n){this.activeHandle=t,this.dragging=n}apply(t){let n=this,r=t.getMeta(sr);if(r&&r.setHandle!=null)return new $l(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new $l(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){let i=t.mapping.map(n.activeHandle,-1);return cp(t.doc.resolve(i))||(i=-1),new $l(i,n.dragging)}return n}};function WO(e,t,n,r,i){let s=sr.getState(e.state);if(s&&!s.dragging){let a=ZO(t.target),c=-1;if(a){let{left:u,right:p}=a.getBoundingClientRect();t.clientX-u<=n?c=Eg(e,t,"left",n):p-t.clientX<=n&&(c=Eg(e,t,"right",n))}if(c!=s.activeHandle){if(!i&&c!==-1){let u=e.state.doc.resolve(c),p=u.node(-1),h=xt.get(p),m=u.start(-1);if(h.colCount(u.pos-m)+u.nodeAfter.attrs.colspan-1==h.width-1)return}vy(e,c)}}}function VO(e){let t=sr.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&vy(e,-1)}function GO(e,t,n){var r;let i=(r=e.dom.ownerDocument.defaultView)!=null?r:window,s=sr.getState(e.state);if(!s||s.activeHandle==-1||s.dragging)return!1;let a=e.state.doc.nodeAt(s.activeHandle),c=JO(e,s.activeHandle,a.attrs);e.dispatch(e.state.tr.setMeta(sr,{setDragging:{startX:t.clientX,startWidth:c}}));function u(h){i.removeEventListener("mouseup",u),i.removeEventListener("mousemove",p);let m=sr.getState(e.state);m!=null&&m.dragging&&(XO(e,m.activeHandle,xg(m.dragging,h,n)),e.dispatch(e.state.tr.setMeta(sr,{setDragging:null})))}function p(h){if(!h.which)return u(h);let m=sr.getState(e.state);if(m&&m.dragging){let g=xg(m.dragging,h,n);QO(e,m.activeHandle,g,n)}}return i.addEventListener("mouseup",u),i.addEventListener("mousemove",p),t.preventDefault(),!0}function JO(e,t,{colspan:n,colwidth:r}){let i=r&&r[r.length-1];if(i)return i;let s=e.domAtPos(t),a=s.node.childNodes[s.offset].offsetWidth,c=n;if(r)for(let u=0;u<n;u++)r[u]&&(a-=r[u],c--);return a/c}function ZO(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function Eg(e,t,n,r){let i=n=="right"?-r:r,s=e.posAtCoords({left:t.clientX+i,top:t.clientY});if(!s)return-1;let{pos:a}=s,c=Wo(e.state.doc.resolve(a));if(!c)return-1;if(n=="right")return c.pos;let u=xt.get(c.node(-1)),p=c.start(-1),h=u.map.indexOf(c.pos-p);return h%u.width==0?-1:p+u.map[h-1]}function xg(e,t,n){let r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function vy(e,t){e.dispatch(e.state.tr.setMeta(sr,{setHandle:t}))}function XO(e,t,n){let r=e.state.doc.resolve(t),i=r.node(-1),s=xt.get(i),a=r.start(-1),c=s.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,u=e.state.tr;for(let p=0;p<s.height;p++){let h=p*s.width+c;if(p&&s.map[h]==s.map[h-s.width])continue;let m=s.map[h],g=i.nodeAt(m).attrs,b=g.colspan==1?0:c-s.colCount(m);if(g.colwidth&&g.colwidth[b]==n)continue;let v=g.colwidth?g.colwidth.slice():YO(g.colspan);v[b]=n,u.setNodeMarkup(a+m,null,{...g,colwidth:v})}u.docChanged&&e.dispatch(u)}function QO(e,t,n,r){let i=e.state.doc.resolve(t),s=i.node(-1),a=i.start(-1),c=xt.get(s).colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1,u=e.domAtPos(i.start(-1)).node;for(;u&&u.nodeName!="TABLE";)u=u.parentNode;u&&dp(s,u.firstChild,u,r,c,n)}function YO(e){return Array(e).fill(0)}function eN(e,t){let n=[],r=e.doc.resolve(t),i=r.node(-1);if(!i)return dn.empty;let s=xt.get(i),a=r.start(-1),c=s.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1;for(let u=0;u<s.height;u++){let p=c+u*s.width;if((c==s.width-1||s.map[p]!=s.map[p+1])&&(u==0||s.map[p]!=s.map[p-s.width])){let h=s.map[p],m=a+h+i.nodeAt(h).nodeSize-1,g=document.createElement("div");g.className="column-resize-handle",n.push(Nr.widget(m,g))}}return dn.create(e.doc,n)}function tN({allowTableNodeSelection:e=!1}={}){return new Dt({key:fi,state:{init(){return null},apply(t,n){let r=t.getMeta(fi);if(r!=null)return r==-1?null:r;if(n==null||!t.docChanged)return n;let{deleted:i,pos:s}=t.mapping.mapResult(n);return i?null:s}},props:{decorations:hO,handleDOMEvents:{mousedown:PO},createSelectionBetween(t){return fi.getState(t.state)!=null?t.state.selection:null},handleTripleClick:FO,handleKeyDown:zO,handlePaste:jO},appendTransaction(t,n,r){return gO(r,my(r,n),e)}})}function Sg(e,t,n,r,i,s){let a=0,c=!0,u=t.firstChild,p=e.firstChild;for(let h=0,m=0;h<p.childCount;h+=1){let{colspan:g,colwidth:b}=p.child(h).attrs;for(let v=0;v<g;v+=1,m+=1){let E=i===m?s:b&&b[v],k=E?`${E}px`:"";a+=E||r,E||(c=!1),u?(u.style.width!==k&&(u.style.width=k),u=u.nextSibling):t.appendChild(document.createElement("col")).style.width=k}}for(;u;){let h=u.nextSibling;u.parentNode.removeChild(u),u=h}c?(n.style.width=`${a}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${a}px`)}var nN=class{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Sg(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,Sg(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}};function rN(e,t,n,r){let i=0,s=!0,a=[],c=e.firstChild;if(!c)return{};for(let h=0,m=0;h<c.childCount;h+=1){let{colspan:g,colwidth:b}=c.child(h).attrs;for(let v=0;v<g;v+=1,m+=1){let E=n===m?r:b&&b[v],k=E?`${E}px`:"";i+=E||t,E||(s=!1),a.push(["col",k?{style:`width: ${k}`}:{}])}}let u=s?`${i}px`:"",p=s?"":`${i}px`;return{colgroup:["colgroup",{},...a],tableWidth:u,tableMinWidth:p}}function Ag(e,t){return e.createAndFill()}function iN(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;let t={};return Object.keys(e.nodes).forEach(n=>{let r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)}),e.cached.tableNodeTypes=t,t}function oN(e,t,n,r,i){let s=iN(e),a=[],c=[];for(let p=0;p<n;p+=1){let h=Ag(s.cell);if(h&&c.push(h),r){let m=Ag(s.header_cell);m&&a.push(m)}}let u=[];for(let p=0;p<t;p+=1)u.push(s.row.createChecked(null,r&&p===0?a:c));return s.table.createChecked(null,u)}function sN(e){return e instanceof ct}var dl=({editor:e})=>{let{selection:t}=e.state;if(!sN(t))return!1;let n=0,r=Yb(t.ranges[0].$from,i=>i.type.name==="table");return r==null||r.node.descendants(i=>{if(i.type.name==="table")return!1;["tableCell","tableHeader"].includes(i.type.name)&&(n+=1)}),n===t.ranges.length?(e.commands.deleteTable(),!0):!1},aN=Qe.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:nN,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:e,HTMLAttributes:t}){let{colgroup:n,tableWidth:r,tableMinWidth:i}=rN(e,this.options.cellMinWidth);return["table",Me(this.options.HTMLAttributes,t,{style:r?`width: ${r}`:`min-width: ${i}`}),n,["tbody",0]]},addCommands(){return{insertTable:({rows:e=3,cols:t=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:s})=>{let a=oN(s.schema,e,t,n);if(i){let c=r.selection.from+1;r.replaceSelectionWith(a).scrollIntoView().setSelection(xe.near(r.doc.resolve(c)))}return!0},addColumnBefore:()=>({state:e,dispatch:t})=>vO(e,t),addColumnAfter:()=>({state:e,dispatch:t})=>wO(e,t),deleteColumn:()=>({state:e,dispatch:t})=>kO(e,t),addRowBefore:()=>({state:e,dispatch:t})=>xO(e,t),addRowAfter:()=>({state:e,dispatch:t})=>SO(e,t),deleteRow:()=>({state:e,dispatch:t})=>CO(e,t),deleteTable:()=>({state:e,dispatch:t})=>DO(e,t),mergeCells:()=>({state:e,dispatch:t})=>mg(e,t),splitCell:()=>({state:e,dispatch:t})=>gg(e,t),toggleHeaderColumn:()=>({state:e,dispatch:t})=>Ks("column")(e,t),toggleHeaderRow:()=>({state:e,dispatch:t})=>Ks("row")(e,t),toggleHeaderCell:()=>({state:e,dispatch:t})=>LO(e,t),mergeOrSplit:()=>({state:e,dispatch:t})=>mg(e,t)?!0:gg(e,t),setCellAttribute:(e,t)=>({state:n,dispatch:r})=>OO(e,t)(n,r),goToNextCell:()=>({state:e,dispatch:t})=>yg(1)(e,t),goToPreviousCell:()=>({state:e,dispatch:t})=>yg(-1)(e,t),fixTables:()=>({state:e,dispatch:t})=>(t&&my(e),!0),setCellSelection:e=>({tr:t,dispatch:n})=>{if(n){let r=ct.create(t.doc,e.anchorCell,e.headCell);t.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:dl,"Mod-Backspace":dl,Delete:dl,"Mod-Delete":dl}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[KO({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],tN({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(e){let t={name:e.name,options:e.options,storage:e.storage};return{tableRole:St(jt(e,"tableRole",t))}}}),lN=Qe.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{let t=e.getAttribute("colwidth");return t?[parseInt(t,10)]:null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:e}){return["td",Me(this.options.HTMLAttributes,e),0]}}),cN=Qe.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{let t=e.getAttribute("colwidth");return t?[parseInt(t,10)]:null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:e}){return["th",Me(this.options.HTMLAttributes,e),0]}}),uN=Qe.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:e}){return["tr",Me(this.options.HTMLAttributes,e),0]}});Qe.create({name:"text",group:"inline"});var dN=qn.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",Me(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),pN=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,hN=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,fN=qn.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",Me(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Zi({find:pN,type:this.type})]},addPasteRules(){return[vi({find:hN,type:this.type})]}}),Tn="top",lr="bottom",cr="right",On="left",Jp="auto",ra=[Tn,lr,cr,On],zo="start",qs="end",mN="clippingParents",wy="viewport",ys="popper",gN="reference",Cg=ra.reduce(function(e,t){return e.concat([t+"-"+zo,t+"-"+qs])},[]),_y=[].concat(ra,[Jp]).reduce(function(e,t){return e.concat([t,t+"-"+zo,t+"-"+qs])},[]),bN="beforeRead",yN="read",vN="afterRead",wN="beforeMain",_N="main",kN="afterMain",EN="beforeWrite",xN="write",SN="afterWrite",AN=[bN,yN,vN,wN,_N,kN,EN,xN,SN];function Or(e){return e?(e.nodeName||"").toLowerCase():null}function Kn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Qi(e){var t=Kn(e).Element;return e instanceof t||e instanceof Element}function ar(e){var t=Kn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Zp(e){if(typeof ShadowRoot>"u")return!1;var t=Kn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function CN(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},s=t.elements[n];!ar(s)||!Or(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(a){var c=i[a];c===!1?s.removeAttribute(a):s.setAttribute(a,c===!0?"":c)}))})}function MN(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],s=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),c=a.reduce(function(u,p){return u[p]="",u},{});!ar(i)||!Or(i)||(Object.assign(i.style,c),Object.keys(s).forEach(function(u){i.removeAttribute(u)}))})}}var ky={name:"applyStyles",enabled:!0,phase:"write",fn:CN,effect:MN,requires:["computeStyles"]};function Mr(e){return e.split("-")[0]}var Vi=Math.max,nc=Math.min,Fo=Math.round;function pp(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Ey(){return!/^((?!chrome|android).)*safari/i.test(pp())}function jo(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&ar(e)&&(i=e.offsetWidth>0&&Fo(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Fo(r.height)/e.offsetHeight||1);var a=Qi(e)?Kn(e):window,c=a.visualViewport,u=!Ey()&&n,p=(r.left+(u&&c?c.offsetLeft:0))/i,h=(r.top+(u&&c?c.offsetTop:0))/s,m=r.width/i,g=r.height/s;return{width:m,height:g,top:h,right:p+m,bottom:h+g,left:p,x:p,y:h}}function Xp(e){var t=jo(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function xy(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Zp(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Jr(e){return Kn(e).getComputedStyle(e)}function TN(e){return["table","td","th"].indexOf(Or(e))>=0}function xi(e){return((Qi(e)?e.ownerDocument:e.document)||window.document).documentElement}function Uc(e){return Or(e)==="html"?e:e.assignedSlot||e.parentNode||(Zp(e)?e.host:null)||xi(e)}function Mg(e){return!ar(e)||Jr(e).position==="fixed"?null:e.offsetParent}function ON(e){var t=/firefox/i.test(pp()),n=/Trident/i.test(pp());if(n&&ar(e)){var r=Jr(e);if(r.position==="fixed")return null}var i=Uc(e);for(Zp(i)&&(i=i.host);ar(i)&&["html","body"].indexOf(Or(i))<0;){var s=Jr(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function ia(e){for(var t=Kn(e),n=Mg(e);n&&TN(n)&&Jr(n).position==="static";)n=Mg(n);return n&&(Or(n)==="html"||Or(n)==="body"&&Jr(n).position==="static")?t:n||ON(e)||t}function Qp(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ls(e,t,n){return Vi(e,nc(t,n))}function NN(e,t,n){var r=Ls(e,t,n);return r>n?n:r}function Sy(){return{top:0,right:0,bottom:0,left:0}}function Ay(e){return Object.assign({},Sy(),e)}function Cy(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var LN=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Ay(typeof e!="number"?e:Cy(e,ra))};function RN(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,c=Mr(n.placement),u=Qp(c),p=[On,cr].indexOf(c)>=0,h=p?"height":"width";if(!(!s||!a)){var m=LN(i.padding,n),g=Xp(s),b=u==="y"?Tn:On,v=u==="y"?lr:cr,E=n.rects.reference[h]+n.rects.reference[u]-a[u]-n.rects.popper[h],k=a[u]-n.rects.reference[u],T=ia(s),B=T?u==="y"?T.clientHeight||0:T.clientWidth||0:0,L=E/2-k/2,A=m[b],U=B-g[h]-m[v],$=B/2-g[h]/2+L,q=Ls(A,$,U),ne=u;n.modifiersData[r]=(t={},t[ne]=q,t.centerOffset=q-$,t)}}function DN(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||xy(t.elements.popper,i)&&(t.elements.arrow=i))}var IN={name:"arrow",enabled:!0,phase:"main",fn:RN,effect:DN,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Po(e){return e.split("-")[1]}var BN={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $N(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Fo(n*i)/i||0,y:Fo(r*i)/i||0}}function Tg(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,a=e.offsets,c=e.position,u=e.gpuAcceleration,p=e.adaptive,h=e.roundOffsets,m=e.isFixed,g=a.x,b=g===void 0?0:g,v=a.y,E=v===void 0?0:v,k=typeof h=="function"?h({x:b,y:E}):{x:b,y:E};b=k.x,E=k.y;var T=a.hasOwnProperty("x"),B=a.hasOwnProperty("y"),L=On,A=Tn,U=window;if(p){var $=ia(n),q="clientHeight",ne="clientWidth";if($===Kn(n)&&($=xi(n),Jr($).position!=="static"&&c==="absolute"&&(q="scrollHeight",ne="scrollWidth")),$=$,i===Tn||(i===On||i===cr)&&s===qs){A=lr;var J=m&&$===U&&U.visualViewport?U.visualViewport.height:$[q];E-=J-r.height,E*=u?1:-1}if(i===On||(i===Tn||i===lr)&&s===qs){L=cr;var pe=m&&$===U&&U.visualViewport?U.visualViewport.width:$[ne];b-=pe-r.width,b*=u?1:-1}}var ke=Object.assign({position:c},p&&BN),be=h===!0?$N({x:b,y:E},Kn(n)):{x:b,y:E};if(b=be.x,E=be.y,u){var ue;return Object.assign({},ke,(ue={},ue[A]=B?"0":"",ue[L]=T?"0":"",ue.transform=(U.devicePixelRatio||1)<=1?"translate("+b+"px, "+E+"px)":"translate3d("+b+"px, "+E+"px, 0)",ue))}return Object.assign({},ke,(t={},t[A]=B?E+"px":"",t[L]=T?b+"px":"",t.transform="",t))}function HN(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,a=s===void 0?!0:s,c=n.roundOffsets,u=c===void 0?!0:c,p={placement:Mr(t.placement),variation:Po(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Tg(Object.assign({},p,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:u})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Tg(Object.assign({},p,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var zN={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:HN,data:{}},pl={passive:!0};function FN(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=i===void 0?!0:i,a=r.resize,c=a===void 0?!0:a,u=Kn(t.elements.popper),p=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&p.forEach(function(h){h.addEventListener("scroll",n.update,pl)}),c&&u.addEventListener("resize",n.update,pl),function(){s&&p.forEach(function(h){h.removeEventListener("scroll",n.update,pl)}),c&&u.removeEventListener("resize",n.update,pl)}}var jN={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:FN,data:{}},PN={left:"right",right:"left",bottom:"top",top:"bottom"};function Hl(e){return e.replace(/left|right|bottom|top/g,function(t){return PN[t]})}var UN={start:"end",end:"start"};function Og(e){return e.replace(/start|end/g,function(t){return UN[t]})}function Yp(e){var t=Kn(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function eh(e){return jo(xi(e)).left+Yp(e).scrollLeft}function KN(e,t){var n=Kn(e),r=xi(e),i=n.visualViewport,s=r.clientWidth,a=r.clientHeight,c=0,u=0;if(i){s=i.width,a=i.height;var p=Ey();(p||!p&&t==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}return{width:s,height:a,x:c+eh(e),y:u}}function qN(e){var t,n=xi(e),r=Yp(e),i=(t=e.ownerDocument)==null?void 0:t.body,s=Vi(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Vi(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+eh(e),u=-r.scrollTop;return Jr(i||n).direction==="rtl"&&(c+=Vi(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:c,y:u}}function th(e){var t=Jr(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function My(e){return["html","body","#document"].indexOf(Or(e))>=0?e.ownerDocument.body:ar(e)&&th(e)?e:My(Uc(e))}function Rs(e,t){var n;t===void 0&&(t=[]);var r=My(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=Kn(r),a=i?[s].concat(s.visualViewport||[],th(r)?r:[]):r,c=t.concat(a);return i?c:c.concat(Rs(Uc(a)))}function hp(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function WN(e,t){var n=jo(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Ng(e,t,n){return t===wy?hp(KN(e,n)):Qi(t)?WN(t,n):hp(qN(xi(e)))}function VN(e){var t=Rs(Uc(e)),n=["absolute","fixed"].indexOf(Jr(e).position)>=0,r=n&&ar(e)?ia(e):e;return Qi(r)?t.filter(function(i){return Qi(i)&&xy(i,r)&&Or(i)!=="body"}):[]}function GN(e,t,n,r){var i=t==="clippingParents"?VN(e):[].concat(t),s=[].concat(i,[n]),a=s[0],c=s.reduce(function(u,p){var h=Ng(e,p,r);return u.top=Vi(h.top,u.top),u.right=nc(h.right,u.right),u.bottom=nc(h.bottom,u.bottom),u.left=Vi(h.left,u.left),u},Ng(e,a,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function Ty(e){var t=e.reference,n=e.element,r=e.placement,i=r?Mr(r):null,s=r?Po(r):null,a=t.x+t.width/2-n.width/2,c=t.y+t.height/2-n.height/2,u;switch(i){case Tn:u={x:a,y:t.y-n.height};break;case lr:u={x:a,y:t.y+t.height};break;case cr:u={x:t.x+t.width,y:c};break;case On:u={x:t.x-n.width,y:c};break;default:u={x:t.x,y:t.y}}var p=i?Qp(i):null;if(p!=null){var h=p==="y"?"height":"width";switch(s){case zo:u[p]=u[p]-(t[h]/2-n[h]/2);break;case qs:u[p]=u[p]+(t[h]/2-n[h]/2);break}}return u}function Ws(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,s=n.strategy,a=s===void 0?e.strategy:s,c=n.boundary,u=c===void 0?mN:c,p=n.rootBoundary,h=p===void 0?wy:p,m=n.elementContext,g=m===void 0?ys:m,b=n.altBoundary,v=b===void 0?!1:b,E=n.padding,k=E===void 0?0:E,T=Ay(typeof k!="number"?k:Cy(k,ra)),B=g===ys?gN:ys,L=e.rects.popper,A=e.elements[v?B:g],U=GN(Qi(A)?A:A.contextElement||xi(e.elements.popper),u,h,a),$=jo(e.elements.reference),q=Ty({reference:$,element:L,strategy:"absolute",placement:i}),ne=hp(Object.assign({},L,q)),J=g===ys?ne:$,pe={top:U.top-J.top+T.top,bottom:J.bottom-U.bottom+T.bottom,left:U.left-J.left+T.left,right:J.right-U.right+T.right},ke=e.modifiersData.offset;if(g===ys&&ke){var be=ke[i];Object.keys(pe).forEach(function(ue){var ze=[cr,lr].indexOf(ue)>=0?1:-1,De=[Tn,lr].indexOf(ue)>=0?"y":"x";pe[ue]+=be[De]*ze})}return pe}function JN(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,a=n.padding,c=n.flipVariations,u=n.allowedAutoPlacements,p=u===void 0?_y:u,h=Po(r),m=h?c?Cg:Cg.filter(function(v){return Po(v)===h}):ra,g=m.filter(function(v){return p.indexOf(v)>=0});g.length===0&&(g=m);var b=g.reduce(function(v,E){return v[E]=Ws(e,{placement:E,boundary:i,rootBoundary:s,padding:a})[Mr(E)],v},{});return Object.keys(b).sort(function(v,E){return b[v]-b[E]})}function ZN(e){if(Mr(e)===Jp)return[];var t=Hl(e);return[Og(e),t,Og(t)]}function XN(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,c=a===void 0?!0:a,u=n.fallbackPlacements,p=n.padding,h=n.boundary,m=n.rootBoundary,g=n.altBoundary,b=n.flipVariations,v=b===void 0?!0:b,E=n.allowedAutoPlacements,k=t.options.placement,T=Mr(k),B=T===k,L=u||(B||!v?[Hl(k)]:ZN(k)),A=[k].concat(L).reduce(function(wt,Ke){return wt.concat(Mr(Ke)===Jp?JN(t,{placement:Ke,boundary:h,rootBoundary:m,padding:p,flipVariations:v,allowedAutoPlacements:E}):Ke)},[]),U=t.rects.reference,$=t.rects.popper,q=new Map,ne=!0,J=A[0],pe=0;pe<A.length;pe++){var ke=A[pe],be=Mr(ke),ue=Po(ke)===zo,ze=[Tn,lr].indexOf(be)>=0,De=ze?"width":"height",Oe=Ws(t,{placement:ke,boundary:h,rootBoundary:m,altBoundary:g,padding:p}),N=ze?ue?cr:On:ue?lr:Tn;U[De]>$[De]&&(N=Hl(N));var H=Hl(N),re=[];if(s&&re.push(Oe[be]<=0),c&&re.push(Oe[N]<=0,Oe[H]<=0),re.every(function(wt){return wt})){J=ke,ne=!1;break}q.set(ke,re)}if(ne)for(var se=v?3:1,he=function(wt){var Ke=A.find(function(it){var sn=q.get(it);if(sn)return sn.slice(0,wt).every(function(At){return At})});if(Ke)return J=Ke,"break"},Pe=se;Pe>0;Pe--){var vt=he(Pe);if(vt==="break")break}t.placement!==J&&(t.modifiersData[r]._skip=!0,t.placement=J,t.reset=!0)}}var QN={name:"flip",enabled:!0,phase:"main",fn:XN,requiresIfExists:["offset"],data:{_skip:!1}};function Lg(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Rg(e){return[Tn,cr,lr,On].some(function(t){return e[t]>=0})}function YN(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,a=Ws(t,{elementContext:"reference"}),c=Ws(t,{altBoundary:!0}),u=Lg(a,r),p=Lg(c,i,s),h=Rg(u),m=Rg(p);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:p,isReferenceHidden:h,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":m})}var eL={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:YN};function tL(e,t,n){var r=Mr(e),i=[On,Tn].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=s[0],c=s[1];return a=a||0,c=(c||0)*i,[On,cr].indexOf(r)>=0?{x:c,y:a}:{x:a,y:c}}function nL(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=i===void 0?[0,0]:i,a=_y.reduce(function(h,m){return h[m]=tL(m,t.rects,s),h},{}),c=a[t.placement],u=c.x,p=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=p),t.modifiersData[r]=a}var rL={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:nL};function iL(e){var t=e.state,n=e.name;t.modifiersData[n]=Ty({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var oL={name:"popperOffsets",enabled:!0,phase:"read",fn:iL,data:{}};function sL(e){return e==="x"?"y":"x"}function aL(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,c=a===void 0?!1:a,u=n.boundary,p=n.rootBoundary,h=n.altBoundary,m=n.padding,g=n.tether,b=g===void 0?!0:g,v=n.tetherOffset,E=v===void 0?0:v,k=Ws(t,{boundary:u,rootBoundary:p,padding:m,altBoundary:h}),T=Mr(t.placement),B=Po(t.placement),L=!B,A=Qp(T),U=sL(A),$=t.modifiersData.popperOffsets,q=t.rects.reference,ne=t.rects.popper,J=typeof E=="function"?E(Object.assign({},t.rects,{placement:t.placement})):E,pe=typeof J=="number"?{mainAxis:J,altAxis:J}:Object.assign({mainAxis:0,altAxis:0},J),ke=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,be={x:0,y:0};if($){if(s){var ue,ze=A==="y"?Tn:On,De=A==="y"?lr:cr,Oe=A==="y"?"height":"width",N=$[A],H=N+k[ze],re=N-k[De],se=b?-ne[Oe]/2:0,he=B===zo?q[Oe]:ne[Oe],Pe=B===zo?-ne[Oe]:-q[Oe],vt=t.elements.arrow,wt=b&&vt?Xp(vt):{width:0,height:0},Ke=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Sy(),it=Ke[ze],sn=Ke[De],At=Ls(0,q[Oe],wt[Oe]),Fe=L?q[Oe]/2-se-At-it-pe.mainAxis:he-At-it-pe.mainAxis,Zt=L?-q[Oe]/2+se+At+sn+pe.mainAxis:Pe+At+sn+pe.mainAxis,Ut=t.elements.arrow&&ia(t.elements.arrow),Kt=Ut?A==="y"?Ut.clientTop||0:Ut.clientLeft||0:0,Wn=(ue=ke==null?void 0:ke[A])!=null?ue:0,mt=N+Fe-Wn-Kt,fn=N+Zt-Wn,Tt=Ls(b?nc(H,mt):H,N,b?Vi(re,fn):re);$[A]=Tt,be[A]=Tt-N}if(c){var Bt,Rn=A==="x"?Tn:On,me=A==="x"?lr:cr,Ot=$[U],Ie=U==="y"?"height":"width",Be=Ot+k[Rn],$t=Ot-k[me],Xt=[Tn,On].indexOf(T)!==-1,Qt=(Bt=ke==null?void 0:ke[U])!=null?Bt:0,qt=Xt?Be:Ot-q[Ie]-ne[Ie]-Qt+pe.altAxis,W=Xt?Ot+q[Ie]+ne[Ie]-Qt-pe.altAxis:$t,Z=b&&Xt?NN(qt,Ot,W):Ls(b?qt:Be,Ot,b?W:$t);$[U]=Z,be[U]=Z-Ot}t.modifiersData[r]=be}}var lL={name:"preventOverflow",enabled:!0,phase:"main",fn:aL,requiresIfExists:["offset"]};function cL(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function uL(e){return e===Kn(e)||!ar(e)?Yp(e):cL(e)}function dL(e){var t=e.getBoundingClientRect(),n=Fo(t.width)/e.offsetWidth||1,r=Fo(t.height)/e.offsetHeight||1;return n!==1||r!==1}function pL(e,t,n){n===void 0&&(n=!1);var r=ar(t),i=ar(t)&&dL(t),s=xi(t),a=jo(e,i,n),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((Or(t)!=="body"||th(s))&&(c=uL(t)),ar(t)?(u=jo(t,!0),u.x+=t.clientLeft,u.y+=t.clientTop):s&&(u.x=eh(s))),{x:a.left+c.scrollLeft-u.x,y:a.top+c.scrollTop-u.y,width:a.width,height:a.height}}function hL(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function i(s){n.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(c){if(!n.has(c)){var u=t.get(c);u&&i(u)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||i(s)}),r}function fL(e){var t=hL(e);return AN.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function mL(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function gL(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var Dg={placement:"bottom",modifiers:[],strategy:"absolute"};function Ig(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function bL(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,s=i===void 0?Dg:i;return function(a,c,u){u===void 0&&(u=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},Dg,s),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},h=[],m=!1,g={state:p,setOptions:function(E){var k=typeof E=="function"?E(p.options):E;v(),p.options=Object.assign({},s,p.options,k),p.scrollParents={reference:Qi(a)?Rs(a):a.contextElement?Rs(a.contextElement):[],popper:Rs(c)};var T=fL(gL([].concat(r,p.options.modifiers)));return p.orderedModifiers=T.filter(function(B){return B.enabled}),b(),g.update()},forceUpdate:function(){if(!m){var E=p.elements,k=E.reference,T=E.popper;if(Ig(k,T)){p.rects={reference:pL(k,ia(T),p.options.strategy==="fixed"),popper:Xp(T)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(ne){return p.modifiersData[ne.name]=Object.assign({},ne.data)});for(var B=0;B<p.orderedModifiers.length;B++){if(p.reset===!0){p.reset=!1,B=-1;continue}var L=p.orderedModifiers[B],A=L.fn,U=L.options,$=U===void 0?{}:U,q=L.name;typeof A=="function"&&(p=A({state:p,options:$,name:q,instance:g})||p)}}}},update:mL(function(){return new Promise(function(E){g.forceUpdate(),E(p)})}),destroy:function(){v(),m=!0}};if(!Ig(a,c))return g;g.setOptions(u).then(function(E){!m&&u.onFirstUpdate&&u.onFirstUpdate(E)});function b(){p.orderedModifiers.forEach(function(E){var k=E.name,T=E.options,B=T===void 0?{}:T,L=E.effect;if(typeof L=="function"){var A=L({state:p,name:k,instance:g,options:B}),U=function(){};h.push(A||U)}})}function v(){h.forEach(function(E){return E()}),h=[]}return g}}var yL=[jN,oL,zN,ky,rL,QN,lL,IN,eL],vL=bL({defaultModifiers:yL}),wL="tippy-box",Oy="tippy-content",_L="tippy-backdrop",Ny="tippy-arrow",Ly="tippy-svg-arrow",zi={passive:!0,capture:!0},Ry=function(){return document.body};function Ed(e,t,n){if(Array.isArray(e)){var r=e[t];return r??(Array.isArray(n)?n[t]:n)}return e}function nh(e,t){var n={}.toString.call(e);return n.indexOf("[object")===0&&n.indexOf(t+"]")>-1}function Dy(e,t){return typeof e=="function"?e.apply(void 0,t):e}function Bg(e,t){if(t===0)return e;var n;return function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)}}function kL(e){return e.split(/\s+/).filter(Boolean)}function To(e){return[].concat(e)}function $g(e,t){e.indexOf(t)===-1&&e.push(t)}function EL(e){return e.filter(function(t,n){return e.indexOf(t)===n})}function xL(e){return e.split("-")[0]}function rc(e){return[].slice.call(e)}function Hg(e){return Object.keys(e).reduce(function(t,n){return e[n]!==void 0&&(t[n]=e[n]),t},{})}function Ds(){return document.createElement("div")}function Kc(e){return["Element","Fragment"].some(function(t){return nh(e,t)})}function SL(e){return nh(e,"NodeList")}function AL(e){return nh(e,"MouseEvent")}function CL(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function ML(e){return Kc(e)?[e]:SL(e)?rc(e):Array.isArray(e)?e:rc(document.querySelectorAll(e))}function xd(e,t){e.forEach(function(n){n&&(n.style.transitionDuration=t+"ms")})}function zg(e,t){e.forEach(function(n){n&&n.setAttribute("data-state",t)})}function TL(e){var t,n=To(e),r=n[0];return r!=null&&(t=r.ownerDocument)!=null&&t.body?r.ownerDocument:document}function OL(e,t){var n=t.clientX,r=t.clientY;return e.every(function(i){var s=i.popperRect,a=i.popperState,c=i.props,u=c.interactiveBorder,p=xL(a.placement),h=a.modifiersData.offset;if(!h)return!0;var m=p==="bottom"?h.top.y:0,g=p==="top"?h.bottom.y:0,b=p==="right"?h.left.x:0,v=p==="left"?h.right.x:0,E=s.top-r+m>u,k=r-s.bottom-g>u,T=s.left-n+b>u,B=n-s.right-v>u;return E||k||T||B})}function Sd(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){e[r](i,n)})}function Fg(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Cr={isTouch:!1},jg=0;function NL(){Cr.isTouch||(Cr.isTouch=!0,window.performance&&document.addEventListener("mousemove",Iy))}function Iy(){var e=performance.now();e-jg<20&&(Cr.isTouch=!1,document.removeEventListener("mousemove",Iy)),jg=e}function LL(){var e=document.activeElement;if(CL(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function RL(){document.addEventListener("touchstart",NL,zi),window.addEventListener("blur",LL)}var DL=typeof window<"u"&&typeof document<"u",IL=DL?!!window.msCrypto:!1,BL={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},$L={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},mr=Object.assign({appendTo:Ry,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},BL,$L),HL=Object.keys(mr),zL=function(e){var t=Object.keys(e);t.forEach(function(n){mr[n]=e[n]})};function By(e){var t=e.plugins||[],n=t.reduce(function(r,i){var s=i.name,a=i.defaultValue;if(s){var c;r[s]=e[s]!==void 0?e[s]:(c=mr[s])!=null?c:a}return r},{});return Object.assign({},e,n)}function FL(e,t){var n=t?Object.keys(By(Object.assign({},mr,{plugins:t}))):HL,r=n.reduce(function(i,s){var a=(e.getAttribute("data-tippy-"+s)||"").trim();if(!a)return i;if(s==="content")i[s]=a;else try{i[s]=JSON.parse(a)}catch{i[s]=a}return i},{});return r}function Pg(e,t){var n=Object.assign({},t,{content:Dy(t.content,[e])},t.ignoreAttributes?{}:FL(e,t.plugins));return n.aria=Object.assign({},mr.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?t.interactive:n.aria.expanded,content:n.aria.content==="auto"?t.interactive?null:"describedby":n.aria.content},n}var jL=function(){return"innerHTML"};function fp(e,t){e[jL()]=t}function Ug(e){var t=Ds();return e===!0?t.className=Ny:(t.className=Ly,Kc(e)?t.appendChild(e):fp(t,e)),t}function Kg(e,t){Kc(t.content)?(fp(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?fp(e,t.content):e.textContent=t.content)}function mp(e){var t=e.firstElementChild,n=rc(t.children);return{box:t,content:n.find(function(r){return r.classList.contains(Oy)}),arrow:n.find(function(r){return r.classList.contains(Ny)||r.classList.contains(Ly)}),backdrop:n.find(function(r){return r.classList.contains(_L)})}}function $y(e){var t=Ds(),n=Ds();n.className=wL,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Ds();r.className=Oy,r.setAttribute("data-state","hidden"),Kg(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props);function i(s,a){var c=mp(t),u=c.box,p=c.content,h=c.arrow;a.theme?u.setAttribute("data-theme",a.theme):u.removeAttribute("data-theme"),typeof a.animation=="string"?u.setAttribute("data-animation",a.animation):u.removeAttribute("data-animation"),a.inertia?u.setAttribute("data-inertia",""):u.removeAttribute("data-inertia"),u.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?u.setAttribute("role",a.role):u.removeAttribute("role"),(s.content!==a.content||s.allowHTML!==a.allowHTML)&&Kg(p,e.props),a.arrow?h?s.arrow!==a.arrow&&(u.removeChild(h),u.appendChild(Ug(a.arrow))):u.appendChild(Ug(a.arrow)):h&&u.removeChild(h)}return{popper:t,onUpdate:i}}$y.$$tippy=!0;var PL=1,hl=[],Ad=[];function UL(e,t){var n=Pg(e,Object.assign({},mr,By(Hg(t)))),r,i,s,a=!1,c=!1,u=!1,p=!1,h,m,g,b=[],v=Bg(mt,n.interactiveDebounce),E,k=PL++,T=null,B=EL(n.plugins),L={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},A={id:k,reference:e,popper:Ds(),popperInstance:T,props:n,state:L,plugins:B,clearDelayTimeouts:qt,setProps:W,setContent:Z,show:ye,hide:qe,hideWithInteractivity:pt,enable:Xt,disable:Qt,unmount:Yt,destroy:Rr};if(!n.render)return A;var U=n.render(A),$=U.popper,q=U.onUpdate;$.setAttribute("data-tippy-root",""),$.id="tippy-"+A.id,A.popper=$,e._tippy=A,$._tippy=A;var ne=B.map(function(D){return D.fn(A)}),J=e.hasAttribute("aria-expanded");return Ut(),se(),N(),H("onCreate",[A]),n.showOnCreate&&Be(),$.addEventListener("mouseenter",function(){A.props.interactive&&A.state.isVisible&&A.clearDelayTimeouts()}),$.addEventListener("mouseleave",function(){A.props.interactive&&A.props.trigger.indexOf("mouseenter")>=0&&ze().addEventListener("mousemove",v)}),A;function pe(){var D=A.props.touch;return Array.isArray(D)?D:[D,0]}function ke(){return pe()[0]==="hold"}function be(){var D;return!!((D=A.props.render)!=null&&D.$$tippy)}function ue(){return E||e}function ze(){var D=ue().parentNode;return D?TL(D):document}function De(){return mp($)}function Oe(D){return A.state.isMounted&&!A.state.isVisible||Cr.isTouch||h&&h.type==="focus"?0:Ed(A.props.delay,D?0:1,mr.delay)}function N(D){D===void 0&&(D=!1),$.style.pointerEvents=A.props.interactive&&!D?"":"none",$.style.zIndex=""+A.props.zIndex}function H(D,ie,fe){if(fe===void 0&&(fe=!0),ne.forEach(function(We){We[D]&&We[D].apply(We,ie)}),fe){var Ze;(Ze=A.props)[D].apply(Ze,ie)}}function re(){var D=A.props.aria;if(D.content){var ie="aria-"+D.content,fe=$.id,Ze=To(A.props.triggerTarget||e);Ze.forEach(function(We){var Ht=We.getAttribute(ie);if(A.state.isVisible)We.setAttribute(ie,Ht?Ht+" "+fe:fe);else{var Wt=Ht&&Ht.replace(fe,"").trim();Wt?We.setAttribute(ie,Wt):We.removeAttribute(ie)}})}}function se(){if(!(J||!A.props.aria.expanded)){var D=To(A.props.triggerTarget||e);D.forEach(function(ie){A.props.interactive?ie.setAttribute("aria-expanded",A.state.isVisible&&ie===ue()?"true":"false"):ie.removeAttribute("aria-expanded")})}}function he(){ze().removeEventListener("mousemove",v),hl=hl.filter(function(D){return D!==v})}function Pe(D){if(!(Cr.isTouch&&(u||D.type==="mousedown"))){var ie=D.composedPath&&D.composedPath()[0]||D.target;if(!(A.props.interactive&&Fg($,ie))){if(To(A.props.triggerTarget||e).some(function(fe){return Fg(fe,ie)})){if(Cr.isTouch||A.state.isVisible&&A.props.trigger.indexOf("click")>=0)return}else H("onClickOutside",[A,D]);A.props.hideOnClick===!0&&(A.clearDelayTimeouts(),A.hide(),c=!0,setTimeout(function(){c=!1}),A.state.isMounted||it())}}}function vt(){u=!0}function wt(){u=!1}function Ke(){var D=ze();D.addEventListener("mousedown",Pe,!0),D.addEventListener("touchend",Pe,zi),D.addEventListener("touchstart",wt,zi),D.addEventListener("touchmove",vt,zi)}function it(){var D=ze();D.removeEventListener("mousedown",Pe,!0),D.removeEventListener("touchend",Pe,zi),D.removeEventListener("touchstart",wt,zi),D.removeEventListener("touchmove",vt,zi)}function sn(D,ie){Fe(D,function(){!A.state.isVisible&&$.parentNode&&$.parentNode.contains($)&&ie()})}function At(D,ie){Fe(D,ie)}function Fe(D,ie){var fe=De().box;function Ze(We){We.target===fe&&(Sd(fe,"remove",Ze),ie())}if(D===0)return ie();Sd(fe,"remove",m),Sd(fe,"add",Ze),m=Ze}function Zt(D,ie,fe){fe===void 0&&(fe=!1);var Ze=To(A.props.triggerTarget||e);Ze.forEach(function(We){We.addEventListener(D,ie,fe),b.push({node:We,eventType:D,handler:ie,options:fe})})}function Ut(){ke()&&(Zt("touchstart",Wn,{passive:!0}),Zt("touchend",fn,{passive:!0})),kL(A.props.trigger).forEach(function(D){if(D!=="manual")switch(Zt(D,Wn),D){case"mouseenter":Zt("mouseleave",fn);break;case"focus":Zt(IL?"focusout":"blur",Tt);break;case"focusin":Zt("focusout",Tt);break}})}function Kt(){b.forEach(function(D){var ie=D.node,fe=D.eventType,Ze=D.handler,We=D.options;ie.removeEventListener(fe,Ze,We)}),b=[]}function Wn(D){var ie,fe=!1;if(!(!A.state.isEnabled||Bt(D)||c)){var Ze=((ie=h)==null?void 0:ie.type)==="focus";h=D,E=D.currentTarget,se(),!A.state.isVisible&&AL(D)&&hl.forEach(function(We){return We(D)}),D.type==="click"&&(A.props.trigger.indexOf("mouseenter")<0||a)&&A.props.hideOnClick!==!1&&A.state.isVisible?fe=!0:Be(D),D.type==="click"&&(a=!fe),fe&&!Ze&&$t(D)}}function mt(D){var ie=D.target,fe=ue().contains(ie)||$.contains(ie);if(!(D.type==="mousemove"&&fe)){var Ze=Ie().concat($).map(function(We){var Ht,Wt=We._tippy,Vn=(Ht=Wt.popperInstance)==null?void 0:Ht.state;return Vn?{popperRect:We.getBoundingClientRect(),popperState:Vn,props:n}:null}).filter(Boolean);OL(Ze,D)&&(he(),$t(D))}}function fn(D){var ie=Bt(D)||A.props.trigger.indexOf("click")>=0&&a;if(!ie){if(A.props.interactive){A.hideWithInteractivity(D);return}$t(D)}}function Tt(D){A.props.trigger.indexOf("focusin")<0&&D.target!==ue()||A.props.interactive&&D.relatedTarget&&$.contains(D.relatedTarget)||$t(D)}function Bt(D){return Cr.isTouch?ke()!==D.type.indexOf("touch")>=0:!1}function Rn(){me();var D=A.props,ie=D.popperOptions,fe=D.placement,Ze=D.offset,We=D.getReferenceClientRect,Ht=D.moveTransition,Wt=be()?mp($).arrow:null,Vn=We?{getBoundingClientRect:We,contextElement:We.contextElement||ue()}:e,wr={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Dr){var mn=Dr.state;if(be()){var x=De(),j=x.box;["placement","reference-hidden","escaped"].forEach(function(Y){Y==="placement"?j.setAttribute("data-placement",mn.placement):mn.attributes.popper["data-popper-"+Y]?j.setAttribute("data-"+Y,""):j.removeAttribute("data-"+Y)}),mn.attributes.popper={}}}},ur=[{name:"offset",options:{offset:Ze}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Ht}},wr];be()&&Wt&&ur.push({name:"arrow",options:{element:Wt,padding:3}}),ur.push.apply(ur,(ie==null?void 0:ie.modifiers)||[]),A.popperInstance=vL(Vn,$,Object.assign({},ie,{placement:fe,onFirstUpdate:g,modifiers:ur}))}function me(){A.popperInstance&&(A.popperInstance.destroy(),A.popperInstance=null)}function Ot(){var D=A.props.appendTo,ie,fe=ue();A.props.interactive&&D===Ry||D==="parent"?ie=fe.parentNode:ie=Dy(D,[fe]),ie.contains($)||ie.appendChild($),A.state.isMounted=!0,Rn()}function Ie(){return rc($.querySelectorAll("[data-tippy-root]"))}function Be(D){A.clearDelayTimeouts(),D&&H("onTrigger",[A,D]),Ke();var ie=Oe(!0),fe=pe(),Ze=fe[0],We=fe[1];Cr.isTouch&&Ze==="hold"&&We&&(ie=We),ie?r=setTimeout(function(){A.show()},ie):A.show()}function $t(D){if(A.clearDelayTimeouts(),H("onUntrigger",[A,D]),!A.state.isVisible){it();return}if(!(A.props.trigger.indexOf("mouseenter")>=0&&A.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(D.type)>=0&&a)){var ie=Oe(!1);ie?i=setTimeout(function(){A.state.isVisible&&A.hide()},ie):s=requestAnimationFrame(function(){A.hide()})}}function Xt(){A.state.isEnabled=!0}function Qt(){A.hide(),A.state.isEnabled=!1}function qt(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(s)}function W(D){if(!A.state.isDestroyed){H("onBeforeUpdate",[A,D]),Kt();var ie=A.props,fe=Pg(e,Object.assign({},ie,Hg(D),{ignoreAttributes:!0}));A.props=fe,Ut(),ie.interactiveDebounce!==fe.interactiveDebounce&&(he(),v=Bg(mt,fe.interactiveDebounce)),ie.triggerTarget&&!fe.triggerTarget?To(ie.triggerTarget).forEach(function(Ze){Ze.removeAttribute("aria-expanded")}):fe.triggerTarget&&e.removeAttribute("aria-expanded"),se(),N(),q&&q(ie,fe),A.popperInstance&&(Rn(),Ie().forEach(function(Ze){requestAnimationFrame(Ze._tippy.popperInstance.forceUpdate)})),H("onAfterUpdate",[A,D])}}function Z(D){A.setProps({content:D})}function ye(){var D=A.state.isVisible,ie=A.state.isDestroyed,fe=!A.state.isEnabled,Ze=Cr.isTouch&&!A.props.touch,We=Ed(A.props.duration,0,mr.duration);if(!(D||ie||fe||Ze)&&!ue().hasAttribute("disabled")&&(H("onShow",[A],!1),A.props.onShow(A)!==!1)){if(A.state.isVisible=!0,be()&&($.style.visibility="visible"),N(),Ke(),A.state.isMounted||($.style.transition="none"),be()){var Ht=De(),Wt=Ht.box,Vn=Ht.content;xd([Wt,Vn],0)}g=function(){var wr;if(!(!A.state.isVisible||p)){if(p=!0,$.offsetHeight,$.style.transition=A.props.moveTransition,be()&&A.props.animation){var ur=De(),Dr=ur.box,mn=ur.content;xd([Dr,mn],We),zg([Dr,mn],"visible")}re(),se(),$g(Ad,A),(wr=A.popperInstance)==null||wr.forceUpdate(),H("onMount",[A]),A.props.animation&&be()&&At(We,function(){A.state.isShown=!0,H("onShown",[A])})}},Ot()}}function qe(){var D=!A.state.isVisible,ie=A.state.isDestroyed,fe=!A.state.isEnabled,Ze=Ed(A.props.duration,1,mr.duration);if(!(D||ie||fe)&&(H("onHide",[A],!1),A.props.onHide(A)!==!1)){if(A.state.isVisible=!1,A.state.isShown=!1,p=!1,a=!1,be()&&($.style.visibility="hidden"),he(),it(),N(!0),be()){var We=De(),Ht=We.box,Wt=We.content;A.props.animation&&(xd([Ht,Wt],Ze),zg([Ht,Wt],"hidden"))}re(),se(),A.props.animation?be()&&sn(Ze,A.unmount):A.unmount()}}function pt(D){ze().addEventListener("mousemove",v),$g(hl,v),v(D)}function Yt(){A.state.isVisible&&A.hide(),A.state.isMounted&&(me(),Ie().forEach(function(D){D._tippy.unmount()}),$.parentNode&&$.parentNode.removeChild($),Ad=Ad.filter(function(D){return D!==A}),A.state.isMounted=!1,H("onHidden",[A]))}function Rr(){A.state.isDestroyed||(A.clearDelayTimeouts(),A.unmount(),Kt(),delete e._tippy,A.state.isDestroyed=!0,H("onDestroy",[A]))}}function oa(e,t){t===void 0&&(t={});var n=mr.plugins.concat(t.plugins||[]);RL();var r=Object.assign({},t,{plugins:n}),i=ML(e),s=i.reduce(function(a,c){var u=c&&UL(c,r);return u&&a.push(u),a},[]);return Kc(e)?s[0]:s}oa.defaultProps=mr;oa.setDefaultProps=zL;oa.currentInput=Cr;Object.assign({},ky,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});oa.setDefaultProps({render:$y});var rh=oa,KL=class{constructor({editor:e,element:t,view:n,tippyOptions:r={},updateDelay:i=250,shouldShow:s}){this.preventHide=!1,this.shouldShow=({view:a,state:c,from:u,to:p})=>{let{doc:h,selection:m}=c,{empty:g}=m,b=!h.textBetween(u,p).length&&Up(c.selection),v=this.element.contains(document.activeElement);return!(!(a.hasFocus()||v)||g||b||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:a})=>{var c;if(this.preventHide){this.preventHide=!1;return}a!=null&&a.relatedTarget&&!((c=this.element.parentNode)===null||c===void 0)&&c.contains(a.relatedTarget)||this.hide()},this.tippyBlurHandler=a=>{this.blurHandler({event:a})},this.handleDebouncedUpdate=(a,c)=>{let u=!(c!=null&&c.selection.eq(a.state.selection)),p=!(c!=null&&c.doc.eq(a.state.doc));!u&&!p||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(a,u,p,c)},this.updateDelay))},this.updateHandler=(a,c,u,p)=>{var h,m,g;let{state:b,composing:v}=a,{selection:E}=b;if(v||!c&&!u)return;this.createTooltip();let{ranges:k}=E,T=Math.min(...k.map(L=>L.$from.pos)),B=Math.max(...k.map(L=>L.$to.pos));if(!(!((h=this.shouldShow)===null||h===void 0)&&h.call(this,{editor:this.editor,view:a,state:b,oldState:p,from:T,to:B}))){this.hide();return}(m=this.tippy)===null||m===void 0||m.setProps({getReferenceClientRect:((g=this.tippyOptions)===null||g===void 0?void 0:g.getReferenceClientRect)||(()=>{if(ty(b.selection)){let L=a.nodeDOM(T),A=L.dataset.nodeViewWrapper?L:L.querySelector("[data-node-view-wrapper]");if(A&&(L=A.firstChild),L)return L.getBoundingClientRect()}return ny(a,T,B)})}),this.show()},this.editor=e,this.element=t,this.view=n,this.updateDelay=i,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=r,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){let{element:e}=this.editor.options,t=!!e.parentElement;this.tippy||!t||(this.tippy=rh(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){let{state:n}=e,r=n.selection.from!==n.selection.to;if(this.updateDelay>0&&r){this.handleDebouncedUpdate(e,t);return}let i=!(t!=null&&t.selection.eq(e.state.selection)),s=!(t!=null&&t.doc.eq(e.state.doc));this.updateHandler(e,i,s,t)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,t;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(t=this.tippy)===null||t===void 0||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}},qL=e=>new Dt({key:typeof e.pluginKey=="string"?new It(e.pluginKey):e.pluginKey,view:t=>new KL({view:t,...e})});Pt.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[qL({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});var WL=class{constructor({editor:e,element:t,view:n,tippyOptions:r={},shouldShow:i}){this.preventHide=!1,this.shouldShow=({view:s,state:a})=>{let{selection:c}=a,{$anchor:u,empty:p}=c,h=u.depth===1,m=u.parent.isTextblock&&!u.parent.type.spec.code&&!u.parent.textContent;return!(!s.hasFocus()||!p||!h||!m||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:s})=>{var a;if(this.preventHide){this.preventHide=!1;return}s!=null&&s.relatedTarget&&!((a=this.element.parentNode)===null||a===void 0)&&a.contains(s.relatedTarget)||this.hide()},this.tippyBlurHandler=s=>{this.blurHandler({event:s})},this.editor=e,this.element=t,this.view=n,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=r,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){let{element:e}=this.editor.options,t=!!e.parentElement;this.tippy||!t||(this.tippy=rh(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){var n,r,i;let{state:s}=e,{doc:a,selection:c}=s,{from:u,to:p}=c;if(!(t&&t.doc.eq(a)&&t.selection.eq(c))){if(this.createTooltip(),!(!((n=this.shouldShow)===null||n===void 0)&&n.call(this,{editor:this.editor,view:e,state:s,oldState:t}))){this.hide();return}(r=this.tippy)===null||r===void 0||r.setProps({getReferenceClientRect:((i=this.tippyOptions)===null||i===void 0?void 0:i.getReferenceClientRect)||(()=>ny(e,u,p))}),this.show()}}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,t;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(t=this.tippy)===null||t===void 0||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}},VL=e=>new Dt({key:typeof e.pluginKey=="string"?new It(e.pluginKey):e.pluginKey,view:t=>new WL({view:t,...e})});Pt.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[VL({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});var GL=Qe.create({name:"checkedList",priority:50,addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{class:"checked-list"}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul",getAttrs:e=>e.classList.contains("checked-list"),priority:1e3}]},renderHTML({HTMLAttributes:e}){return["ul",Me(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleCheckedList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}}}),JL=Qe.create({name:"lead",group:"block",content:"block+",addOptions(){return{HTMLAttributes:{class:"lead"}}},parseHTML(){return[{tag:"div",getAttrs:e=>e.classList.contains("lead")}]},renderHTML({node:e,HTMLAttributes:t}){return["div",Me(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleLead:()=>({commands:e})=>e.toggleWrap(this.name)}}}),ZL="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",XL="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",Uo=(e,t)=>{for(let n in t)e[n]=t[n];return e},gp="numeric",bp="ascii",yp="alpha",zl="asciinumeric",fl="alphanumeric",vp="domain",Hy="emoji",QL="scheme",YL="slashscheme",qg="whitespace";function eR(e,t){return e in t||(t[e]=[]),t[e]}function Fi(e,t,n){t[gp]&&(t[zl]=!0,t[fl]=!0),t[bp]&&(t[zl]=!0,t[yp]=!0),t[zl]&&(t[fl]=!0),t[yp]&&(t[fl]=!0),t[fl]&&(t[vp]=!0),t[Hy]&&(t[vp]=!0);for(let r in t){let i=eR(r,n);i.indexOf(e)<0&&i.push(e)}}function tR(e,t){let n={};for(let r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function Mn(e){e===void 0&&(e=null),this.j={},this.jr=[],this.jd=null,this.t=e}Mn.groups={};Mn.prototype={accepts(){return!!this.t},go(e){let t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){let i=t.jr[r][0],s=t.jr[r][1];if(s&&i.test(e))return s}return t.jd},has(e,t){return t===void 0&&(t=!1),t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let i=0;i<e.length;i++)this.tt(e[i],t,n,r)},tr(e,t,n,r){r=r||Mn.groups;let i;return t&&t.j?i=t:(i=new Mn(t),n&&r&&Fi(t,n,r)),this.jr.push([e,i]),i},ts(e,t,n,r){let i=this,s=e.length;if(!s)return i;for(let a=0;a<s-1;a++)i=i.tt(e[a]);return i.tt(e[s-1],t,n,r)},tt(e,t,n,r){r=r||Mn.groups;let i=this;if(t&&t.j)return i.j[e]=t,t;let s=t,a,c=i.go(e);if(c?(a=new Mn,Uo(a.j,c.j),a.jr.push.apply(a.jr,c.jr),a.jd=c.jd,a.t=c.t):a=new Mn,s){if(r)if(a.t&&typeof a.t=="string"){let u=Uo(tR(a.t,r),n);Fi(s,u,r)}else n&&Fi(s,n,r);a.t=s}return i.j[e]=a,a}};var He=(e,t,n,r,i)=>e.ta(t,n,r,i),rr=(e,t,n,r,i)=>e.tr(t,n,r,i),Wg=(e,t,n,r,i)=>e.ts(t,n,r,i),G=(e,t,n,r,i)=>e.tt(t,n,r,i),Wr="WORD",wp="UWORD",Vs="LOCALHOST",_p="TLD",kp="UTLD",Fl="SCHEME",Oo="SLASH_SCHEME",ih="NUM",zy="WS",oh="NL",Is="OPENBRACE",Bs="CLOSEBRACE",ic="OPENBRACKET",oc="CLOSEBRACKET",sc="OPENPAREN",ac="CLOSEPAREN",lc="OPENANGLEBRACKET",cc="CLOSEANGLEBRACKET",uc="FULLWIDTHLEFTPAREN",dc="FULLWIDTHRIGHTPAREN",pc="LEFTCORNERBRACKET",hc="RIGHTCORNERBRACKET",fc="LEFTWHITECORNERBRACKET",mc="RIGHTWHITECORNERBRACKET",gc="FULLWIDTHLESSTHAN",bc="FULLWIDTHGREATERTHAN",yc="AMPERSAND",vc="APOSTROPHE",wc="ASTERISK",hi="AT",_c="BACKSLASH",kc="BACKTICK",Ec="CARET",mi="COLON",sh="COMMA",xc="DOLLAR",xr="DOT",Sc="EQUALS",ah="EXCLAMATION",Sr="HYPHEN",Ac="PERCENT",Cc="PIPE",Mc="PLUS",Tc="POUND",Oc="QUERY",lh="QUOTE",ch="SEMI",Ar="SLASH",$s="TILDE",Nc="UNDERSCORE",Fy="EMOJI",Lc="SYM",jy=Object.freeze({__proto__:null,WORD:Wr,UWORD:wp,LOCALHOST:Vs,TLD:_p,UTLD:kp,SCHEME:Fl,SLASH_SCHEME:Oo,NUM:ih,WS:zy,NL:oh,OPENBRACE:Is,CLOSEBRACE:Bs,OPENBRACKET:ic,CLOSEBRACKET:oc,OPENPAREN:sc,CLOSEPAREN:ac,OPENANGLEBRACKET:lc,CLOSEANGLEBRACKET:cc,FULLWIDTHLEFTPAREN:uc,FULLWIDTHRIGHTPAREN:dc,LEFTCORNERBRACKET:pc,RIGHTCORNERBRACKET:hc,LEFTWHITECORNERBRACKET:fc,RIGHTWHITECORNERBRACKET:mc,FULLWIDTHLESSTHAN:gc,FULLWIDTHGREATERTHAN:bc,AMPERSAND:yc,APOSTROPHE:vc,ASTERISK:wc,AT:hi,BACKSLASH:_c,BACKTICK:kc,CARET:Ec,COLON:mi,COMMA:sh,DOLLAR:xc,DOT:xr,EQUALS:Sc,EXCLAMATION:ah,HYPHEN:Sr,PERCENT:Ac,PIPE:Cc,PLUS:Mc,POUND:Tc,QUERY:Oc,QUOTE:lh,SEMI:ch,SLASH:Ar,TILDE:$s,UNDERSCORE:Nc,EMOJI:Fy,SYM:Lc}),_o=/[a-z]/,Cd=new RegExp("\\p{L}","u"),Md=new RegExp("\\p{Emoji}","u"),Td=/\d/,Vg=/\s/,Gg=`
`,nR="️",rR="‍",ml=null,gl=null;function iR(e){e===void 0&&(e=[]);let t={};Mn.groups=t;let n=new Mn;ml==null&&(ml=Jg(ZL)),gl==null&&(gl=Jg(XL)),G(n,"'",vc),G(n,"{",Is),G(n,"}",Bs),G(n,"[",ic),G(n,"]",oc),G(n,"(",sc),G(n,")",ac),G(n,"<",lc),G(n,">",cc),G(n,"（",uc),G(n,"）",dc),G(n,"「",pc),G(n,"」",hc),G(n,"『",fc),G(n,"』",mc),G(n,"＜",gc),G(n,"＞",bc),G(n,"&",yc),G(n,"*",wc),G(n,"@",hi),G(n,"`",kc),G(n,"^",Ec),G(n,":",mi),G(n,",",sh),G(n,"$",xc),G(n,".",xr),G(n,"=",Sc),G(n,"!",ah),G(n,"-",Sr),G(n,"%",Ac),G(n,"|",Cc),G(n,"+",Mc),G(n,"#",Tc),G(n,"?",Oc),G(n,'"',lh),G(n,"/",Ar),G(n,";",ch),G(n,"~",$s),G(n,"_",Nc),G(n,"\\",_c);let r=rr(n,Td,ih,{[gp]:!0});rr(r,Td,r);let i=rr(n,_o,Wr,{[bp]:!0});rr(i,_o,i);let s=rr(n,Cd,wp,{[yp]:!0});rr(s,_o),rr(s,Cd,s);let a=rr(n,Vg,zy,{[qg]:!0});G(n,Gg,oh,{[qg]:!0}),G(a,Gg),rr(a,Vg,a);let c=rr(n,Md,Fy,{[Hy]:!0});rr(c,Md,c),G(c,nR,c);let u=G(c,rR);rr(u,Md,c);let p=[[_o,i]],h=[[_o,null],[Cd,s]];for(let m=0;m<ml.length;m++)li(n,ml[m],_p,Wr,p);for(let m=0;m<gl.length;m++)li(n,gl[m],kp,wp,h);Fi(_p,{tld:!0,ascii:!0},t),Fi(kp,{utld:!0,alpha:!0},t),li(n,"file",Fl,Wr,p),li(n,"mailto",Fl,Wr,p),li(n,"http",Oo,Wr,p),li(n,"https",Oo,Wr,p),li(n,"ftp",Oo,Wr,p),li(n,"ftps",Oo,Wr,p),Fi(Fl,{scheme:!0,ascii:!0},t),Fi(Oo,{slashscheme:!0,ascii:!0},t),e=e.sort((m,g)=>m[0]>g[0]?1:-1);for(let m=0;m<e.length;m++){let g=e[m][0],b=e[m][1]?{[QL]:!0}:{[YL]:!0};g.indexOf("-")>=0?b[vp]=!0:_o.test(g)?Td.test(g)?b[zl]=!0:b[bp]=!0:b[gp]=!0,Wg(n,g,g,b)}return Wg(n,"localhost",Vs,{ascii:!0}),n.jd=new Mn(Lc),{start:n,tokens:Uo({groups:t},jy)}}function oR(e,t){let n=sR(t.replace(/[A-Z]/g,c=>c.toLowerCase())),r=n.length,i=[],s=0,a=0;for(;a<r;){let c=e,u=null,p=0,h=null,m=-1,g=-1;for(;a<r&&(u=c.go(n[a]));)c=u,c.accepts()?(m=0,g=0,h=c):m>=0&&(m+=n[a].length,g++),p+=n[a].length,s+=n[a].length,a++;s-=m,a-=g,p-=m,i.push({t:h.t,v:t.slice(s-p,s),s:s-p,e:s})}return i}function sR(e){let t=[],n=e.length,r=0;for(;r<n;){let i=e.charCodeAt(r),s,a=i<55296||i>56319||r+1===n||(s=e.charCodeAt(r+1))<56320||s>57343?e[r]:e.slice(r,r+2);t.push(a),r+=a.length}return t}function li(e,t,n,r,i){let s,a=t.length;for(let c=0;c<a-1;c++){let u=t[c];e.j[u]?s=e.j[u]:(s=new Mn(r),s.jr=i.slice(),e.j[u]=s),e=s}return s=new Mn(n),s.jr=i.slice(),e.j[t[a-1]]=s,s}function Jg(e){let t=[],n=[],r=0,i="0123456789";for(;r<e.length;){let s=0;for(;i.indexOf(e[r+s])>=0;)s++;if(s>0){t.push(n.join(""));for(let a=parseInt(e.substring(r,r+s),10);a>0;a--)n.pop();r+=s}else n.push(e[r]),r++}return t}var Gs={defaultProtocol:"http",events:null,format:Zg,formatHref:Zg,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function uh(e,t){t===void 0&&(t=null);let n=Uo({},Gs);e&&(n=Uo(n,e instanceof uh?e.o:e));let r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}uh.prototype={o:Gs,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){let r=t!=null,i=this.o[e];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Gs[e],typeof i=="function"&&r&&(i=i(t,n))):typeof i=="function"&&r&&(i=i(t,n.t,n)),i)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){let t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function Zg(e){return e}function Py(e,t){this.t="token",this.v=e,this.tk=t}Py.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){let t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e){return e===void 0&&(e=Gs.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){let t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),i=e.get("tagName",n,t),s=this.toFormattedString(e),a={},c=e.get("className",n,t),u=e.get("target",n,t),p=e.get("rel",n,t),h=e.getObj("attributes",n,t),m=e.getObj("events",n,t);return a.href=r,c&&(a.class=c),u&&(a.target=u),p&&(a.rel=p),h&&Uo(a,h),{tagName:i,attributes:a,content:s,eventListeners:m}}};function qc(e,t){class n extends Py{constructor(i,s){super(i,s),this.t=e}}for(let r in t)n.prototype[r]=t[r];return n.t=e,n}var Xg=qc("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Qg=qc("text"),aR=qc("nl"),bl=qc("url",{isLink:!0,toHref(e){return e===void 0&&(e=Gs.defaultProtocol),this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){let e=this.tk;return e.length>=2&&e[0].t!==Vs&&e[1].t===mi}}),ir=e=>new Mn(e);function lR(e){let{groups:t}=e,n=t.domain.concat([yc,wc,hi,_c,kc,Ec,xc,Sc,Sr,ih,Ac,Cc,Mc,Tc,Ar,Lc,$s,Nc]),r=[vc,mi,sh,xr,ah,Oc,lh,ch,lc,cc,Is,Bs,oc,ic,sc,ac,uc,dc,pc,hc,fc,mc,gc,bc],i=[yc,vc,wc,_c,kc,Ec,xc,Sc,Sr,Is,Bs,Ac,Cc,Mc,Tc,Oc,Ar,Lc,$s,Nc],s=ir(),a=G(s,$s);He(a,i,a),He(a,t.domain,a);let c=ir(),u=ir(),p=ir();He(s,t.domain,c),He(s,t.scheme,u),He(s,t.slashscheme,p),He(c,i,a),He(c,t.domain,c);let h=G(c,hi);G(a,hi,h),G(u,hi,h),G(p,hi,h);let m=G(a,xr);He(m,i,a),He(m,t.domain,a);let g=ir();He(h,t.domain,g),He(g,t.domain,g);let b=G(g,xr);He(b,t.domain,g);let v=ir(Xg);He(b,t.tld,v),He(b,t.utld,v),G(h,Vs,v);let E=G(g,Sr);He(E,t.domain,g),He(v,t.domain,g),G(v,xr,b),G(v,Sr,E);let k=G(v,mi);He(k,t.numeric,Xg);let T=G(c,Sr),B=G(c,xr);He(T,t.domain,c),He(B,i,a),He(B,t.domain,c);let L=ir(bl);He(B,t.tld,L),He(B,t.utld,L),He(L,t.domain,c),He(L,i,a),G(L,xr,B),G(L,Sr,T),G(L,hi,h);let A=G(L,mi),U=ir(bl);He(A,t.numeric,U);let $=ir(bl),q=ir();He($,n,$),He($,r,q),He(q,n,$),He(q,r,q),G(L,Ar,$),G(U,Ar,$);let ne=G(u,mi),J=G(p,mi),pe=G(J,Ar),ke=G(pe,Ar);He(u,t.domain,c),G(u,xr,B),G(u,Sr,T),He(p,t.domain,c),G(p,xr,B),G(p,Sr,T),He(ne,t.domain,$),G(ne,Ar,$),He(ke,t.domain,$),He(ke,n,$),G(ke,Ar,$);let be=[[Is,Bs],[ic,oc],[sc,ac],[lc,cc],[uc,dc],[pc,hc],[fc,mc],[gc,bc]];for(let ue=0;ue<be.length;ue++){let[ze,De]=be[ue],Oe=G($,ze);G(q,ze,Oe),G(Oe,De,$);let N=ir(bl);He(Oe,n,N);let H=ir();He(Oe,r),He(N,n,N),He(N,r,H),He(H,n,N),He(H,r,H),G(N,De,$),G(H,De,$)}return G(s,Vs,L),G(s,oh,aR),{start:s,tokens:jy}}function cR(e,t,n){let r=n.length,i=0,s=[],a=[];for(;i<r;){let c=e,u=null,p=null,h=0,m=null,g=-1;for(;i<r&&!(u=c.go(n[i].t));)a.push(n[i++]);for(;i<r&&(p=u||c.go(n[i].t));)u=null,c=p,c.accepts()?(g=0,m=c):g>=0&&g++,i++,h++;if(g<0)i-=h,i<r&&(a.push(n[i]),i++);else{a.length>0&&(s.push(Od(Qg,t,a)),a=[]),i-=g,h-=g;let b=m.t,v=n.slice(i-h,i);s.push(Od(b,t,v))}}return a.length>0&&s.push(Od(Qg,t,a)),s}function Od(e,t,n){let r=n[0].s,i=n[n.length-1].e,s=t.slice(r,i);return new e(s,n)}var uR=typeof console<"u"&&console&&console.warn||(()=>{}),dR="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",yt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function pR(){Mn.groups={},yt.scanner=null,yt.parser=null,yt.tokenQueue=[],yt.pluginQueue=[],yt.customSchemes=[],yt.initialized=!1}function Yg(e,t){if(t===void 0&&(t=!1),yt.initialized&&uR(`linkifyjs: already initialized - will not register custom scheme "${e}" ${dR}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);yt.customSchemes.push([e,t])}function hR(){yt.scanner=iR(yt.customSchemes);for(let e=0;e<yt.tokenQueue.length;e++)yt.tokenQueue[e][1]({scanner:yt.scanner});yt.parser=lR(yt.scanner.tokens);for(let e=0;e<yt.pluginQueue.length;e++)yt.pluginQueue[e][1]({scanner:yt.scanner,parser:yt.parser});yt.initialized=!0}function Uy(e){return yt.initialized||hR(),cR(yt.parser.start,e,oR(yt.scanner.start,e))}function Ky(e,t,n){if(t===void 0&&(t=null),n===void 0&&(n=null),t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}let r=new uh(n),i=Uy(e),s=[];for(let a=0;a<i.length;a++){let c=i[a];c.isLink&&(!t||c.t===t)&&r.check(c)&&s.push(c.toFormattedObject(r))}return s}function fR(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function mR(e){return new Dt({key:new It("autolink"),appendTransaction:(t,n,r)=>{let i=t.some(u=>u.docChanged)&&!n.doc.eq(r.doc),s=t.some(u=>u.getMeta("preventAutolink"));if(!i||s)return;let{tr:a}=r,c=BM(n.doc,[...t]);if(PM(c).forEach(({newRange:u})=>{let p=$M(r.doc,u,g=>g.isTextblock),h,m;if(p.length>1?(h=p[0],m=r.doc.textBetween(h.pos,h.pos+h.node.nodeSize,void 0," ")):p.length&&r.doc.textBetween(u.from,u.to," "," ").endsWith(" ")&&(h=p[0],m=r.doc.textBetween(h.pos,u.to,void 0," ")),h&&m){let g=m.split(" ").filter(k=>k!=="");if(g.length<=0)return!1;let b=g[g.length-1],v=h.pos+m.lastIndexOf(b);if(!b)return!1;let E=Uy(b).map(k=>k.toObject(e.defaultProtocol));if(!fR(E))return!1;E.filter(k=>k.isLink).map(k=>({...k,from:v+k.start+1,to:v+k.end+1})).filter(k=>r.schema.marks.code?!r.doc.rangeHasMark(k.from,k.to,r.schema.marks.code):!0).filter(k=>e.validate(k.value)).forEach(k=>{Vp(k.from,k.to,r.doc).some(T=>T.mark.type===e.type)||a.addMark(k.from,k.to,e.type.create({href:k.href}))})}}),!!a.steps.length)return a}})}function gR(e){return new Dt({key:new It("handleClickLink"),props:{handleClick:(t,n,r)=>{var i,s;if(r.button!==0||!t.editable)return!1;let a=r.target,c=[];for(;a.nodeName!=="DIV";)c.push(a),a=a.parentNode;if(!c.find(g=>g.nodeName==="A"))return!1;let u=zM(t.state,e.type.name),p=r.target,h=(i=p==null?void 0:p.href)!==null&&i!==void 0?i:u.href,m=(s=p==null?void 0:p.target)!==null&&s!==void 0?s:u.target;return p&&h?(window.open(h,m),!0):!1}}})}function bR(e){return new Dt({key:new It("handlePasteLink"),props:{handlePaste:(t,n,r)=>{let{state:i}=t,{selection:s}=i,{empty:a}=s;if(a)return!1;let c="";r.content.forEach(p=>{c+=p.textContent});let u=Ky(c,{defaultProtocol:e.defaultProtocol}).find(p=>p.isLink&&p.value===c);return!c||!u?!1:(e.editor.commands.setMark(e.type,{href:u.href}),!0)}}})}var yR=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function e0(e,t){let n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(r=>{let i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!e||e.replace(yR,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z+.-]+(?:[^a-z+.-:]|$))`,"i"))}var vR=qn.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.protocols.forEach(e=>{if(typeof e=="string"){Yg(e);return}Yg(e.scheme,e.optionalSlashes)})},onDestroy(){pR()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{let t=e.getAttribute("href");return!t||!e0(t,this.options.protocols)?!1:null}}]},renderHTML({HTMLAttributes:e}){return e0(e.href,this.options.protocols)?["a",Me(this.options.HTMLAttributes,e),0]:["a",Me(this.options.HTMLAttributes,{...e,href:""}),0]},addCommands(){return{setLink:e=>({chain:t})=>t().setMark(this.name,e).setMeta("preventAutolink",!0).run(),toggleLink:e=>({chain:t})=>t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[vi({find:e=>{let t=[];if(e){let{validate:n}=this.options,r=Ky(e).filter(i=>i.isLink&&n(i.value));r.length&&r.forEach(i=>t.push({text:i.value,data:{href:i.href},index:i.start}))}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)===null||t===void 0?void 0:t.href}}})]},addProseMirrorPlugins(){let e=[];return this.options.autolink&&e.push(mR({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:this.options.validate})),this.options.openOnClick===!0&&e.push(gR({type:this.type})),this.options.linkOnPaste&&e.push(bR({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),e}}),wR=vR.extend({addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{},validate:void 0}},addAttributes(){return{href:{default:null},id:{default:null},target:{default:this.options.HTMLAttributes.target},hreflang:{default:null},rel:{default:null},referrerpolicy:{default:null},class:{default:null},as_button:{default:null,parseHTML:e=>e.getAttribute("data-as-button"),renderHTML:e=>({"data-as-button":e.as_button})},button_theme:{default:null,parseHTML:e=>e.getAttribute("data-as-button-theme"),renderHTML:e=>({"data-as-button-theme":e.button_theme})}}}}),_R=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,kR=Qe.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",Me(this.options.HTMLAttributes,e)]},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[ry({find:_R,type:this.type,getAttributes:e=>{let[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}}),ER=kR.extend({addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null},lazy:{default:null,parseHTML:e=>e.getAttribute("loading")==="lazy"?e.getAttribute("data-lazy"):null,renderHTML:e=>{if(e.lazy)return{"data-lazy":e.lazy,loading:"lazy"}}}}}});QT.extend({addAttributes(){return{class:{default:null}}}});var xR=qn.create({name:"small",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"small"}]},renderHTML({HTMLAttributes:e}){return["small",Me(this.options.HTMLAttributes,e),0]},addCommands(){return{setSmall:()=>({commands:e})=>e.setMark(this.name),toggleSmall:()=>({commands:e})=>e.toggleMark(this.name),unsetSmall:()=>({commands:e})=>e.unsetMark(this.name)}}});function SR(e,t=null){return t?e.createChecked(null,t):e.createAndFill()}function AR(e){if(e.cached.gridNodeTypes)return e.cached.gridNodeTypes;let t={};return Object.keys(e.nodes).forEach(n=>{let r=e.nodes[n];r.spec.gridRole&&(t[r.spec.gridRole]=r)}),e.cached.gridNodeTypes=t,t}function CR(e,t,n,r){let i=AR(e),s=[];for(let a=0;a<t;a+=1){let c=SR(i.column,r);c&&s.push(c)}return i.grid.createChecked({cols:t,type:n},s)}var MR=Qe.create({name:"grid",group:"block",defining:!0,isolating:!0,allowGapCursor:!1,content:"gridColumn+",gridRole:"grid",addOptions(){return{HTMLAttributes:{class:"filament-tiptap-grid"}}},addAttributes(){return{type:{default:"responsive",parseHTML:e=>e.getAttribute("type")},cols:{default:2,parseHTML:e=>e.getAttribute("cols")}}},parseHTML(){return[{tag:"div",getAttrs:e=>e.classList.contains("filament-tiptap-grid")&&null}]},renderHTML({HTMLAttributes:e}){return["div",Me(this.options.HTMLAttributes,e),0]},addCommands(){return{insertGrid:({cols:e=3,type:t="responsive"}={})=>({tr:n,dispatch:r,editor:i})=>{let s=CR(i.schema,e,t);if(r){let a=n.selection.anchor+1;n.replaceSelectionWith(s).scrollIntoView().setSelection(xe.near(n.doc.resolve(a)))}return!0}}},addKeyboardShortcuts(){return{"Mod-Alt-G":()=>this.editor.commands.insertGrid()}},extendNodeSchema(e){let t={name:e.name,options:e.options,storage:e.storage};return{gridRole:St(jt(e,"gridRole",t))}}}),TR=Qe.create({name:"gridColumn",content:"block+",gridRole:"column",isolating:!0,addOptions(){return{HTMLAttributes:{class:"filament-tiptap-grid__column"}}},parseHTML(){return[{tag:"div",getAttrs:e=>e.classList.contains("filament-tiptap-grid__column")&&null}]},renderHTML({HTMLAttributes:e}){return["div",Me(this.options.HTMLAttributes,e),0]}}),OR=e=>e.match(/(youtube\.com|youtu\.be)(.+)?$/),t0=(e=!1)=>e?"https://www.youtube-nocookie.com/embed/":"https://www.youtube.com/embed/",n0=e=>{let{url:t,controls:n,nocookie:r,startAt:i}=e;if(t.includes("/embed/"))return t;if(t.includes("youtu.be")){let u=t.split("/").pop();return u?`${t0(r)}${u}`:null}let s=/v=([-\w]+)/gm.exec(t);if(!s||!s[1])return null;let a=`${t0(r)}${s[1]}`,c=[];return n?c.push("controls=1"):c.push("controls=0"),i&&c.push(`start=${i}`),c.length&&(a+=`?${c.join("&")}`),a},NR=Qe.create({name:"youtube",selectable:!0,draggable:!0,atom:!0,addOptions(){return{inline:!1,HTMLAttributes:{},width:640,height:480}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},addAttributes(){return{style:{default:null,parseHTML:e=>e.getAttribute("style")},src:{default:null},width:{default:this.options.width,parseHTML:e=>e.getAttribute("width")},height:{default:this.options.height,parseHTML:e=>e.getAttribute("height")},responsive:{default:!0,parseHTML:e=>e.classList.contains("responsive")??!1},start:{default:0},controls:{default:!0},nocookie:{default:!1},"data-aspect-width":{default:null,parseHTML:e=>e.getAttribute("data-aspect-width")},"data-aspect-height":{default:null,parseHTML:e=>e.getAttribute("data-aspect-height")}}},parseHTML(){return[{tag:"div[data-youtube-video] iframe"}]},addCommands(){return{setYoutubeVideo:e=>({commands:t})=>{if(!OR(e.src))return!1;let n=n0({url:e.src,controls:e.controls,nocookie:e.nocookie,startAt:e.start||0});return t.insertContent({type:this.name,attrs:{...e,src:n}})}}},renderHTML({HTMLAttributes:e}){let t=n0({url:e.src,controls:e.controls,nocookie:e.nocookie,startAt:e.start||0});return["div",{"data-youtube-video":"",class:e.responsive?"responsive":null},["iframe",{src:t,width:e.width,height:e.height,allowfullscreen:this.options.allowFullscreen,style:e.responsive?`aspect-ratio: ${e["data-aspect-width"]} / ${e["data-aspect-height"]}; width: 100%; height: auto;`:null,"data-aspect-width":e.responsive?e["data-aspect-width"]:null,"data-aspect-height":e.responsive?e["data-aspect-height"]:null}]]}}),LR=e=>e.match(/(vimeo\.com)(.+)?$/),r0=e=>{let{url:t,autoplay:n,loop:r,title:i,byline:s,portrait:a}=e;if(t.includes("/video/"))return t;let c=/\.com\/([0-9]+)/gm.exec(t);if(!c||!c[1])return null;let u=`https://player.vimeo.com/video/${c[1]}`,p=[`autoplay=${n}`,`loop=${r}`,`title=${i}`,`byline=${s}`,`portrait=${a}`];return u+=`?${p.join("&")}`,u},RR=Qe.create({name:"vimeo",selectable:!0,draggable:!0,atom:!0,addOptions(){return{inline:!1,HTMLAttributes:{},allowFullscreen:!0,width:640,height:480}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},addAttributes(){return{style:{default:null,parseHTML:e=>e.getAttribute("style")},src:{default:null},width:{default:this.options.width,parseHTML:e=>e.getAttribute("width")},height:{default:this.options.height,parseHTML:e=>e.getAttribute("height")},autoplay:{default:0},loop:{default:0},title:{default:0},byline:{default:0},portrait:{default:0},responsive:{default:!0,parseHTML:e=>e.classList.contains("responsive")??!1},"data-aspect-width":{default:null,parseHTML:e=>e.getAttribute("data-aspect-width")},"data-aspect-height":{default:null,parseHTML:e=>e.getAttribute("data-aspect-height")}}},parseHTML(){return[{tag:"div[data-vimeo-video] iframe"}]},addCommands(){return{setVimeoVideo:e=>({commands:t})=>{if(!LR(e.src))return!1;let n=r0({url:e.src,autoplay:(e==null?void 0:e.autoplay)||0,loop:(e==null?void 0:e.loop)||0,title:(e==null?void 0:e.title)||0,byline:(e==null?void 0:e.byline)||0,portrait:(e==null?void 0:e.portrait)||0});return t.insertContent({type:this.name,attrs:{...e,src:n}})}}},renderHTML({HTMLAttributes:e}){let t=r0({url:e.src,autoplay:(e==null?void 0:e.autoplay)||0,loop:(e==null?void 0:e.loop)||0,title:(e==null?void 0:e.title)||0,byline:(e==null?void 0:e.byline)||0,portrait:(e==null?void 0:e.portrait)||0});return["div",{"data-vimeo-video":"",class:e.responsive?"responsive":null},["iframe",{src:t,width:e.width,height:e.height,allowfullscreen:this.options.allowfullscreen,frameborder:0,allow:"autoplay; fullscreen; picture-in-picture",style:e.responsive?`aspect-ratio: ${e["data-aspect-width"]} / ${e["data-aspect-height"]}; width: 100%; height: auto;`:null,"data-aspect-width":e.responsive?e["data-aspect-width"]:null,"data-aspect-height":e.responsive?e["data-aspect-height"]:null}]]}}),DR=Qe.create({name:"video",selectable:!0,draggable:!0,atom:!0,inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},addOptions(){return{inline:!1,HTMLAttributes:{autoplay:null,controls:null,loop:null},width:640,height:480}},addAttributes(){return{style:{default:null,parseHTML:e=>e.getAttribute("style")},responsive:{default:!0,parseHTML:e=>e.classList.contains("responsive")??!1},src:{default:null},width:{default:this.options.width,parseHTML:e=>e.getAttribute("width")},height:{default:this.options.height,parseHTML:e=>e.getAttribute("height")},autoplay:{default:null,parseHTML:e=>e.getAttribute("autoplay")},controls:{default:null,parseHTML:e=>e.getAttribute("controls")},loop:{default:null,parseHTML:e=>e.getAttribute("loop")},"data-aspect-width":{default:null,parseHTML:e=>e.getAttribute("data-aspect-width")},"data-aspect-height":{default:null,parseHTML:e=>e.getAttribute("data-aspect-height")}}},parseHTML(){return[{tag:"div[data-native-video] video"}]},addCommands(){return{setVideo:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},renderHTML({HTMLAttributes:e}){return["div",{"data-native-video":"",class:e.responsive?"responsive":null},["video",{src:e.src,width:e.width,height:e.height,autoplay:e.autoplay?"true":null,controls:e.controls?"true":null,loop:e.loop?"true":null,style:e.responsive?`aspect-ratio: ${e["data-aspect-width"]} / ${e["data-aspect-height"]}; width: 100%; height: auto;`:null,"data-aspect-width":e.responsive?e["data-aspect-width"]:null,"data-aspect-height":e.responsive?e["data-aspect-height"]:null}]]}}),IR=Qe.create({name:"details",content:"detailsSummary detailsContent",group:"block",defining:!0,isolating:!0,allowGapCursor:!1,addOptions(){return{HTMLAttributes:{}}},addAttributes(){return{}},parseHTML(){return[{tag:"details"}]},renderHTML({HTMLAttributes:e}){return["details",Me(this.options.HTMLAttributes,e),0]},addNodeView(){return({editor:e,getPos:t,node:n,HTMLAttributes:r})=>{let i=document.createElement("div");document.createElement("div");let s=Me(this.options.HTMLAttributes,r,{"data-type":this.name});return Object.entries(s).forEach(([a,c])=>i.setAttribute(a,c)),{dom:i,contentDOM:i,ignoreMutation(a){return a.type==="selection"?!1:!i.contains(a.target)||i===a.target},update:a=>a.type===this.type}}},addCommands(){return{setDetails:()=>({state:e,chain:t})=>{var n;let{schema:r,selection:i}=e,{$from:s,$to:a}=i,c=s.blockRange(a);if(!c)return!1;let u=e.doc.slice(c.start,c.end);if(!r.nodes.detailsContent.contentMatch.matchFragment(u.content))return!1;let p=((n=u.toJSON())===null||n===void 0?void 0:n.content)||[];return t().insertContentAt({from:c.start,to:c.end},{type:this.name,content:[{type:"detailsSummary"},{type:"detailsContent",content:p}]}).setTextSelection(c.start+2).run()},unsetDetails:()=>({state:e,chain:t})=>{let{selection:n,schema:r}=e,i=na(k=>k.type===this.type)(n);if(!i)return!1;let s=js(i.node,k=>k.type===r.nodes.detailsSummary),a=js(i.node,k=>k.type===r.nodes.detailsContent);if(!s.length||!a.length)return!1;let c=s[0],u=a[0],p=i.pos,h=e.doc.resolve(p),m=p+i.node.nodeSize,g={from:p,to:m},b=u.node.content.toJSON()||[],v=h.parent.type.contentMatch.defaultType,E=[v==null?void 0:v.create(null,c.node.content).toJSON(),...b];return t().insertContentAt(g,E).setTextSelection(p+1).run()}}},addKeyboardShortcuts(){return{Backspace:()=>{let{schema:e,selection:t}=this.editor.state,{empty:n,$anchor:r}=t;return!n||r.parent.type!==e.nodes.detailsSummary?!1:r.parentOffset!==0?this.editor.commands.command(({tr:i})=>{let s=r.pos-1,a=r.pos;return i.delete(s,a),!0}):this.editor.commands.unsetDetails()}}}}),BR=Qe.create({name:"detailsSummary",content:"text*",defining:!0,selectable:!1,isolating:!0,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"summary"}]},renderHTML({HTMLAttributes:e}){return["summary",Me(this.options.HTMLAttributes,e),0]}}),$R=Qe.create({name:"detailsContent",content:"block+",defining:!0,selectable:!1,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:'div[data-type="details-content"]'}]},renderHTML({HTMLAttributes:e}){return["div",Me(this.options.HTMLAttributes,e,{"data-type":"details-content"}),0]},addKeyboardShortcuts(){return{Enter:({editor:e})=>{let{state:t,view:n}=e,{selection:r}=t,{$from:i,empty:s}=r,a=na(J=>J.type===this.type)(r);if(!s||!a||!a.node.childCount)return!1;let c=i.index(a.depth),{childCount:u}=a.node;if(u!==c+1)return!1;let p=a.node.type.contentMatch.defaultType,h=p==null?void 0:p.createAndFill();if(!h)return!1;let m=t.doc.resolve(a.pos+1),g=u-1,b=a.node.child(g),v=m.posAtIndex(g,a.depth);if(!b.eq(h))return!1;let E=i.node(-3);if(!E)return!1;let k=i.indexAfter(-3),T=Qb(E.contentMatchAt(k));if(!T||!E.canReplaceWith(k,k,T))return!1;let B=T.createAndFill();if(!B)return!1;let{tr:L}=t,A=i.after(-2);L.replaceWith(A,A,B);let U=L.doc.resolve(A),$=Ee.near(U,1);L.setSelection($);let q=v,ne=v+b.nodeSize;return L.delete(q,ne),L.scrollIntoView(),n.dispatch(L),!0}}}}),HR=/^```([a-z]+)?[\s\n]$/,zR=/^~~~([a-z]+)?[\s\n]$/,FR=Qe.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;let{languageClassPrefix:n}=this.options;return[...((t=e.firstElementChild)===null||t===void 0?void 0:t.classList)||[]].filter(i=>i.startsWith(n)).map(i=>i.replace(n,""))[0]||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",Me(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{let{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;let{state:t}=e,{selection:n}=t,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;let s=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!s||!a?!1:e.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;let{state:t}=e,{selection:n,doc:r}=t,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||i.parentOffset!==i.parent.nodeSize-2)return!1;let a=i.after();return a===void 0?!1:r.nodeAt(a)?e.commands.command(({tr:c})=>(c.setSelection(Ee.near(r.resolve(a))),!0)):e.commands.exitCode()}}},addInputRules(){return[ip({find:HR,type:this.type,getAttributes:e=>({language:e[1]})}),ip({find:zR,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Dt({key:new It("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;let n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;let{tr:a,schema:c}=e.state,u=c.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},u)),a.selection.$from.parent.type!==this.type&&a.setSelection(xe.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),e.dispatch(a),!0}}})]}});function jR(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qy(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{let n=e[t],r=typeof n;(r==="object"||r==="function")&&!Object.isFrozen(n)&&qy(n)}),e}var i0=class{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function Wy(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function bi(e,...t){let n=Object.create(null);for(let r in e)n[r]=e[r];return t.forEach(function(r){for(let i in r)n[i]=r[i]}),n}var PR="</span>",o0=e=>!!e.scope,UR=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){let n=e.split(".");return[`${t}${n.shift()}`,...n.map((r,i)=>`${r}${"_".repeat(i+1)}`)].join(" ")}return`${t}${e}`},KR=class{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=Wy(e)}openNode(e){if(!o0(e))return;let t=UR(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){o0(e)&&(this.buffer+=PR)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}},s0=(e={})=>{let t={children:[]};return Object.assign(t,e),t},qR=class Vy{constructor(){this.rootNode=s0(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){let n=s0({scope:t});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,n){return typeof n=="string"?t.addText(n):n.children&&(t.openNode(n),n.children.forEach(r=>this._walk(t,r)),t.closeNode(n)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(n=>typeof n=="string")?t.children=[t.children.join("")]:t.children.forEach(n=>{Vy._collapse(n)}))}},WR=class extends qR{constructor(e){super(),this.options=e}addText(e){e!==""&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){let n=e.root;t&&(n.scope=`language:${t}`),this.add(n)}toHTML(){return new KR(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}};function Js(e){return e?typeof e=="string"?e:e.source:null}function Gy(e){return to("(?=",e,")")}function VR(e){return to("(?:",e,")*")}function GR(e){return to("(?:",e,")?")}function to(...e){return e.map(t=>Js(t)).join("")}function JR(e){let t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function dh(...e){return"("+(JR(e).capture?"":"?:")+e.map(t=>Js(t)).join("|")+")"}function Jy(e){return new RegExp(e.toString()+"|").exec("").length-1}function ZR(e,t){let n=e&&e.exec(t);return n&&n.index===0}var XR=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function ph(e,{joinWith:t}){let n=0;return e.map(r=>{n+=1;let i=n,s=Js(r),a="";for(;s.length>0;){let c=XR.exec(s);if(!c){a+=s;break}a+=s.substring(0,c.index),s=s.substring(c.index+c[0].length),c[0][0]==="\\"&&c[1]?a+="\\"+String(Number(c[1])+i):(a+=c[0],c[0]==="("&&n++)}return a}).map(r=>`(${r})`).join(t)}var QR=/\b\B/,Zy="[a-zA-Z]\\w*",hh="[a-zA-Z_]\\w*",Xy="\\b\\d+(\\.\\d+)?",Qy="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Yy="\\b(0b[01]+)",YR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",e2=(e={})=>{let t=/^#![ ]*\//;return e.binary&&(e.begin=to(t,/.*\b/,e.binary,/\b.*/)),bi({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},e)},Zs={begin:"\\\\[\\s\\S]",relevance:0},t2={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Zs]},n2={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Zs]},r2={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Wc=function(e,t,n={}){let r=bi({scope:"comment",begin:e,end:t,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});let i=dh("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:to(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},i2=Wc("//","$"),o2=Wc("/\\*","\\*/"),s2=Wc("#","$"),a2={scope:"number",begin:Xy,relevance:0},l2={scope:"number",begin:Qy,relevance:0},c2={scope:"number",begin:Yy,relevance:0},u2={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Zs,{begin:/\[/,end:/\]/,relevance:0,contains:[Zs]}]},d2={scope:"title",begin:Zy,relevance:0},p2={scope:"title",begin:hh,relevance:0},h2={begin:"\\.\\s*"+hh,relevance:0},f2=function(e){return Object.assign(e,{"on:begin":(t,n)=>{n.data._beginMatch=t[1]},"on:end":(t,n)=>{n.data._beginMatch!==t[1]&&n.ignoreMatch()}})},yl=Object.freeze({__proto__:null,APOS_STRING_MODE:t2,BACKSLASH_ESCAPE:Zs,BINARY_NUMBER_MODE:c2,BINARY_NUMBER_RE:Yy,COMMENT:Wc,C_BLOCK_COMMENT_MODE:o2,C_LINE_COMMENT_MODE:i2,C_NUMBER_MODE:l2,C_NUMBER_RE:Qy,END_SAME_AS_BEGIN:f2,HASH_COMMENT_MODE:s2,IDENT_RE:Zy,MATCH_NOTHING_RE:QR,METHOD_GUARD:h2,NUMBER_MODE:a2,NUMBER_RE:Xy,PHRASAL_WORDS_MODE:r2,QUOTE_STRING_MODE:n2,REGEXP_MODE:u2,RE_STARTERS_RE:YR,SHEBANG:e2,TITLE_MODE:d2,UNDERSCORE_IDENT_RE:hh,UNDERSCORE_TITLE_MODE:p2});function m2(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function g2(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function b2(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=m2,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function y2(e,t){Array.isArray(e.illegal)&&(e.illegal=dh(...e.illegal))}function v2(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function w2(e,t){e.relevance===void 0&&(e.relevance=1)}var _2=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");let n=Object.assign({},e);Object.keys(e).forEach(r=>{delete e[r]}),e.keywords=n.keywords,e.begin=to(n.beforeMatch,Gy(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},k2=["of","and","for","in","not","or","if","then","parent","list","value"],E2="keyword";function ev(e,t,n=E2){let r=Object.create(null);return typeof e=="string"?i(n,e.split(" ")):Array.isArray(e)?i(n,e):Object.keys(e).forEach(function(s){Object.assign(r,ev(e[s],t,s))}),r;function i(s,a){t&&(a=a.map(c=>c.toLowerCase())),a.forEach(function(c){let u=c.split("|");r[u[0]]=[s,x2(u[0],u[1])]})}}function x2(e,t){return t?Number(t):S2(e)?0:1}function S2(e){return k2.includes(e.toLowerCase())}var a0={},Gi=e=>{console.error(e)},l0=(e,...t)=>{console.log(`WARN: ${e}`,...t)},ko=(e,t)=>{a0[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),a0[`${e}/${t}`]=!0)},Rc=new Error;function tv(e,t,{key:n}){let r=0,i=e[n],s={},a={};for(let c=1;c<=t.length;c++)a[c+r]=i[c],s[c+r]=!0,r+=Jy(t[c-1]);e[n]=a,e[n]._emit=s,e[n]._multi=!0}function A2(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw Gi("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Rc;if(typeof e.beginScope!="object"||e.beginScope===null)throw Gi("beginScope must be object"),Rc;tv(e,e.begin,{key:"beginScope"}),e.begin=ph(e.begin,{joinWith:""})}}function C2(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw Gi("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Rc;if(typeof e.endScope!="object"||e.endScope===null)throw Gi("endScope must be object"),Rc;tv(e,e.end,{key:"endScope"}),e.end=ph(e.end,{joinWith:""})}}function M2(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function T2(e){M2(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),A2(e),C2(e)}function O2(e){function t(a,c){return new RegExp(Js(a),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(c?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(c,u){u.position=this.position++,this.matchIndexes[this.matchAt]=u,this.regexes.push([u,c]),this.matchAt+=Jy(c)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);let c=this.regexes.map(u=>u[1]);this.matcherRe=t(ph(c,{joinWith:"|"}),!0),this.lastIndex=0}exec(c){this.matcherRe.lastIndex=this.lastIndex;let u=this.matcherRe.exec(c);if(!u)return null;let p=u.findIndex((m,g)=>g>0&&m!==void 0),h=this.matchIndexes[p];return u.splice(0,p),Object.assign(u,h)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(c){if(this.multiRegexes[c])return this.multiRegexes[c];let u=new n;return this.rules.slice(c).forEach(([p,h])=>u.addRule(p,h)),u.compile(),this.multiRegexes[c]=u,u}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(c,u){this.rules.push([c,u]),u.type==="begin"&&this.count++}exec(c){let u=this.getMatcher(this.regexIndex);u.lastIndex=this.lastIndex;let p=u.exec(c);if(this.resumingScanAtSamePosition()&&!(p&&p.index===this.lastIndex)){let h=this.getMatcher(0);h.lastIndex=this.lastIndex+1,p=h.exec(c)}return p&&(this.regexIndex+=p.position+1,this.regexIndex===this.count&&this.considerAll()),p}}function i(a){let c=new r;return a.contains.forEach(u=>c.addRule(u.begin,{rule:u,type:"begin"})),a.terminatorEnd&&c.addRule(a.terminatorEnd,{type:"end"}),a.illegal&&c.addRule(a.illegal,{type:"illegal"}),c}function s(a,c){let u=a;if(a.isCompiled)return u;[g2,v2,T2,_2].forEach(h=>h(a,c)),e.compilerExtensions.forEach(h=>h(a,c)),a.__beforeBegin=null,[b2,y2,w2].forEach(h=>h(a,c)),a.isCompiled=!0;let p=null;return typeof a.keywords=="object"&&a.keywords.$pattern&&(a.keywords=Object.assign({},a.keywords),p=a.keywords.$pattern,delete a.keywords.$pattern),p=p||/\w+/,a.keywords&&(a.keywords=ev(a.keywords,e.case_insensitive)),u.keywordPatternRe=t(p,!0),c&&(a.begin||(a.begin=/\B|\b/),u.beginRe=t(u.begin),!a.end&&!a.endsWithParent&&(a.end=/\B|\b/),a.end&&(u.endRe=t(u.end)),u.terminatorEnd=Js(u.end)||"",a.endsWithParent&&c.terminatorEnd&&(u.terminatorEnd+=(a.end?"|":"")+c.terminatorEnd)),a.illegal&&(u.illegalRe=t(a.illegal)),a.contains||(a.contains=[]),a.contains=[].concat(...a.contains.map(function(h){return N2(h==="self"?a:h)})),a.contains.forEach(function(h){s(h,u)}),a.starts&&s(a.starts,c),u.matcher=i(u),u}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=bi(e.classNameAliases||{}),s(e)}function nv(e){return e?e.endsWithParent||nv(e.starts):!1}function N2(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return bi(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:nv(e)?bi(e,{starts:e.starts?bi(e.starts):null}):Object.isFrozen(e)?bi(e):e}var L2="11.10.0",R2=class extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}},Nd=Wy,c0=bi,u0=Symbol("nomatch"),D2=7,rv=function(e){let t=Object.create(null),n=Object.create(null),r=[],i=!0,s="Could not find the language '{}', did you forget to load/include a language module?",a={disableAutodetect:!0,name:"Plain text",contains:[]},c={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:WR};function u(N){return c.noHighlightRe.test(N)}function p(N){let H=N.className+" ";H+=N.parentNode?N.parentNode.className:"";let re=c.languageDetectRe.exec(H);if(re){let se=J(re[1]);return se||(l0(s.replace("{}",re[1])),l0("Falling back to no-highlight mode for this block.",N)),se?re[1]:"no-highlight"}return H.split(/\s+/).find(se=>u(se)||J(se))}function h(N,H,re){let se="",he="";typeof H=="object"?(se=N,re=H.ignoreIllegals,he=H.language):(ko("10.7.0","highlight(lang, code, ...args) has been deprecated."),ko("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),he=N,se=H),re===void 0&&(re=!0);let Pe={code:se,language:he};De("before:highlight",Pe);let vt=Pe.result?Pe.result:m(Pe.language,Pe.code,re);return vt.code=Pe.code,De("after:highlight",vt),vt}function m(N,H,re,se){let he=Object.create(null);function Pe(W,Z){return W.keywords[Z]}function vt(){if(!me.keywords){Ie.addText(Be);return}let W=0;me.keywordPatternRe.lastIndex=0;let Z=me.keywordPatternRe.exec(Be),ye="";for(;Z;){ye+=Be.substring(W,Z.index);let qe=Tt.case_insensitive?Z[0].toLowerCase():Z[0],pt=Pe(me,qe);if(pt){let[Yt,Rr]=pt;if(Ie.addText(ye),ye="",he[qe]=(he[qe]||0)+1,he[qe]<=D2&&($t+=Rr),Yt.startsWith("_"))ye+=Z[0];else{let D=Tt.classNameAliases[Yt]||Yt;it(Z[0],D)}}else ye+=Z[0];W=me.keywordPatternRe.lastIndex,Z=me.keywordPatternRe.exec(Be)}ye+=Be.substring(W),Ie.addText(ye)}function wt(){if(Be==="")return;let W=null;if(typeof me.subLanguage=="string"){if(!t[me.subLanguage]){Ie.addText(Be);return}W=m(me.subLanguage,Be,!0,Ot[me.subLanguage]),Ot[me.subLanguage]=W._top}else W=b(Be,me.subLanguage.length?me.subLanguage:null);me.relevance>0&&($t+=W.relevance),Ie.__addSublanguage(W._emitter,W.language)}function Ke(){me.subLanguage!=null?wt():vt(),Be=""}function it(W,Z){W!==""&&(Ie.startScope(Z),Ie.addText(W),Ie.endScope())}function sn(W,Z){let ye=1,qe=Z.length-1;for(;ye<=qe;){if(!W._emit[ye]){ye++;continue}let pt=Tt.classNameAliases[W[ye]]||W[ye],Yt=Z[ye];pt?it(Yt,pt):(Be=Yt,vt(),Be=""),ye++}}function At(W,Z){return W.scope&&typeof W.scope=="string"&&Ie.openNode(Tt.classNameAliases[W.scope]||W.scope),W.beginScope&&(W.beginScope._wrap?(it(Be,Tt.classNameAliases[W.beginScope._wrap]||W.beginScope._wrap),Be=""):W.beginScope._multi&&(sn(W.beginScope,Z),Be="")),me=Object.create(W,{parent:{value:me}}),me}function Fe(W,Z,ye){let qe=ZR(W.endRe,ye);if(qe){if(W["on:end"]){let pt=new i0(W);W["on:end"](Z,pt),pt.isMatchIgnored&&(qe=!1)}if(qe){for(;W.endsParent&&W.parent;)W=W.parent;return W}}if(W.endsWithParent)return Fe(W.parent,Z,ye)}function Zt(W){return me.matcher.regexIndex===0?(Be+=W[0],1):(qt=!0,0)}function Ut(W){let Z=W[0],ye=W.rule,qe=new i0(ye),pt=[ye.__beforeBegin,ye["on:begin"]];for(let Yt of pt)if(Yt&&(Yt(W,qe),qe.isMatchIgnored))return Zt(Z);return ye.skip?Be+=Z:(ye.excludeBegin&&(Be+=Z),Ke(),!ye.returnBegin&&!ye.excludeBegin&&(Be=Z)),At(ye,W),ye.returnBegin?0:Z.length}function Kt(W){let Z=W[0],ye=H.substring(W.index),qe=Fe(me,W,ye);if(!qe)return u0;let pt=me;me.endScope&&me.endScope._wrap?(Ke(),it(Z,me.endScope._wrap)):me.endScope&&me.endScope._multi?(Ke(),sn(me.endScope,W)):pt.skip?Be+=Z:(pt.returnEnd||pt.excludeEnd||(Be+=Z),Ke(),pt.excludeEnd&&(Be=Z));do me.scope&&Ie.closeNode(),!me.skip&&!me.subLanguage&&($t+=me.relevance),me=me.parent;while(me!==qe.parent);return qe.starts&&At(qe.starts,W),pt.returnEnd?0:Z.length}function Wn(){let W=[];for(let Z=me;Z!==Tt;Z=Z.parent)Z.scope&&W.unshift(Z.scope);W.forEach(Z=>Ie.openNode(Z))}let mt={};function fn(W,Z){let ye=Z&&Z[0];if(Be+=W,ye==null)return Ke(),0;if(mt.type==="begin"&&Z.type==="end"&&mt.index===Z.index&&ye===""){if(Be+=H.slice(Z.index,Z.index+1),!i){let qe=new Error(`0 width match regex (${N})`);throw qe.languageName=N,qe.badRule=mt.rule,qe}return 1}if(mt=Z,Z.type==="begin")return Ut(Z);if(Z.type==="illegal"&&!re){let qe=new Error('Illegal lexeme "'+ye+'" for mode "'+(me.scope||"<unnamed>")+'"');throw qe.mode=me,qe}else if(Z.type==="end"){let qe=Kt(Z);if(qe!==u0)return qe}if(Z.type==="illegal"&&ye==="")return 1;if(Qt>1e5&&Qt>Z.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Be+=ye,ye.length}let Tt=J(N);if(!Tt)throw Gi(s.replace("{}",N)),new Error('Unknown language: "'+N+'"');let Bt=O2(Tt),Rn="",me=se||Bt,Ot={},Ie=new c.__emitter(c);Wn();let Be="",$t=0,Xt=0,Qt=0,qt=!1;try{if(Tt.__emitTokens)Tt.__emitTokens(H,Ie);else{for(me.matcher.considerAll();;){Qt++,qt?qt=!1:me.matcher.considerAll(),me.matcher.lastIndex=Xt;let W=me.matcher.exec(H);if(!W)break;let Z=H.substring(Xt,W.index),ye=fn(Z,W);Xt=W.index+ye}fn(H.substring(Xt))}return Ie.finalize(),Rn=Ie.toHTML(),{language:N,value:Rn,relevance:$t,illegal:!1,_emitter:Ie,_top:me}}catch(W){if(W.message&&W.message.includes("Illegal"))return{language:N,value:Nd(H),illegal:!0,relevance:0,_illegalBy:{message:W.message,index:Xt,context:H.slice(Xt-100,Xt+100),mode:W.mode,resultSoFar:Rn},_emitter:Ie};if(i)return{language:N,value:Nd(H),illegal:!1,relevance:0,errorRaised:W,_emitter:Ie,_top:me};throw W}}function g(N){let H={value:Nd(N),illegal:!1,relevance:0,_top:a,_emitter:new c.__emitter(c)};return H._emitter.addText(N),H}function b(N,H){H=H||c.languages||Object.keys(t);let re=g(N),se=H.filter(J).filter(ke).map(Ke=>m(Ke,N,!1));se.unshift(re);let he=se.sort((Ke,it)=>{if(Ke.relevance!==it.relevance)return it.relevance-Ke.relevance;if(Ke.language&&it.language){if(J(Ke.language).supersetOf===it.language)return 1;if(J(it.language).supersetOf===Ke.language)return-1}return 0}),[Pe,vt]=he,wt=Pe;return wt.secondBest=vt,wt}function v(N,H,re){let se=H&&n[H]||re;N.classList.add("hljs"),N.classList.add(`language-${se}`)}function E(N){let H=null,re=p(N);if(u(re))return;if(De("before:highlightElement",{el:N,language:re}),N.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",N);return}if(N.children.length>0&&(c.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(N)),c.throwUnescapedHTML))throw new R2("One of your code blocks includes unescaped HTML.",N.innerHTML);H=N;let se=H.textContent,he=re?h(se,{language:re,ignoreIllegals:!0}):b(se);N.innerHTML=he.value,N.dataset.highlighted="yes",v(N,re,he.language),N.result={language:he.language,re:he.relevance,relevance:he.relevance},he.secondBest&&(N.secondBest={language:he.secondBest.language,relevance:he.secondBest.relevance}),De("after:highlightElement",{el:N,result:he,text:se})}function k(N){c=c0(c,N)}let T=()=>{A(),ko("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function B(){A(),ko("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let L=!1;function A(){if(document.readyState==="loading"){L=!0;return}document.querySelectorAll(c.cssSelector).forEach(E)}function U(){L&&A()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",U,!1);function $(N,H){let re=null;try{re=H(e)}catch(se){if(Gi("Language definition for '{}' could not be registered.".replace("{}",N)),i)Gi(se);else throw se;re=a}re.name||(re.name=N),t[N]=re,re.rawDefinition=H.bind(null,e),re.aliases&&pe(re.aliases,{languageName:N})}function q(N){delete t[N];for(let H of Object.keys(n))n[H]===N&&delete n[H]}function ne(){return Object.keys(t)}function J(N){return N=(N||"").toLowerCase(),t[N]||t[n[N]]}function pe(N,{languageName:H}){typeof N=="string"&&(N=[N]),N.forEach(re=>{n[re.toLowerCase()]=H})}function ke(N){let H=J(N);return H&&!H.disableAutodetect}function be(N){N["before:highlightBlock"]&&!N["before:highlightElement"]&&(N["before:highlightElement"]=H=>{N["before:highlightBlock"](Object.assign({block:H.el},H))}),N["after:highlightBlock"]&&!N["after:highlightElement"]&&(N["after:highlightElement"]=H=>{N["after:highlightBlock"](Object.assign({block:H.el},H))})}function ue(N){be(N),r.push(N)}function ze(N){let H=r.indexOf(N);H!==-1&&r.splice(H,1)}function De(N,H){let re=N;r.forEach(function(se){se[re]&&se[re](H)})}function Oe(N){return ko("10.7.0","highlightBlock will be removed entirely in v12.0"),ko("10.7.0","Please use highlightElement now."),E(N)}Object.assign(e,{highlight:h,highlightAuto:b,highlightAll:A,highlightElement:E,highlightBlock:Oe,configure:k,initHighlighting:T,initHighlightingOnLoad:B,registerLanguage:$,unregisterLanguage:q,listLanguages:ne,getLanguage:J,registerAliases:pe,autoDetection:ke,inherit:c0,addPlugin:ue,removePlugin:ze}),e.debugMode=function(){i=!1},e.safeMode=function(){i=!0},e.versionString=L2,e.regex={concat:to,lookahead:Gy,either:dh,optional:GR,anyNumberOfTimes:VR};for(let N in yl)typeof yl[N]=="object"&&qy(yl[N]);return Object.assign(e,yl),e},Ko=rv({});Ko.newInstance=()=>rv({});var I2=Ko;Ko.HighlightJS=Ko;Ko.default=Ko;var B2=jR(I2);function iv(e,t=[]){return e.map(n=>{let r=[...t,...n.properties?n.properties.className:[]];return n.children?iv(n.children,r):{text:n.value,classes:r}}).flat()}function d0(e){return e.value||e.children||[]}function $2(e){return!!B2.getLanguage(e)}function p0({doc:e,name:t,lowlight:n,defaultLanguage:r}){let i=[];return js(e,s=>s.type.name===t).forEach(s=>{let a=s.pos+1,c=s.node.attrs.language||r,u=n.listLanguages(),p=c&&(u.includes(c)||$2(c))?d0(n.highlight(c,s.node.textContent)):d0(n.highlightAuto(s.node.textContent));iv(p).forEach(h=>{let m=a+h.text.length;if(h.classes.length){let g=Nr.inline(a,m,{class:h.classes.join(" ")});i.push(g)}a=m})}),dn.create(e,i)}function H2(e){return typeof e=="function"}function z2({name:e,lowlight:t,defaultLanguage:n}){if(!["highlight","highlightAuto","listLanguages"].every(i=>H2(t[i])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");let r=new Dt({key:new It("lowlight"),state:{init:(i,{doc:s})=>p0({doc:s,name:e,lowlight:t,defaultLanguage:n}),apply:(i,s,a,c)=>{let u=a.selection.$head.parent.type.name,p=c.selection.$head.parent.type.name,h=js(a.doc,g=>g.type.name===e),m=js(c.doc,g=>g.type.name===e);return i.docChanged&&([u,p].includes(e)||m.length!==h.length||i.steps.some(g=>g.from!==void 0&&g.to!==void 0&&h.some(b=>b.pos>=g.from&&b.pos+b.node.nodeSize<=g.to)))?p0({doc:i.doc,name:e,lowlight:t,defaultLanguage:n}):s.map(i.mapping,i.doc)}},props:{decorations(i){return r.getState(i)}}});return r}var F2=FR.extend({addOptions(){var e;return{...(e=this.parent)===null||e===void 0?void 0:e.call(this),lowlight:{}}},addProseMirrorPlugins(){var e;return[...((e=this.parent)===null||e===void 0?void 0:e.call(this))||[],z2({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}}),j2=F2.extend({addKeyboardShortcuts(){var e;return{...(e=this.parent)==null?void 0:e.call(this),ArrowDown:()=>{let t=this.editor.state,{from:n,to:r}=t.selection;if(n>1&&n===r){let i=!1;t.doc.nodesBetween(n-1,r-1,a=>{a.type.name==="codeBlock"&&(i=!0)});let s=!0;if(t.doc.nodesBetween(n+1,r+1,a=>{a&&(s=!1)}),i&&s)return this.editor.commands.setHardBreak()}return!1}}}}),P2=Qe.create({name:"hurdle",group:"block",content:"block+",addOptions(){return{colors:["gray_light","gray","gray_dark","primary","secondary","tertiary","accent"],HTMLAttributes:{class:"filament-tiptap-hurdle"}}},addAttributes(){return{color:{default:"gray",parseHTML:e=>e.getAttribute("data-color"),renderHTML:e=>({"data-color":e.color})}}},parseHTML(){return[{tag:"div",getAttrs:e=>e.classList.contains("filament-tiptap-hurdle")}]},renderHTML({node:e,HTMLAttributes:t}){return["div",Me(this.options.HTMLAttributes,t),0]},addCommands(){return{setHurdle:e=>({commands:t})=>this.options.colors.includes(e.color)?t.toggleWrap(this.name,e):!1}}});Pt.create({name:"textAlign",addOptions(){return{types:[],alignments:["start","center","end","justify"],defaultAlignment:"start"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>e.style.textAlign||this.options.defaultAlignment,renderHTML:e=>e.style&&e.style.includes("text-align")?{}:e.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${e.textAlign}`}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.every(n=>t.updateAttributes(n,{textAlign:e})):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.every(t=>e.resetAttributes(t,"textAlign"))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("start"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("end"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}});function Ld(e,t,n=null){return n?e.createChecked({"data-col-span":t},n):e.createAndFill({"data-col-span":t})}function U2(e){if(e.cached.gridBuilderNodeTypes)return e.cached.gridBuilderNodeTypes;let t={};return Object.keys(e.nodes).forEach(n=>{let r=e.nodes[n];r.spec.gridBuilderRole&&(t[r.spec.gridBuilderRole]=r)}),e.cached.gridBuilderNodeTypes=t,t}function K2(e,t,n,r,i,s,a){let c=U2(e),u=[];if(n==="asymmetric")u.push(Ld(c.builderColumn,i,a)),u.push(Ld(c.builderColumn,s,a));else for(let p=0;p<t;p+=1){let h=Ld(c.builderColumn,null,a);h&&u.push(h)}return c.gridBuilder.createChecked({"data-cols":t,"data-type":n,"data-stack-at":r},u)}var q2=Qe.create({name:"gridBuilder",group:"block",defining:!0,isolating:!0,allowGapCursor:!1,content:"gridBuilderColumn+",gridBuilderRole:"gridBuilder",addOptions(){return{HTMLAttributes:{class:"filament-tiptap-grid-builder"}}},addAttributes(){return{"data-type":{default:"responsive",parseHTML:e=>e.getAttribute("data-type")},"data-cols":{default:2,parseHTML:e=>e.getAttribute("data-cols")},"data-stack-at":{default:"md",parseHTML:e=>e.getAttribute("data-stack-at")},style:{default:null,parseHTML:e=>e.getAttribute("style"),renderHTML:e=>({style:`grid-template-columns: repeat(${e["data-cols"]}, 1fr);`})}}},parseHTML(){return[{tag:"div",getAttrs:e=>e.classList.contains("filament-tiptap-grid-builder")&&null}]},renderHTML({HTMLAttributes:e}){return["div",Me(this.options.HTMLAttributes,e),0]},addCommands(){return{insertGridBuilder:({cols:e=3,type:t="responsive",stackAt:n,asymmetricLeft:r=null,asymmetricRight:i=null}={})=>({tr:s,dispatch:a,editor:c})=>{let u=K2(c.schema,e,t,n,r,i);if(a){let p=s.selection.anchor+1;s.replaceSelectionWith(u).scrollIntoView().setSelection(xe.near(s.doc.resolve(p)))}return!0}}},addKeyboardShortcuts(){return{"Mod-Alt-G":()=>this.editor.commands.insertGridBuilder()}},extendNodeSchema(e){let t={name:e.name,options:e.options,storage:e.storage};return{gridBuilderRole:St(jt(e,"gridBuilderRole",t))}}}),W2=Qe.create({name:"gridBuilderColumn",content:"block+",gridBuilderRole:"builderColumn",isolating:!0,addOptions(){return{HTMLAttributes:{class:"filament-tiptap-grid-builder__column"}}},addAttributes(){return{"data-col-span":{default:1,parseHTML:e=>e.getAttribute("data-col-span")},style:{default:null,parseHTML:e=>e.getAttribute("style"),renderHTML:e=>({style:`grid-column: span ${e["data-col-span"]};`})}}},parseHTML(){return[{tag:"div",getAttrs:e=>e.classList.contains("filament-tiptap-grid-builder__column")&&null}]},renderHTML({HTMLAttributes:e}){return["div",Me(this.options.HTMLAttributes,e),0]}});Pt.create({name:"dragAndDrop",addProseMirrorPlugins(e){return[new Dt({props:{handleDrop(t,n){if(!n)return!1;n.preventDefault();let r=t.posAtCoords({left:n.clientX,top:n.clientY});return n.dataTransfer.getData("block")?(n.target.dispatchEvent(new CustomEvent("dragged-block",{detail:{type:n.dataTransfer.getData("block"),coordinates:r},bubbles:!0})),!1):(n.dataTransfer.getData("mergeTag")&&n.target.dispatchEvent(new CustomEvent("dragged-merge-tag",{detail:{tag:n.dataTransfer.getData("mergeTag"),coordinates:r},bubbles:!0})),!1)}}})]}});Qe.create({name:"tiptapBlock",group:"block",atom:!0,defining:!0,draggable:!0,selectable:!0,isolating:!0,allowGapCursor:!0,inline:!1,addAttributes(){return{preview:{default:null,parseHTML:e=>e.getAttribute("data-preview"),renderHTML:e=>e.preview?{"data-preview":e.preview}:null},statePath:{default:null,parseHTML:e=>e.getAttribute("data-state-path"),renderHTML:e=>e.statePath?{"data-state-path":e.statePath}:null},type:{default:null,parseHTML:e=>e.getAttribute("data-type"),renderHTML:e=>e.type?{"data-type":e.type}:null},label:{default:null,parseHTML:e=>e.getAttribute("data-label"),renderHTML:e=>e.label?{"data-label":e.label}:null},data:{default:null,parseHTML:e=>e.getAttribute("data-data"),renderHTML:e=>e.data?{"data-data":JSON.stringify(e.data)}:null}}},parseHTML(){return[{tag:"tiptap-block"}]},renderHTML({HTMLAttributes:e}){return["tiptap-block",Me(e)]},addNodeView(){return({editor:e,node:t,getPos:n})=>{let r=document.createElement("div");r.contentEditable="false",r.classList.add("tiptap-block-wrapper");let i=typeof t.attrs.data=="object"?JSON.stringify(t.attrs.data):t.attrs.data;return r.innerHTML=`
                <div
                    x-data="{
                        showOptionsButton: ${i==="[]"?"false":"true"},
                        openSettings() {
                            this.$dispatch('open-block-settings', {
                                type: \`${t.attrs.type}\`,
                                statePath: \`${e.commands.getStatePath()}\`,
                                data: ${i},
                                coordinates: ${n()}
                            })
                        },
                        deleteBlock() {
                            this.$dispatch('delete-block')
                        }
                    }"
                    class="tiptap-block"
                    style="min-height: 3rem;"
                >
                    <div class="tiptap-block-heading">
                        <h3 class="tiptap-block-title">${t.attrs.label}</h3>
                        <div x-show="! disabled" class="tiptap-block-actions">
                            <button x-show="showOptionsButton" type="button" x-on:click="openSettings">
                                <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M7.84 1.804A1 1 0 018.82 1h2.36a1 1 0 01.98.804l.331 1.652a6.993 6.993 0 011.929 1.115l1.598-.54a1 1 0 011.186.447l1.18 2.044a1 1 0 01-.205 1.251l-1.267 1.113a7.047 7.047 0 010 2.228l1.267 1.113a1 1 0 01.206 1.25l-1.18 2.045a1 1 0 01-1.187.447l-1.598-.54a6.993 6.993 0 01-1.929 1.115l-.33 1.652a1 1 0 01-.98.804H8.82a1 1 0 01-.98-.804l-.331-1.652a6.993 6.993 0 01-1.929-1.115l-1.598.54a1 1 0 01-1.186-.447l-1.18-2.044a1 1 0 01.205-1.251l1.267-1.114a7.05 7.05 0 010-2.227L1.821 7.773a1 1 0 01-.206-1.25l1.18-2.045a1 1 0 011.187-.447l1.598.54A6.993 6.993 0 017.51 3.456l.33-1.652zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd" />
                                </svg>
                            </button>
                            <button type="button" x-on:click="deleteBlock()">
                                <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z" clip-rule="evenodd" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="preview">
                        ${t.attrs.preview}
                    </div>
                </div>
            `,{dom:r}}},addCommands(){return{insertBlock:e=>({chain:t,state:n})=>{var u;let r=t();if(![null,void 0].includes((u=e.coordinates)==null?void 0:u.pos))return r.insertContentAt({from:e.coordinates.pos,to:e.coordinates.pos},{type:this.name,attrs:e}),r.setTextSelection(e.coordinates.pos);let{selection:i}=n,{$from:s,$to:a}=i,c=s.blockRange(a);return c?(a.parentOffset===0?r.insertContentAt(Math.max(a.pos-1,0),{type:this.name,attrs:e}):r.insertContentAt({from:c.start,to:c.end},{type:this.name,attrs:e}),r.setTextSelection(c.end)):(a.parentOffset===0?r.insertContentAt(Math.max(a.pos-1,0),{type:"paragraph"}).insertContentAt({from:s.pos,to:a.pos},{type:this.name,attrs:e}):r.setNode({type:"paragraph"}).insertContentAt({from:s.pos,to:a.pos},{type:this.name,attrs:e}),r.setTextSelection(a.pos+1))},updateBlock:e=>({commands:t,chain:n,state:r})=>{let{selection:i}=r,{$from:s,$to:a}=i,c=s.blockRange(a),u=n();return c?(u.insertContentAt({from:c.start,to:c.end},{type:this.name,attrs:e}),u.focus(c.end+1)):e.coordinates?(u.insertContentAt({from:e.coordinates,to:e.coordinates+1},{type:this.name,attrs:e}),!1):(u.insertContentAt({from:s.pos,to:s.pos+1},{type:this.name,attrs:e}),!1)},removeBlock:()=>({commands:e})=>e.deleteSelection()}}});function V2(e){var t;let{char:n,allowSpaces:r,allowedPrefixes:i,startOfLine:s,$position:a}=e,c=uT(n),u=new RegExp(`\\s${c}$`),p=s?"^":"",h=r?new RegExp(`${p}${c}.*?(?=\\s${c}|$)`,"gm"):new RegExp(`${p}(?:^)?${c}[^\\s${c}]*`,"gm"),m=((t=a.nodeBefore)===null||t===void 0?void 0:t.isText)&&a.nodeBefore.text;if(!m)return null;let g=a.pos-m.length,b=Array.from(m.matchAll(h)).pop();if(!b||b.input===void 0||b.index===void 0)return null;let v=b.input.slice(Math.max(0,b.index-1),b.index),E=new RegExp(`^[${i==null?void 0:i.join("")}\0]?$`).test(v);if(i!==null&&!E)return null;let k=g+b.index,T=k+b[0].length;return r&&u.test(m.slice(T-1,T+1))&&(b[0]+=" ",T+=1),k<a.pos&&T>=a.pos?{range:{from:k,to:T},query:b[0].slice(n.length),text:b[0]}:null}var G2=new It("suggestion");function J2({pluginKey:e=G2,editor:t,char:n="@",allowSpaces:r=!1,allowedPrefixes:i=[" "],startOfLine:s=!1,decorationTag:a="span",decorationClass:c="suggestion",command:u=()=>null,items:p=()=>[],render:h=()=>({}),allow:m=()=>!0,findSuggestionMatch:g=V2}){let b,v=h==null?void 0:h(),E=new Dt({key:e,view(){return{update:async(k,T)=>{var B,L,A,U,$,q,ne;let J=(B=this.key)===null||B===void 0?void 0:B.getState(T),pe=(L=this.key)===null||L===void 0?void 0:L.getState(k.state),ke=J.active&&pe.active&&J.range.from!==pe.range.from,be=!J.active&&pe.active,ue=J.active&&!pe.active,ze=!be&&!ue&&J.query!==pe.query,De=be||ke&&ze,Oe=ze||ke,N=ue||ke&&ze;if(!De&&!Oe&&!N)return;let H=N&&!De?J:pe,re=k.dom.querySelector(`[data-decoration-id="${H.decorationId}"]`);b={editor:t,range:H.range,query:H.query,text:H.text,items:[],command:se=>u({editor:t,range:H.range,props:se}),decorationNode:re,clientRect:re?()=>{var se;let{decorationId:he}=(se=this.key)===null||se===void 0?void 0:se.getState(t.state),Pe=k.dom.querySelector(`[data-decoration-id="${he}"]`);return(Pe==null?void 0:Pe.getBoundingClientRect())||null}:null},De&&((A=v==null?void 0:v.onBeforeStart)===null||A===void 0||A.call(v,b)),Oe&&((U=v==null?void 0:v.onBeforeUpdate)===null||U===void 0||U.call(v,b)),(Oe||De)&&(b.items=await p({editor:t,query:H.query})),N&&(($=v==null?void 0:v.onExit)===null||$===void 0||$.call(v,b)),Oe&&((q=v==null?void 0:v.onUpdate)===null||q===void 0||q.call(v,b)),De&&((ne=v==null?void 0:v.onStart)===null||ne===void 0||ne.call(v,b))},destroy:()=>{var k;b&&((k=v==null?void 0:v.onExit)===null||k===void 0||k.call(v,b))}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(k,T,B,L){let{isEditable:A}=t,{composing:U}=t.view,{selection:$}=k,{empty:q,from:ne}=$,J={...T};if(J.composing=U,A&&(q||t.view.composing)){(ne<T.range.from||ne>T.range.to)&&!U&&!T.composing&&(J.active=!1);let pe=g({char:n,allowSpaces:r,allowedPrefixes:i,startOfLine:s,$position:$.$from}),ke=`id_${Math.floor(Math.random()*4294967295)}`;pe&&m({editor:t,state:L,range:pe.range,isActive:T.active})?(J.active=!0,J.decorationId=T.decorationId?T.decorationId:ke,J.range=pe.range,J.query=pe.query,J.text=pe.text):J.active=!1}else J.active=!1;return J.active||(J.decorationId=null,J.range={from:0,to:0},J.query=null,J.text=null),J}},props:{handleKeyDown(k,T){var B;let{active:L,range:A}=E.getState(k.state);return L&&((B=v==null?void 0:v.onKeyDown)===null||B===void 0?void 0:B.call(v,{view:k,event:T,range:A}))||!1},decorations(k){let{active:T,range:B,decorationId:L}=E.getState(k);return T?dn.create(k.doc,[Nr.inline(B.from,B.to,{nodeName:a,class:c,"data-decoration-id":L})]):null}}});return E}var Z2=new It("mergeTag");Qe.create({name:"mergeTag",group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes(){return{id:{default:null,parseHTML:e=>e.getAttribute("data-id"),renderHTML:e=>e.id?{"data-id":e.id}:{}}}},parseHTML(){return[{tag:`span[data-type='${this.name}']`}]},renderHTML({node:e,HTMLAttributes:t}){return["span",Me({"data-type":this.name},t),`{{ ${e.attrs.id} }}`]},renderText({node:e}){return`{{ ${e.attrs.id} }}`},addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.command(({tr:e,state:t})=>{let n=!1,{selection:r}=t,{empty:i,anchor:s}=r;return i?(t.doc.nodesBetween(s-1,s,(a,c)=>{if(a.type.name===this.name)return n=!0,e.insertText("{{",c,c+a.nodeSize),!1}),n):!1})}},addCommands(){return{insertMergeTag:e=>({chain:t,state:n})=>{var i;let r=t();if(![null,void 0].includes((i=e.coordinates)==null?void 0:i.pos))return r.insertContentAt({from:e.coordinates.pos,to:e.coordinates.pos},[{type:this.name,attrs:{id:e.tag}},{type:"text",text:" "}]),r}}},addProseMirrorPlugins(){return[J2({editor:this.editor,char:"{{",items:({query:e})=>this.options.mergeTags.filter(t=>t.toLowerCase().startsWith(e.toLowerCase())).slice(0,5),pluginKey:Z2,command:({editor:e,range:t,props:n})=>{var r,i,s;(i=(r=e.view.state.selection.$to.nodeAfter)==null?void 0:r.text)!=null&&i.startsWith(" ")&&(t.to+=1),e.chain().focus().insertContentAt(t,[{type:this.name,attrs:n},{type:"text",text:" "}]).run(),(s=window.getSelection())==null||s.collapseToEnd()},allow:({state:e,range:t})=>{let n=e.doc.resolve(t.from),r=e.schema.nodes[this.name];return!!n.parent.type.contentMatch.matchType(r)},render:()=>{let e,t;return{onStart:n=>{if(!n.clientRect)return;let r=`
                                <div
                                    x-data="{

                                        items: ['${n.items.join("', '")}'],

                                        selectedIndex: 0,

                                        init: function () {
                                            this.$el.parentElement.addEventListener(
                                                'merge-tags-key-down',
                                                (event) => this.onKeyDown(event.detail),
                                            );

                                            this.$el.parentElement.addEventListener(
                                                'merge-tags-update-items',
                                                (event) => (items = event.detail),
                                            );
                                        },

                                        onKeyDown: function (event) {
                                            if (event.key === 'ArrowUp') {
                                                event.preventDefault();
                                                this.selectedIndex = ((this.selectedIndex + this.items.length) - 1) % this.items.length;

                                                return true;
                                            };

                                            if (event.key === 'ArrowDown') {
                                                event.preventDefault();
                                                this.selectedIndex = (this.selectedIndex + 1) % this.items.length;

                                                return true;
                                            };

                                            if (event.key === 'Enter') {
                                                event.preventDefault();
                                                this.selectItem(this.selectedIndex);

                                                return true;
                                            };

                                            return false;
                                        },

                                        selectItem: function (index) {
                                            const item = this.items[index];

                                            if (! item) {
                                                return;
                                            };

                                            $el.parentElement.dispatchEvent(new CustomEvent('merge-tags-select', { detail: { item } }));
                                        },

                                    }"
                                    class="tippy-content-p-0"
                                >
                                    <template x-for="(item, index) in items" :key="index">
                                        <button
                                            x-text="item"
                                            x-on:click="selectItem(index)"
                                            :class="{ 'bg-primary-500': index === selectedIndex }"
                                            class="block w-full text-left rounded px-2 py-1"
                                        ></button>
                                    </template>
                                </div>
                            `;e=document.createElement("div"),e.innerHTML=r,e.addEventListener("merge-tags-select",i=>{n.command({id:i.detail.item})}),t=rh("body",{getReferenceClientRect:n.clientRect,appendTo:()=>document.body,content:e,allowHTML:!0,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"})},onUpdate(n){if(!n.items.length){t[0].hide();return}t[0].show(),e.dispatchEvent(new CustomEvent("merge-tags-update-items",{detail:n.items}))},onKeyDown(n){e.dispatchEvent(new CustomEvent("merge-tags-key-down",{detail:n.event}))},onExit(){t[0].destroy()}}}})]}});Pt.create({name:"classExtension",addGlobalAttributes(){return[{types:["heading","paragraph","link","image","listItem","bulletList","orderedList","table","tableHeader","tableRow","tableCell","textStyle"],attributes:{class:{default:null,parseHTML:e=>e.getAttribute("class")??null,renderHTML:e=>e.class?{class:e.class}:null}}}]}});Pt.create({name:"idExtension",addGlobalAttributes(){return[{types:["heading","link"],attributes:{id:{default:null,parseHTML:e=>e.getAttribute("id")??null,renderHTML:e=>e.id?{id:e.id}:null}}}]}});Pt.create({name:"styleExtension",addGlobalAttributes(){return[{types:["heading","paragraph","link","image","listItem","bulletList","orderedList","table","tableHeader","tableRow","tableCell","textStyle"],attributes:{style:{default:null,parseHTML:e=>e.getAttribute("style")??null,renderHTML:e=>e.style?{style:e.style}:null}}}]}});Pt.create({name:"statePath",addOptions(){return{statePath:null}},addStorage(){return{statePath:null}},onBeforeCreate(){this.storage.statePath=this.options.statePath},addCommands(){return{getStatePath:()=>()=>this.storage.statePath}}});function X2(e){let t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",s="(?!struct)("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},p={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},h={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},m=t.optional(i)+e.IDENT_RE+"\\s*\\(",g=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],b=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],v=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],E=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],k={type:b,keyword:g,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:v},T={className:"function.dispatch",relevance:0,keywords:{_hint:E},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},B=[T,p,a,n,e.C_BLOCK_COMMENT_MODE,u,c],L={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:k,contains:B.concat([{begin:/\(/,end:/\)/,keywords:k,contains:B.concat(["self"]),relevance:0}]),relevance:0},A={className:"function",begin:"("+s+"[\\*&\\s]+)+"+m,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:k,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:k,relevance:0},{begin:m,returnBegin:!0,contains:[h],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,u]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:k,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,c,u,a,{begin:/\(/,end:/\)/,keywords:k,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,c,u,a]}]},a,n,e.C_BLOCK_COMMENT_MODE,p]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:k,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(L,A,T,B,[p,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:k,contains:["self",a]},{begin:e.IDENT_RE+"::",keywords:k},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function Q2(e){let t={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=X2(e),r=n.keywords;return r.type=[...r.type,...t.type],r.literal=[...r.literal,...t.literal],r.built_in=[...r.built_in,...t.built_in],r._hints=t._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function Y2(e){let t=e.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});let i={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},s={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},a={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,i]};i.contains.push(a);let c={className:"",begin:/\\"/},u={className:"string",begin:/'/,end:/'/},p={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},h=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],m=e.SHEBANG({binary:`(${h.join("|")})`,relevance:10}),g={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},b=["if","then","else","elif","fi","for","while","until","in","do","done","case","esac","function","select"],v=["true","false"],E={match:/(\/[a-z._-]+)+/},k=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],T=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","type","typeset","ulimit","unalias"],B=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],L=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:b,literal:v,built_in:[...k,...T,"set","shopt",...B,...L]},contains:[m,e.SHEBANG(),g,p,e.HASH_COMMENT_MODE,s,E,a,c,u,n]}}function eD(e){let t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",s="("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",a={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},p={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},h={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},m=t.optional(i)+e.IDENT_RE+"\\s*\\(",g={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal128","const","static","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},b=[p,a,n,e.C_BLOCK_COMMENT_MODE,u,c],v={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:g,contains:b.concat([{begin:/\(/,end:/\)/,keywords:g,contains:b.concat(["self"]),relevance:0}]),relevance:0},E={begin:"("+s+"[\\*&\\s]+)+"+m,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:g,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:g,relevance:0},{begin:m,returnBegin:!0,contains:[e.inherit(h,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:g,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,c,u,a,{begin:/\(/,end:/\)/,keywords:g,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,c,u,a]}]},a,n,e.C_BLOCK_COMMENT_MODE,p]};return{name:"C",aliases:["h"],keywords:g,disableAutodetect:!0,illegal:"</",contains:[].concat(v,E,b,[p,{begin:e.IDENT_RE+"::",keywords:g},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:p,strings:c,keywords:g}}}function tD(e){let t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",s="(?!struct)("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},p={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},h={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},m=t.optional(i)+e.IDENT_RE+"\\s*\\(",g=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],b=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],v=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],E=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],k={type:b,keyword:g,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:v},T={className:"function.dispatch",relevance:0,keywords:{_hint:E},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},B=[T,p,a,n,e.C_BLOCK_COMMENT_MODE,u,c],L={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:k,contains:B.concat([{begin:/\(/,end:/\)/,keywords:k,contains:B.concat(["self"]),relevance:0}]),relevance:0},A={className:"function",begin:"("+s+"[\\*&\\s]+)+"+m,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:k,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:k,relevance:0},{begin:m,returnBegin:!0,contains:[h],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,u]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:k,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,c,u,a,{begin:/\(/,end:/\)/,keywords:k,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,c,u,a]}]},a,n,e.C_BLOCK_COMMENT_MODE,p]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:k,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(L,A,T,B,[p,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:k,contains:["self",a]},{begin:e.IDENT_RE+"::",keywords:k},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function nD(e){let t=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],s=["add","alias","and","ascending","async","await","by","descending","equals","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","remove","select","set","unmanaged","value|0","var","when","where","with","yield"],a={keyword:i.concat(s),built_in:t,literal:r},c=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),u={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},p={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},h=e.inherit(p,{illegal:/\n/}),m={className:"subst",begin:/\{/,end:/\}/,keywords:a},g=e.inherit(m,{illegal:/\n/}),b={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,g]},v={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},m]},E=e.inherit(v,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},g]});m.contains=[v,b,p,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,u,e.C_BLOCK_COMMENT_MODE],g.contains=[E,b,h,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,u,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];let k={variants:[v,b,p,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},T={begin:"<",end:">",contains:[{beginKeywords:"in out"},c]},B=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",L={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:a,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},k,u,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},c,T,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[c,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[c,T,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+B+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:a,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,T],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,relevance:0,contains:[k,u,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},L]}}var rD=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),iD=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],oD=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],sD=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],aD=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],lD=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function cD(e){let t=e.regex,n=rD(e),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",s=/@-?\w[\w]*(-\w+)*/,a="[a-zA-Z-][a-zA-Z0-9_-]*",c=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+a,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+sD.join("|")+")"},{begin:":(:)?("+aD.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+lD.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...c,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...c,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:oD.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...c,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+iD.join("|")+")\\b"}]}}function uD(e){let t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function dD(e){let t={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:t,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{begin:e.C_NUMBER_RE+"[i]",relevance:1},e.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,illegal:/["']/}]}]}}function pD(e){let t=e.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:t.concat(n,t.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function hD(e){let t=e.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},r=e.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];let i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},s={className:"literal",begin:/\bon|off|true|false|yes|no\b/},a={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},c={begin:/\[/,end:/\]/,contains:[r,s,i,a,n,"self"],relevance:0},u=/[A-Za-z0-9_-]+/,p=/"(\\"|[^"])*"/,h=/'[^']*'/,m=t.either(u,p,h),g=t.concat(m,"(\\s*\\.\\s*",m,")*",t.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:g,className:"attr",starts:{end:/$/,contains:[r,c,s,i,a,n]}}]}}var No="[0-9](_*[0-9])*",vl=`\\.(${No})`,wl="[0-9a-fA-F](_*[0-9a-fA-F])*",h0={className:"number",variants:[{begin:`(\\b(${No})((${vl})|\\.)?|(${vl}))[eE][+-]?(${No})[fFdD]?\\b`},{begin:`\\b(${No})((${vl})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${vl})[fFdD]?\\b`},{begin:`\\b(${No})[fFdD]\\b`},{begin:`\\b0[xX]((${wl})\\.?|(${wl})?\\.(${wl}))[pP][+-]?(${No})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${wl})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function ov(e,t,n){return n===-1?"":e.replace(t,r=>ov(e,t,n-1))}function fD(e){let t=e.regex,n="[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",r=n+ov("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),i={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},s={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},a={className:"params",begin:/\(/,end:/\)/,keywords:i,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:i,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[a,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:i,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:i,relevance:0,contains:[s,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h0,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},h0,s]}}var f0="[A-Za-z$_][0-9A-Za-z$_]*",mD=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],gD=["true","false","null","undefined","NaN","Infinity"],sv=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],av=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],lv=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],bD=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],yD=[].concat(lv,sv,av);function vD(e){let t=e.regex,n=(N,{after:H})=>{let re="</"+N[0].slice(1);return N.input.indexOf(re,H)!==-1},r=f0,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(N,H)=>{let re=N[0].length+N.index,se=N.input[re];if(se==="<"||se===","){H.ignoreMatch();return}se===">"&&(n(N,{after:re})||H.ignoreMatch());let he,Pe=N.input.substring(re);if(he=Pe.match(/^\s*=/)){H.ignoreMatch();return}if((he=Pe.match(/^\s+extends\s+/))&&he.index===0){H.ignoreMatch();return}}},c={$pattern:f0,keyword:mD,literal:gD,built_in:yD,"variable.language":bD},u="[0-9](_?[0-9])*",p=`\\.(${u})`,h="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",m={className:"number",variants:[{begin:`(\\b(${h})((${p})|\\.)?|(${p}))[eE][+-]?(${u})\\b`},{begin:`\\b(${h})\\b((${p})\\b|\\.)?|(${p})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},g={className:"subst",begin:"\\$\\{",end:"\\}",keywords:c,contains:[]},b={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"xml"}},v={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"css"}},E={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"graphql"}},k={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,g]},T={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},B=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,b,v,E,k,{match:/\$\d+/},m];g.contains=B.concat({begin:/\{/,end:/\}/,keywords:c,contains:["self"].concat(B)});let L=[].concat(T,g.contains),A=L.concat([{begin:/\(/,end:/\)/,keywords:c,contains:["self"].concat(L)}]),U={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:A},$={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},q={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...sv,...av]}},ne={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},J={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[U],illegal:/%/},pe={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function ke(N){return t.concat("(?!",N.join("|"),")")}let be={match:t.concat(/\b/,ke([...lv,"super","import"]),r,t.lookahead(/\(/)),className:"title.function",relevance:0},ue={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},ze={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},U]},De="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",Oe={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(De)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[U]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:c,exports:{PARAMS_CONTAINS:A,CLASS_REFERENCE:q},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),ne,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,b,v,E,k,T,{match:/\$\d+/},m,q,{className:"attr",begin:r+t.lookahead(":"),relevance:0},Oe,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[T,e.REGEXP_MODE,{className:"function",begin:De,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:A}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},J,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[U,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},ue,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[U]},be,pe,$,ze,{match:/\$[(.]/}]}}function wD(e){let t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",keywords:{literal:r},contains:[t,n,e.QUOTE_STRING_MODE,i,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var Lo="[0-9](_*[0-9])*",_l=`\\.(${Lo})`,kl="[0-9a-fA-F](_*[0-9a-fA-F])*",_D={className:"number",variants:[{begin:`(\\b(${Lo})((${_l})|\\.)?|(${_l}))[eE][+-]?(${Lo})[fFdD]?\\b`},{begin:`\\b(${Lo})((${_l})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${_l})[fFdD]?\\b`},{begin:`\\b(${Lo})[fFdD]\\b`},{begin:`\\b0[xX]((${kl})\\.?|(${kl})?\\.(${kl}))[pP][+-]?(${Lo})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${kl})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function kD(e){let t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},s={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},a={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[s,i]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,s,i]}]};i.contains.push(a);let c={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},u={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(a,{className:"string"}),"self"]}]},p=_D,h=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),m={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},g=m;return g.variants[1].contains=[m],m.variants[1].contains=[g],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,h,n,r,c,u,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[m,e.C_LINE_COMMENT_MODE,h],relevance:0},e.C_LINE_COMMENT_MODE,h,c,u,a,e.C_NUMBER_MODE]},h]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},c,u]},a,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},p]}}var ED=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),xD=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],SD=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],cv=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],uv=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],AD=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse(),CD=cv.concat(uv);function MD(e){let t=ED(e),n=CD,r="and or not only",i="[\\w-]+",s="("+i+"|@\\{"+i+"\\})",a=[],c=[],u=function(L){return{className:"string",begin:"~?"+L+".*?"+L}},p=function(L,A,U){return{className:L,begin:A,relevance:U}},h={$pattern:/[a-z-]+/,keyword:r,attribute:SD.join(" ")},m={begin:"\\(",end:"\\)",contains:c,keywords:h,relevance:0};c.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,u("'"),u('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,m,p("variable","@@?"+i,10),p("variable","@\\{"+i+"\\}"),p("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);let g=c.concat({begin:/\{/,end:/\}/,contains:a}),b={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(c)},v={begin:s+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+AD.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:c}}]},E={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:h,returnEnd:!0,contains:c,relevance:0}},k={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:g}},T={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:s,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,b,p("keyword","all\\b"),p("variable","@\\{"+i+"\\}"),{begin:"\\b("+xD.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,p("selector-tag",s,0),p("selector-id","#"+s),p("selector-class","\\."+s,0),p("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+cv.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+uv.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:g},{begin:"!important"},t.FUNCTION_DISPATCH]},B={begin:i+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[T]};return a.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,E,k,B,v,T,b,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:a}}function TD(e){let t="\\[=*\\[",n="\\]=*\\]",r={begin:t,end:n,contains:["self"]},i=[e.COMMENT("--(?!"+t+")","$"),e.COMMENT("--"+t,n,{contains:[r],relevance:10})];return{name:"Lua",keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:t,end:n,contains:[r],relevance:5}])}}function OD(e){let t={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[t]},i={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},s={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},a={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[t]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,t,n,r,i,s,a]}}function ND(e){let t=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},a={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},c=/[A-Za-z][A-Za-z0-9+.-]*/,u={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,c,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},p={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},h={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},m=e.inherit(p,{contains:[]}),g=e.inherit(h,{contains:[]});p.contains.push(g),h.contains.push(m);let b=[n,u];return[p,h,m,g].forEach(v=>{v.contains=v.contains.concat(b)}),b=b.concat(p,h),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:b},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:b}]}]},n,s,p,h,{className:"quote",begin:"^>\\s+",contains:b,end:"$"},i,r,u,a]}}function LD(e){let t={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,r={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},i={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:r,illegal:"</",contains:[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+i.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:i,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}function RD(e){let t=e.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:n.join(" ")},s={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},a={begin:/->\{/,end:/\}/},c={variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@][^\s\w{]/,relevance:0}]},u=[e.BACKSLASH_ESCAPE,s,c],p=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],h=(b,v,E="\\1")=>{let k=E==="\\1"?E:t.concat(E,v);return t.concat(t.concat("(?:",b,")"),v,/(?:\\.|[^\\\/])*?/,k,/(?:\\.|[^\\\/])*?/,E,r)},m=(b,v,E)=>t.concat(t.concat("(?:",b,")"),v,/(?:\\.|[^\\\/])*?/,E,r),g=[c,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),a,{className:"string",contains:u,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:h("s|tr|y",t.either(...p,{capture:!0}))},{begin:h("s|tr|y","\\(","\\)")},{begin:h("s|tr|y","\\[","\\]")},{begin:h("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:m("(?:m|qr)?",/\//,/\//)},{begin:m("m|qr",t.either(...p,{capture:!0}),/\1/)},{begin:m("m|qr",/\(/,/\)/)},{begin:m("m|qr",/\[/,/\]/)},{begin:m("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return s.contains=g,a.contains=g,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:g}}function DD(e){let t=e.regex,n=/(?![A-Za-z0-9])(?![$])/,r=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),s={scope:"variable",match:"\\$+"+r},a={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},c={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},u=e.inherit(e.APOS_STRING_MODE,{illegal:null}),p=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(c)}),h={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(c),"on:begin":(be,ue)=>{ue.data._beginMatch=be[1]||be[2]},"on:end":(be,ue)=>{ue.data._beginMatch!==be[1]&&ue.ignoreMatch()}},m=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),g=`[ 	
]`,b={scope:"string",variants:[p,u,h,m]},v={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},E=["false","null","true"],k=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],T=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],B={keyword:k,literal:(be=>{let ue=[];return be.forEach(ze=>{ue.push(ze),ze.toLowerCase()===ze?ue.push(ze.toUpperCase()):ue.push(ze.toLowerCase())}),ue})(E),built_in:T},L=be=>be.map(ue=>ue.replace(/\|\d+$/,"")),A={variants:[{match:[/new/,t.concat(g,"+"),t.concat("(?!",L(T).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},U=t.concat(r,"\\b(?!\\()"),$={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),U],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,t.concat(/::/,t.lookahead(/(?!class\b)/)),U],scope:{1:"title.class",3:"variable.constant"}},{match:[i,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},q={scope:"attr",match:t.concat(r,t.lookahead(":"),t.lookahead(/(?!::)/))},ne={relevance:0,begin:/\(/,end:/\)/,keywords:B,contains:[q,s,$,e.C_BLOCK_COMMENT_MODE,b,v,A]},J={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",L(k).join("\\b|"),"|",L(T).join("\\b|"),"\\b)"),r,t.concat(g,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[ne]};ne.contains.push(J);let pe=[q,$,e.C_BLOCK_COMMENT_MODE,b,v,A],ke={begin:t.concat(/#\[\s*/,i),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:E,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:E,keyword:["new","array"]},contains:["self",...pe]},...pe,{scope:"meta",match:i}]};return{case_insensitive:!1,keywords:B,contains:[ke,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},a,{scope:"variable.language",match:/\$this\b/},s,J,$,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},A,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:B,contains:["self",s,$,e.C_BLOCK_COMMENT_MODE,b,v]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},b,v]}}function ID(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function BD(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function $D(e){let t=e.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],i={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},s={className:"meta",begin:/^(>>>|\.\.\.) /},a={className:"subst",begin:/\{/,end:/\}/,keywords:i,illegal:/#/},c={begin:/\{\{/,relevance:0},u={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,s],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,s],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,s,c,a]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,s,c,a]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,c,a]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,c,a]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},p="[0-9](_?[0-9])*",h=`(\\b(${p}))?\\.(${p})|\\b(${p})\\.`,m=`\\b|${r.join("|")}`,g={className:"number",relevance:0,variants:[{begin:`(\\b(${p})|(${h}))[eE][+-]?(${p})[jJ]?(?=${m})`},{begin:`(${h})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${m})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${m})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${m})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${m})`},{begin:`\\b(${p})[jJ](?=${m})`}]},b={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:i,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},v={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:["self",s,g,u,e.HASH_COMMENT_MODE]}]};return a.contains=[u,g,s],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:i,illegal:/(<\/|\?)|=>/,contains:[s,g,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},u,b,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[v]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[g,v,u]}]}}function HD(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function zD(e){let t=e.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=t.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,s=t.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:t.lookahead(t.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[s,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:s},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function FD(e){let t=e.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=t.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=t.concat(r,/(::\w+)*/),s={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield","include","extend","prepend","public","private","protected","raise","throw"],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},a={className:"doctag",begin:"@[A-Za-z]+"},c={begin:"#<",end:">"},u=[e.COMMENT("#","$",{contains:[a]}),e.COMMENT("^=begin","^=end",{contains:[a],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],p={className:"subst",begin:/#\{/,end:/\}/,keywords:s},h={className:"string",contains:[e.BACKSLASH_ESCAPE,p],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:t.concat(/<<[-~]?'?/,t.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,p]})]}]},m="[1-9](_?[0-9])*|0",g="[0-9](_?[0-9])*",b={className:"number",relevance:0,variants:[{begin:`\\b(${m})(\\.(${g}))?([eE][+-]?(${g})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},v={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:s}]},E=[h,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:s},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:s},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[v]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[h,{begin:n}],relevance:0},b,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:s},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,p],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(c,u),relevance:0}].concat(c,u);p.contains=E,v.contains=E;let k=[{begin:/^\s*=>/,starts:{end:"$",contains:E}},{className:"meta.prompt",begin:"^([>?]>|[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]|(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>)(?=[ ])",starts:{end:"$",keywords:s,contains:E}}];return u.unshift(c),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:s,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(k).concat(u).concat(E)}}function jD(e){let t=e.regex,n={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let\b)/,e.IDENT_RE,t.lookahead(/\s*\(/))},r="([ui](8|16|32|64|128|size)|f(32|64))?",i=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","unsafe","unsized","use","virtual","where","while","yield"],s=["true","false","Some","None","Ok","Err"],a=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],c=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:c,keyword:i,literal:s,built_in:a},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'\\?(x\w{2}|u\w{4}|U\w{8}|.)'/}]},{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*/},{className:"number",variants:[{begin:"\\b0b([01_]+)"+r},{begin:"\\b0o([0-7_]+)"+r},{begin:"\\b0x([A-Fa-f0-9_]+)"+r},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+r}],relevance:0},{begin:[/fn/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,e.UNDERSCORE_IDENT_RE,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:a,type:c}},{className:"punctuation",begin:"->"},n]}}var PD=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),UD=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],KD=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],qD=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],WD=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],VD=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function GD(e){let t=PD(e),n=WD,r=qD,i="@[a-z-]+",s="and or not only",a={className:"variable",begin:"(\\$[a-zA-Z-][a-zA-Z0-9_-]*)\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+UD.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},a,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+VD.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,a,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:KD.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},a,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}}function JD(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function ZD(e){let t=e.regex,n=e.COMMENT("--","$"),r={className:"string",variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},i={begin:/"/,end:/"/,contains:[{begin:/""/}]},s=["true","false","unknown"],a=["double precision","large object","with timezone","without timezone"],c=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],u=["add","asc","collation","desc","final","first","last","view"],p=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],h=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],m=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],g=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],b=h,v=[...p,...u].filter(L=>!h.includes(L)),E={className:"variable",begin:/@[a-z0-9][a-z0-9_]*/},k={className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},T={begin:t.concat(/\b/,t.either(...b),/\s*\(/),relevance:0,keywords:{built_in:b}};function B(L,{exceptions:A,when:U}={}){let $=U;return A=A||[],L.map(q=>q.match(/\|\d+$/)||A.includes(q)?q:$(q)?`${q}|0`:q)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:B(v,{when:L=>L.length<3}),literal:s,type:c,built_in:m},contains:[{begin:t.either(...g),relevance:0,keywords:{$pattern:/[\w\.]+/,keyword:v.concat(g),literal:s,type:c}},{className:"type",begin:t.either(...a)},T,E,r,i,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,k]}}function dv(e){return e?typeof e=="string"?e:e.source:null}function El(e){return lt("(?=",e,")")}function lt(...e){return e.map(t=>dv(t)).join("")}function XD(e){let t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function Cn(...e){return"("+(XD(e).capture?"":"?:")+e.map(t=>dv(t)).join("|")+")"}var fh=e=>lt(/\b/,e,/\w$/.test(e)?/\b/:/\B/),QD=["Protocol","Type"].map(fh),m0=["init","self"].map(fh),YD=["Any","Self"],Rd=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","break","case","catch","class","continue","convenience","default","defer","deinit","didSet","distributed","do","dynamic","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],g0=["false","nil","true"],eI=["assignment","associativity","higherThan","left","lowerThan","none","right"],tI=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warn_unqualified_access","#warning"],b0=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],pv=Cn(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),hv=Cn(pv,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),Dd=lt(pv,hv,"*"),fv=Cn(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),Dc=Cn(fv,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Vr=lt(fv,Dc,"*"),Id=lt(/[A-Z]/,Dc,"*"),nI=["autoclosure",lt(/convention\(/,Cn("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",lt(/objc\(/,Vr,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","testable","UIApplicationMain","unknown","usableFromInline"],rI=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function iI(e){let t={match:/\s+/,relevance:0},n=e.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[e.C_LINE_COMMENT_MODE,n],i={match:[/\./,Cn(...QD,...m0)],className:{2:"keyword"}},s={match:lt(/\./,Cn(...Rd)),relevance:0},a=Rd.filter(Fe=>typeof Fe=="string").concat(["_|0"]),c=Rd.filter(Fe=>typeof Fe!="string").concat(YD).map(fh),u={variants:[{className:"keyword",match:Cn(...c,...m0)}]},p={$pattern:Cn(/\b\w+/,/#\w+/),keyword:a.concat(tI),literal:g0},h=[i,s,u],m={match:lt(/\./,Cn(...b0)),relevance:0},g={className:"built_in",match:lt(/\b/,Cn(...b0),/(?=\()/)},b=[m,g],v={match:/->/,relevance:0},E={className:"operator",relevance:0,variants:[{match:Dd},{match:`\\.(\\.|${hv})+`}]},k=[v,E],T="([0-9]_*)+",B="([0-9a-fA-F]_*)+",L={className:"number",relevance:0,variants:[{match:`\\b(${T})(\\.(${T}))?([eE][+-]?(${T}))?\\b`},{match:`\\b0x(${B})(\\.(${B}))?([pP][+-]?(${T}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},A=(Fe="")=>({className:"subst",variants:[{match:lt(/\\/,Fe,/[0\\tnr"']/)},{match:lt(/\\/,Fe,/u\{[0-9a-fA-F]{1,8}\}/)}]}),U=(Fe="")=>({className:"subst",match:lt(/\\/,Fe,/[\t ]*(?:[\r\n]|\r\n)/)}),$=(Fe="")=>({className:"subst",label:"interpol",begin:lt(/\\/,Fe,/\(/),end:/\)/}),q=(Fe="")=>({begin:lt(Fe,/"""/),end:lt(/"""/,Fe),contains:[A(Fe),U(Fe),$(Fe)]}),ne=(Fe="")=>({begin:lt(Fe,/"/),end:lt(/"/,Fe),contains:[A(Fe),$(Fe)]}),J={className:"string",variants:[q(),q("#"),q("##"),q("###"),ne(),ne("#"),ne("##"),ne("###")]},pe={match:lt(/`/,Vr,/`/)},ke={className:"variable",match:/\$\d+/},be={className:"variable",match:`\\$${Dc}+`},ue=[pe,ke,be],ze={match:/(@|#(un)?)available/,className:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:rI,contains:[...k,L,J]}]}},De={className:"keyword",match:lt(/@/,Cn(...nI))},Oe={className:"meta",match:lt(/@/,Vr)},N=[ze,De,Oe],H={match:El(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:lt(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,Dc,"+")},{className:"type",match:Id,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:lt(/\s+&\s+/,El(Id)),relevance:0}]},re={begin:/</,end:/>/,keywords:p,contains:[...r,...h,...N,v,H]};H.contains.push(re);let se={match:lt(Vr,/\s*:/),keywords:"_|0",relevance:0},he={begin:/\(/,end:/\)/,relevance:0,keywords:p,contains:["self",se,...r,...h,...b,...k,L,J,...ue,...N,H]},Pe={begin:/</,end:/>/,contains:[...r,H]},vt={begin:Cn(El(lt(Vr,/\s*:/)),El(lt(Vr,/\s+/,Vr,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Vr}]},wt={begin:/\(/,end:/\)/,keywords:p,contains:[vt,...r,...h,...k,L,J,...N,H,he],endsParent:!0,illegal:/["']/},Ke={match:[/func/,/\s+/,Cn(pe.match,Vr,Dd)],className:{1:"keyword",3:"title.function"},contains:[Pe,wt,t],illegal:[/\[/,/%/]},it={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[Pe,wt,t],illegal:/\[|%/},sn={match:[/operator/,/\s+/,Dd],className:{1:"keyword",3:"title"}},At={begin:[/precedencegroup/,/\s+/,Id],className:{1:"keyword",3:"title"},contains:[H],keywords:[...eI,...g0],end:/}/};for(let Fe of J.variants){let Zt=Fe.contains.find(Kt=>Kt.label==="interpol");Zt.keywords=p;let Ut=[...h,...b,...k,L,J,...ue];Zt.contains=[...Ut,{begin:/\(/,end:/\)/,contains:["self",...Ut]}]}return{name:"Swift",keywords:p,contains:[...r,Ke,it,{beginKeywords:"struct protocol class extension enum actor",end:"\\{",excludeEnd:!0,keywords:p,contains:[e.inherit(e.TITLE_MODE,{className:"title.class",begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/}),...h]},sn,At,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},...h,...b,...k,L,J,...ue,...N,H,he]}}var Ic="[A-Za-z$_][0-9A-Za-z$_]*",mv=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],gv=["true","false","null","undefined","NaN","Infinity"],bv=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],yv=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],vv=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],wv=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],_v=[].concat(vv,bv,yv);function oI(e){let t=e.regex,n=(N,{after:H})=>{let re="</"+N[0].slice(1);return N.input.indexOf(re,H)!==-1},r=Ic,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(N,H)=>{let re=N[0].length+N.index,se=N.input[re];if(se==="<"||se===","){H.ignoreMatch();return}se===">"&&(n(N,{after:re})||H.ignoreMatch());let he,Pe=N.input.substring(re);if(he=Pe.match(/^\s*=/)){H.ignoreMatch();return}if((he=Pe.match(/^\s+extends\s+/))&&he.index===0){H.ignoreMatch();return}}},c={$pattern:Ic,keyword:mv,literal:gv,built_in:_v,"variable.language":wv},u="[0-9](_?[0-9])*",p=`\\.(${u})`,h="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",m={className:"number",variants:[{begin:`(\\b(${h})((${p})|\\.)?|(${p}))[eE][+-]?(${u})\\b`},{begin:`\\b(${h})\\b((${p})\\b|\\.)?|(${p})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},g={className:"subst",begin:"\\$\\{",end:"\\}",keywords:c,contains:[]},b={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"xml"}},v={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"css"}},E={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"graphql"}},k={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,g]},T={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},B=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,b,v,E,k,{match:/\$\d+/},m];g.contains=B.concat({begin:/\{/,end:/\}/,keywords:c,contains:["self"].concat(B)});let L=[].concat(T,g.contains),A=L.concat([{begin:/\(/,end:/\)/,keywords:c,contains:["self"].concat(L)}]),U={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:A},$={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},q={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...bv,...yv]}},ne={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},J={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[U],illegal:/%/},pe={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function ke(N){return t.concat("(?!",N.join("|"),")")}let be={match:t.concat(/\b/,ke([...vv,"super","import"]),r,t.lookahead(/\(/)),className:"title.function",relevance:0},ue={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},ze={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},U]},De="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",Oe={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(De)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[U]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:c,exports:{PARAMS_CONTAINS:A,CLASS_REFERENCE:q},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),ne,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,b,v,E,k,T,{match:/\$\d+/},m,q,{className:"attr",begin:r+t.lookahead(":"),relevance:0},Oe,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[T,e.REGEXP_MODE,{className:"function",begin:De,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:A}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},J,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[U,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},ue,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[U]},be,pe,$,ze,{match:/\$[(.]/}]}}function sI(e){let t=oI(e),n=Ic,r=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],i={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[t.exports.CLASS_REFERENCE]},s={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:r},contains:[t.exports.CLASS_REFERENCE]},a={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},c=["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"],u={$pattern:Ic,keyword:mv.concat(c),literal:gv,built_in:_v.concat(r),"variable.language":wv},p={className:"meta",begin:"@"+n},h=(g,b,v)=>{let E=g.contains.findIndex(k=>k.label===b);if(E===-1)throw new Error("can not find mode to replace");g.contains.splice(E,1,v)};Object.assign(t.keywords,u),t.exports.PARAMS_CONTAINS.push(p),t.contains=t.contains.concat([p,i,s]),h(t,"shebang",e.SHEBANG()),h(t,"use_strict",a);let m=t.contains.find(g=>g.label==="func.def");return m.relevance=0,Object.assign(t,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),t}function aI(e){let t=e.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,s=/\d{4}-\d{1,2}-\d{1,2}/,a=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,c=/\d{1,2}(:\d{1,2}){1,2}/,u={className:"literal",variants:[{begin:t.concat(/# */,t.either(s,i),/ *#/)},{begin:t.concat(/# */,c,/ *#/)},{begin:t.concat(/# */,a,/ *#/)},{begin:t.concat(/# */,t.either(s,i),/ +/,t.either(a,c),/ *#/)}]},p={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},h={className:"label",begin:/^\w+:/},m=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),g=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,r,u,p,h,m,g,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[g]}]}}function lI(e){e.regex;let t=e.COMMENT(/\(;/,/;\)/);t.contains.push("self");let n=e.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},s={className:"variable",begin:/\$[\w_]+/},a={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},c={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},u={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},p={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[n,t,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},s,a,i,e.QUOTE_STRING_MODE,u,p,c]}}function cI(e){let t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},a=e.inherit(s,{begin:/\(/,end:/\)/}),c=e.inherit(e.APOS_STRING_MODE,{className:"string"}),u=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),p={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,u,c,a,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,a,u,c]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[u]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[p],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[p],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:p}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function uI(e){let t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:"\\w[\\w :\\/.-]*:(?=[ 	]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ 	]|$)'},{begin:"'\\w[\\w :\\/.-]*':(?=[ 	]|$)"}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,i]},a=e.inherit(s,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),c={className:"number",begin:"\\b[0-9]{4}(-[0-9][0-9]){0,2}([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?(\\.[0-9]*)?([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?\\b"},u={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},p={begin:/\{/,end:/\}/,contains:[u],illegal:"\\n",relevance:0},h={begin:"\\[",end:"\\]",contains:[u],illegal:"\\n",relevance:0},m=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},c,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},p,h,s],g=[...m];return g.pop(),g.push(a),u.contains=g,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:m}}var dI=Cp(vS()),gr=dI.default,pI=Cp(wS()),jl=Object.assign($i(Error),{eval:$i(EvalError),range:$i(RangeError),reference:$i(ReferenceError),syntax:$i(SyntaxError),type:$i(TypeError),uri:$i(URIError)});function $i(e){return t.displayName=e.displayName||e.name,t;function t(n,...r){let i=n&&(0,pI.default)(n,...r);return new e(i)}}var hI={}.hasOwnProperty,fI="hljs-";function kv(e,t,n={}){let r=n.prefix;if(typeof e!="string")throw jl("Expected `string` for name, got `%s`",e);if(!gr.getLanguage(e))throw jl("Unknown language: `%s` is not registered",e);if(typeof t!="string")throw jl("Expected `string` for value, got `%s`",t);r==null&&(r=fI),gr.configure({__emitter:wI,classPrefix:r});let i=gr.highlight(t,{language:e,ignoreIllegals:!0});if(gr.configure({}),i.errorRaised)throw i.errorRaised;return i._emitter.root.data.language=i.language,i._emitter.root.data.relevance=i.relevance,i._emitter.root}function mI(e,t={}){let n=t.subset||gr.listLanguages();t.prefix;let r=-1,i={type:"root",data:{language:null,relevance:0},children:[]};if(typeof e!="string")throw jl("Expected `string` for value, got `%s`",e);for(;++r<n.length;){let s=n[r];if(!gr.getLanguage(s))continue;let a=kv(s,e,t);a.data.relevance>i.data.relevance&&(i=a)}return i}function gI(e,t){gr.registerLanguage(e,t)}var bI=function(e,t){if(typeof e=="string")gr.registerAliases(t,{languageName:e});else{let n;for(n in e)hI.call(e,n)&&gr.registerAliases(e[n],{languageName:n})}};function yI(e){return!!gr.getLanguage(e)}function vI(){return gr.listLanguages()}var wI=class{constructor(e){this.options=e,this.root={type:"root",data:{language:null,relevance:0},children:[]},this.stack=[this.root]}addText(e){if(e==="")return;let t=this.stack[this.stack.length-1],n=t.children[t.children.length-1];n&&n.type==="text"?n.value+=e:t.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,t){let n=this.stack[this.stack.length-1],r=e.root.children;t?n.children.push({type:"element",tagName:"span",properties:{className:[t]},children:r}):n.children.push(...r)}openNode(e){let t=e.split(".").map((i,s)=>s?i+"_".repeat(s):this.options.classPrefix+i),n=this.stack[this.stack.length-1],r={type:"element",tagName:"span",properties:{className:t},children:[]};n.children.push(r),this.stack.push(r)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}},Ue={highlight:kv,highlightAuto:mI,registerLanguage:gI,registered:yI,listLanguages:vI,registerAlias:bI};Ue.registerLanguage("arduino",Q2);Ue.registerLanguage("bash",Y2);Ue.registerLanguage("c",eD);Ue.registerLanguage("cpp",tD);Ue.registerLanguage("csharp",nD);Ue.registerLanguage("css",cD);Ue.registerLanguage("diff",uD);Ue.registerLanguage("go",dD);Ue.registerLanguage("graphql",pD);Ue.registerLanguage("ini",hD);Ue.registerLanguage("java",fD);Ue.registerLanguage("javascript",vD);Ue.registerLanguage("json",wD);Ue.registerLanguage("kotlin",kD);Ue.registerLanguage("less",MD);Ue.registerLanguage("lua",TD);Ue.registerLanguage("makefile",OD);Ue.registerLanguage("markdown",ND);Ue.registerLanguage("objectivec",LD);Ue.registerLanguage("perl",RD);Ue.registerLanguage("php",DD);Ue.registerLanguage("php-template",ID);Ue.registerLanguage("plaintext",BD);Ue.registerLanguage("python",$D);Ue.registerLanguage("python-repl",HD);Ue.registerLanguage("r",zD);Ue.registerLanguage("ruby",FD);Ue.registerLanguage("rust",jD);Ue.registerLanguage("scss",GD);Ue.registerLanguage("shell",JD);Ue.registerLanguage("sql",ZD);Ue.registerLanguage("swift",iI);Ue.registerLanguage("typescript",sI);Ue.registerLanguage("vbnet",aI);Ue.registerLanguage("wasm",lI);Ue.registerLanguage("xml",cI);Ue.registerLanguage("yaml",uI);var Xs=(e,t=0,n=1)=>e>n?n:e<t?t:e,nn=(e,t=0,n=Math.pow(10,t))=>Math.round(n*e)/n,_I=e=>AI(Ep(e)),Ep=e=>(e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?nn(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?nn(parseInt(e.substring(6,8),16)/255,2):1}),kI=e=>SI(xI(e)),EI=({h:e,s:t,v:n,a:r})=>{let i=(200-t)*n/100;return{h:nn(e),s:nn(i>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0),l:nn(i/2),a:nn(r,2)}},xp=e=>{let{h:t,s:n,l:r}=EI(e);return`hsl(${t}, ${n}%, ${r}%)`},xI=({h:e,s:t,v:n,a:r})=>{e=e/360*6,t=t/100,n=n/100;let i=Math.floor(e),s=n*(1-t),a=n*(1-(e-i)*t),c=n*(1-(1-e+i)*t),u=i%6;return{r:nn([n,a,s,s,c,n][u]*255),g:nn([c,n,n,a,s,s][u]*255),b:nn([s,s,c,n,n,a][u]*255),a:nn(r,2)}},xl=e=>{let t=e.toString(16);return t.length<2?"0"+t:t},SI=({r:e,g:t,b:n,a:r})=>{let i=r<1?xl(nn(r*255)):"";return"#"+xl(e)+xl(t)+xl(n)+i},AI=({r:e,g:t,b:n,a:r})=>{let i=Math.max(e,t,n),s=i-Math.min(e,t,n),a=s?i===e?(t-n)/s:i===t?2+(n-e)/s:4+(e-t)/s:0;return{h:nn(60*(a<0?a+6:a)),s:nn(i?s/i*100:0),v:nn(i/255*100),a:r}},Ev=(e,t)=>{if(e===t)return!0;for(let n in e)if(e[n]!==t[n])return!1;return!0},CI=(e,t)=>e.toLowerCase()===t.toLowerCase()?!0:Ev(Ep(e),Ep(t)),y0={},xv=e=>{let t=y0[e];return t||(t=document.createElement("template"),t.innerHTML=e,y0[e]=t),t},mh=(e,t,n)=>{e.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:n}))},Bo=!1,Sp=e=>"touches"in e,MI=e=>Bo&&!Sp(e)?!1:(Bo||(Bo=Sp(e)),!0),v0=(e,t)=>{let n=Sp(t)?t.touches[0]:t,r=e.el.getBoundingClientRect();mh(e.el,"move",e.getMove({x:Xs((n.pageX-(r.left+window.pageXOffset))/r.width),y:Xs((n.pageY-(r.top+window.pageYOffset))/r.height)}))},TI=(e,t)=>{let n=t.keyCode;n>40||e.xy&&n<37||n<33||(t.preventDefault(),mh(e.el,"move",e.getMove({x:n===39?.01:n===37?-.01:n===34?.05:n===33?-.05:n===35?1:n===36?-1:0,y:n===40?.01:n===38?-.01:0},!0)))},Sv=class{constructor(e,t,n,r){let i=xv(`<div role="slider" tabindex="0" part="${t}" ${n}><div part="${t}-pointer"></div></div>`);e.appendChild(i.content.cloneNode(!0));let s=e.querySelector(`[part=${t}]`);s.addEventListener("mousedown",this),s.addEventListener("touchstart",this),s.addEventListener("keydown",this),this.el=s,this.xy=r,this.nodes=[s.firstChild,s]}set dragging(e){let t=e?document.addEventListener:document.removeEventListener;t(Bo?"touchmove":"mousemove",this),t(Bo?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!MI(e)||!Bo&&e.button!=0)return;this.el.focus(),v0(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),v0(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":TI(this,e);break}}style(e){e.forEach((t,n)=>{for(let r in t)this.nodes[n].style.setProperty(r,t[r])})}},OI=class extends Sv{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:`${e/360*100}%`,color:xp({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${nn(e)}`)}getMove(e,t){return{h:t?Xs(this.h+e.x*360,0,360):360*e.x}}},NI=class extends Sv{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:`${100-e.v}%`,left:`${e.s}%`,color:xp(e)},{"background-color":xp({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${nn(e.s)}%, Brightness ${nn(e.v)}%`)}getMove(e,t){return{s:t?Xs(this.hsva.s+e.x*100,0,100):e.x*100,v:t?Xs(this.hsva.v-e.y*100,0,100):Math.round(100-e.y*100)}}},LI=':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',RI="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",DI="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",Sl=Symbol("same"),Bd=Symbol("color"),w0=Symbol("hsva"),$d=Symbol("update"),_0=Symbol("parts"),k0=Symbol("css"),E0=Symbol("sliders"),II=class extends HTMLElement{static get observedAttributes(){return["color"]}get[k0](){return[LI,RI,DI]}get[E0](){return[NI,OI]}get color(){return this[Bd]}set color(e){if(!this[Sl](e)){let t=this.colorModel.toHsva(e);this[$d](t),this[Bd]=e}}constructor(){super();let e=xv(`<style>${this[k0].join("")}</style>`),t=this.attachShadow({mode:"open"});t.appendChild(e.content.cloneNode(!0)),t.addEventListener("move",this),this[_0]=this[E0].map(n=>new n(t))}connectedCallback(){if(this.hasOwnProperty("color")){let e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,t,n){let r=this.colorModel.fromAttr(n);this[Sl](r)||(this.color=r)}handleEvent(e){let t=this[w0],n={...t,...e.detail};this[$d](n);let r;!Ev(n,t)&&!this[Sl](r=this.colorModel.fromHsva(n))&&(this[Bd]=r,mh(this,"color-changed",{value:r}))}[Sl](e){return this.color&&this.colorModel.equal(e,this.color)}[$d](e){this[w0]=e,this[_0].forEach(t=>t.update(e))}},BI={defaultColor:"#000",toHsva:_I,fromHsva:({h:e,s:t,v:n})=>kI({h:e,s:t,v:n,a:1}),equal:CI,fromAttr:e=>e},$I=class extends II{get colorModel(){return BI}};Cp(_S());customElements.define("tiptap-hex-color-picker",$I);var HI={blockquote:[pT],bold:[bT],"bullet-list":[vT],"checked-list":[GL],code:[kT],"code-block":[j2.configure({lowlight:Ue,HTMLAttributes:{class:"hljs"}})],color:[ET],details:[IR,BR,$R],grid:[MR,TR],"grid-builder":[q2,W2],heading:[DT.configure({levels:[1,2,3,4,5,6]})],highlight:[fN],hr:[KT],hurdle:[P2],italic:[JT],lead:[JL],link:[wR.configure({openOnClick:!1,autolink:!1,HTMLAttributes:{rel:null,hreflang:null,class:null}})],media:[ER.configure({inline:!0})],oembed:[NR,RR,DR],"ordered-list":[XT],small:[xR],strike:[tO],subscript:[nO],superscript:[rO],table:[aN.configure({resizable:!0}),cN,lN,uN],underline:[dN]},zI=window.TiptapEditorExtensions||{};({...HI,...zI});var Al=document.getElementById("activeLocale");Al&&Al.addEventListener("change",()=>{let e=new CustomEvent("locale-change",{bubbles:!0,detail:{locale:Al.value}});Al.dispatchEvent(e)});document.addEventListener("livewire:navigating",()=>{window.filamentTiptapEditors={}});document.addEventListener("dblclick",function(e){(e.target&&(e.target.hasAttribute("data-youtube-video")||e.target.hasAttribute("data-vimeo-video"))||e.target.hasAttribute("data-native-video"))&&(e.target.firstChild.style.pointerEvents="all")});/*! Bundled license information:

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
